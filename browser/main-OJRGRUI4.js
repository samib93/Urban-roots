import{$ as D,$a as k,A as xl,Aa as Wi,Ab as rc,B as ve,Ba as ne,Bb as Xn,C as Sl,Ca as G,Cb as Yn,D as Ge,Da as Rs,Db as sc,E as Bt,Ea as Vl,Eb as oc,F as Pl,Fa as $n,Fb as ye,G as Ps,Ga as Gi,Gb as ac,H as At,Ha as Ns,Hb as Qn,I as Tl,Ia as Ue,Ib as er,J as Hn,Ja as jl,K as hi,Ka as qi,L as qe,La as zl,M as Ts,Ma as Bl,N as El,Na as Zl,O as Ml,Oa as Wn,P as Il,Pa as Gt,Q as Fe,Qa as Fs,R as Al,Ra as Me,S as pe,Sa as Hl,T as ae,Ta as di,U as Es,Ua as T,V,Va as P,W as Zt,Wa as te,X as kl,Xa as Us,Y as ee,Ya as je,Z as Ms,Za as $l,_ as F,_a as Wl,a as M,aa as Zi,ab as wt,b as he,ba as kt,bb as qt,ca as me,cb as Gl,d as wd,da as Ht,db as ql,e as ml,ea as gt,eb as Kl,f as Mt,fa as vt,fb as Jl,g as gl,ga as Dl,gb as Vs,h as vl,ha as ui,hb as ge,i as Zn,ia as _t,ib as Xl,j as Cs,ja as Hi,jb as Yl,k as xs,ka as Is,kb as Ql,l as Ye,la as As,lb as Gn,m as Re,ma as $t,mb as qn,n as It,na as Ll,nb as js,o as Ce,oa as ks,ob as Kn,p as A,pa as Ds,pb as zs,q as mt,qa as $i,qb as ec,r as _l,ra as yt,rb as bt,s as yl,sa as Ol,sb as tc,t as wl,ta as Ls,tb as fi,u as W,ua as Rl,ub as pi,v as Bi,va as Wt,vb as ic,w as Ne,wa as Nl,wb as nc,x as bl,xa as Os,xb as Pe,y as Ss,ya as Fl,yb as Bs,z as Cl,za as Ul,zb as Jn}from"./chunk-TJ6HVSRL.js";var Bo=wd((Mr,ch)=>{"use strict";(function(r,t){typeof Mr=="object"&&typeof ch<"u"?t(Mr):typeof define=="function"&&define.amd?define(["exports"],t):(r=typeof globalThis<"u"?globalThis:r||self,t(r.leaflet={}))})(Mr,function(r){"use strict";var t="1.9.4";function a(e){var i,o,l,u;for(o=1,l=arguments.length;o<l;o++){u=arguments[o];for(i in u)e[i]=u[i]}return e}var n=Object.create||function(){function e(){}return function(i){return e.prototype=i,new e}}();function s(e,i){var o=Array.prototype.slice;if(e.bind)return e.bind.apply(e,o.call(arguments,1));var l=o.call(arguments,2);return function(){return e.apply(i,l.length?l.concat(o.call(arguments)):arguments)}}var c=0;function h(e){return"_leaflet_id"in e||(e._leaflet_id=++c),e._leaflet_id}function d(e,i,o){var l,u,f,g;return g=function(){l=!1,u&&(f.apply(o,u),u=!1)},f=function(){l?u=arguments:(e.apply(o,arguments),setTimeout(g,i),l=!0)},f}function m(e,i,o){var l=i[1],u=i[0],f=l-u;return e===l&&o?e:((e-u)%f+f)%f+u}function p(){return!1}function w(e,i){if(i===!1)return e;var o=Math.pow(10,i===void 0?6:i);return Math.round(e*o)/o}function x(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function y(e){return x(e).split(/\s+/)}function C(e,i){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?n(e.options):{});for(var o in i)e.options[o]=i[o];return e.options}function E(e,i,o){var l=[];for(var u in e)l.push(encodeURIComponent(o?u.toUpperCase():u)+"="+encodeURIComponent(e[u]));return(!i||i.indexOf("?")===-1?"?":"&")+l.join("&")}var Y=/\{ *([\w_ -]+) *\}/g;function N(e,i){return e.replace(Y,function(o,l){var u=i[l];if(u===void 0)throw new Error("No value provided for variable "+o);return typeof u=="function"&&(u=u(i)),u})}var R=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function we(e,i){for(var o=0;o<e.length;o++)if(e[o]===i)return o;return-1}var H="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function re(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var lt=0;function ei(e){var i=+new Date,o=Math.max(0,16-(i-lt));return lt=i+o,window.setTimeout(e,o)}var St=window.requestAnimationFrame||re("RequestAnimationFrame")||ei,na=window.cancelAnimationFrame||re("CancelAnimationFrame")||re("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function ke(e,i,o){if(o&&St===ei)e.call(i);else return St.call(window,s(e,i))}function Ze(e){e&&na.call(window,e)}var qh={__proto__:null,extend:a,create:n,bind:s,get lastId(){return c},stamp:h,throttle:d,wrapNum:m,falseFn:p,formatNum:w,trim:x,splitWords:y,setOptions:C,getParamString:E,template:N,isArray:R,indexOf:we,emptyImageUrl:H,requestFn:St,cancelFn:na,requestAnimFrame:ke,cancelAnimFrame:Ze};function ct(){}ct.extend=function(e){var i=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=i.__super__=this.prototype,l=n(o);l.constructor=i,i.prototype=l;for(var u in this)Object.prototype.hasOwnProperty.call(this,u)&&u!=="prototype"&&u!=="__super__"&&(i[u]=this[u]);return e.statics&&a(i,e.statics),e.includes&&(Kh(e.includes),a.apply(null,[l].concat(e.includes))),a(l,e),delete l.statics,delete l.includes,l.options&&(l.options=o.options?n(o.options):{},a(l.options,e.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var f=0,g=l._initHooks.length;f<g;f++)l._initHooks[f].call(this)}},i},ct.include=function(e){var i=this.prototype.options;return a(this.prototype,e),e.options&&(this.prototype.options=i,this.mergeOptions(e.options)),this},ct.mergeOptions=function(e){return a(this.prototype.options,e),this},ct.addInitHook=function(e){var i=Array.prototype.slice.call(arguments,1),o=typeof e=="function"?e:function(){this[e].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};function Kh(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=R(e)?e:[e];for(var i=0;i<e.length;i++)e[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ve={on:function(e,i,o){if(typeof e=="object")for(var l in e)this._on(l,e[l],i);else{e=y(e);for(var u=0,f=e.length;u<f;u++)this._on(e[u],i,o)}return this},off:function(e,i,o){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var l in e)this._off(l,e[l],i);else{e=y(e);for(var u=arguments.length===1,f=0,g=e.length;f<g;f++)u?this._off(e[f]):this._off(e[f],i,o)}return this},_on:function(e,i,o,l){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(e,i,o)===!1){o===this&&(o=void 0);var u={fn:i,ctx:o};l&&(u.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(u)}},_off:function(e,i,o){var l,u,f;if(this._events&&(l=this._events[e],!!l)){if(arguments.length===1){if(this._firingCount)for(u=0,f=l.length;u<f;u++)l[u].fn=p;delete this._events[e];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var g=this._listens(e,i,o);if(g!==!1){var v=l[g];this._firingCount&&(v.fn=p,this._events[e]=l=l.slice()),l.splice(g,1)}}},fire:function(e,i,o){if(!this.listens(e,o))return this;var l=a({},i,{type:e,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var u=this._events[e];if(u){this._firingCount=this._firingCount+1||1;for(var f=0,g=u.length;f<g;f++){var v=u[f],_=v.fn;v.once&&this.off(e,_,v.ctx),_.call(v.ctx||this,l)}this._firingCount--}}return o&&this._propagateEvent(l),this},listens:function(e,i,o,l){typeof e!="string"&&console.warn('"string" type argument expected');var u=i;typeof i!="function"&&(l=!!i,u=void 0,o=void 0);var f=this._events&&this._events[e];if(f&&f.length&&this._listens(e,u,o)!==!1)return!0;if(l){for(var g in this._eventParents)if(this._eventParents[g].listens(e,i,o,l))return!0}return!1},_listens:function(e,i,o){if(!this._events)return!1;var l=this._events[e]||[];if(!i)return!!l.length;o===this&&(o=void 0);for(var u=0,f=l.length;u<f;u++)if(l[u].fn===i&&l[u].ctx===o)return u;return!1},once:function(e,i,o){if(typeof e=="object")for(var l in e)this._on(l,e[l],i,!0);else{e=y(e);for(var u=0,f=e.length;u<f;u++)this._on(e[u],i,o,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[h(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[h(e)],this},_propagateEvent:function(e){for(var i in this._eventParents)this._eventParents[i].fire(e.type,a({layer:e.target,propagatedFrom:e.target},e),!0)}};Ve.addEventListener=Ve.on,Ve.removeEventListener=Ve.clearAllEventListeners=Ve.off,Ve.addOneTimeEventListener=Ve.once,Ve.fireEvent=Ve.fire,Ve.hasEventListeners=Ve.listens;var Ei=ct.extend(Ve);function j(e,i,o){this.x=o?Math.round(e):e,this.y=o?Math.round(i):i}var ra=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};j.prototype={clone:function(){return new j(this.x,this.y)},add:function(e){return this.clone()._add(U(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(U(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new j(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new j(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ra(this.x),this.y=ra(this.y),this},distanceTo:function(e){e=U(e);var i=e.x-this.x,o=e.y-this.y;return Math.sqrt(i*i+o*o)},equals:function(e){return e=U(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=U(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function U(e,i,o){return e instanceof j?e:R(e)?new j(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new j(e.x,e.y):new j(e,i,o)}function se(e,i){if(e)for(var o=i?[e,i]:e,l=0,u=o.length;l<u;l++)this.extend(o[l])}se.prototype={extend:function(e){var i,o;if(!e)return this;if(e instanceof j||typeof e[0]=="number"||"x"in e)i=o=U(e);else if(e=De(e),i=e.min,o=e.max,!i||!o)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=o.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)),this},getCenter:function(e){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var i,o;return typeof e[0]=="number"||e instanceof j?e=U(e):e=De(e),e instanceof se?(i=e.min,o=e.max):i=o=e,i.x>=this.min.x&&o.x<=this.max.x&&i.y>=this.min.y&&o.y<=this.max.y},intersects:function(e){e=De(e);var i=this.min,o=this.max,l=e.min,u=e.max,f=u.x>=i.x&&l.x<=o.x,g=u.y>=i.y&&l.y<=o.y;return f&&g},overlaps:function(e){e=De(e);var i=this.min,o=this.max,l=e.min,u=e.max,f=u.x>i.x&&l.x<o.x,g=u.y>i.y&&l.y<o.y;return f&&g},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var i=this.min,o=this.max,l=Math.abs(i.x-o.x)*e,u=Math.abs(i.y-o.y)*e;return De(U(i.x-l,i.y-u),U(o.x+l,o.y+u))},equals:function(e){return e?(e=De(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function De(e,i){return!e||e instanceof se?e:new se(e,i)}function Le(e,i){if(e)for(var o=i?[e,i]:e,l=0,u=o.length;l<u;l++)this.extend(o[l])}Le.prototype={extend:function(e){var i=this._southWest,o=this._northEast,l,u;if(e instanceof Q)l=e,u=e;else if(e instanceof Le){if(l=e._southWest,u=e._northEast,!l||!u)return this}else return e?this.extend(q(e)||ue(e)):this;return!i&&!o?(this._southWest=new Q(l.lat,l.lng),this._northEast=new Q(u.lat,u.lng)):(i.lat=Math.min(l.lat,i.lat),i.lng=Math.min(l.lng,i.lng),o.lat=Math.max(u.lat,o.lat),o.lng=Math.max(u.lng,o.lng)),this},pad:function(e){var i=this._southWest,o=this._northEast,l=Math.abs(i.lat-o.lat)*e,u=Math.abs(i.lng-o.lng)*e;return new Le(new Q(i.lat-l,i.lng-u),new Q(o.lat+l,o.lng+u))},getCenter:function(){return new Q((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Q(this.getNorth(),this.getWest())},getSouthEast:function(){return new Q(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof Q||"lat"in e?e=q(e):e=ue(e);var i=this._southWest,o=this._northEast,l,u;return e instanceof Le?(l=e.getSouthWest(),u=e.getNorthEast()):l=u=e,l.lat>=i.lat&&u.lat<=o.lat&&l.lng>=i.lng&&u.lng<=o.lng},intersects:function(e){e=ue(e);var i=this._southWest,o=this._northEast,l=e.getSouthWest(),u=e.getNorthEast(),f=u.lat>=i.lat&&l.lat<=o.lat,g=u.lng>=i.lng&&l.lng<=o.lng;return f&&g},overlaps:function(e){e=ue(e);var i=this._southWest,o=this._northEast,l=e.getSouthWest(),u=e.getNorthEast(),f=u.lat>i.lat&&l.lat<o.lat,g=u.lng>i.lng&&l.lng<o.lng;return f&&g},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,i){return e?(e=ue(e),this._southWest.equals(e.getSouthWest(),i)&&this._northEast.equals(e.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ue(e,i){return e instanceof Le?e:new Le(e,i)}function Q(e,i,o){if(isNaN(e)||isNaN(i))throw new Error("Invalid LatLng object: ("+e+", "+i+")");this.lat=+e,this.lng=+i,o!==void 0&&(this.alt=+o)}Q.prototype={equals:function(e,i){if(!e)return!1;e=q(e);var o=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return o<=(i===void 0?1e-9:i)},toString:function(e){return"LatLng("+w(this.lat,e)+", "+w(this.lng,e)+")"},distanceTo:function(e){return Pt.distance(this,q(e))},wrap:function(){return Pt.wrapLatLng(this)},toBounds:function(e){var i=180*e/40075017,o=i/Math.cos(Math.PI/180*this.lat);return ue([this.lat-i,this.lng-o],[this.lat+i,this.lng+o])},clone:function(){return new Q(this.lat,this.lng,this.alt)}};function q(e,i,o){return e instanceof Q?e:R(e)&&typeof e[0]!="object"?e.length===3?new Q(e[0],e[1],e[2]):e.length===2?new Q(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new Q(e.lat,"lng"in e?e.lng:e.lon,e.alt):i===void 0?null:new Q(e,i,o)}var ht={latLngToPoint:function(e,i){var o=this.projection.project(e),l=this.scale(i);return this.transformation._transform(o,l)},pointToLatLng:function(e,i){var o=this.scale(i),l=this.transformation.untransform(e,o);return this.projection.unproject(l)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var i=this.projection.bounds,o=this.scale(e),l=this.transformation.transform(i.min,o),u=this.transformation.transform(i.max,o);return new se(l,u)},infinite:!1,wrapLatLng:function(e){var i=this.wrapLng?m(e.lng,this.wrapLng,!0):e.lng,o=this.wrapLat?m(e.lat,this.wrapLat,!0):e.lat,l=e.alt;return new Q(o,i,l)},wrapLatLngBounds:function(e){var i=e.getCenter(),o=this.wrapLatLng(i),l=i.lat-o.lat,u=i.lng-o.lng;if(l===0&&u===0)return e;var f=e.getSouthWest(),g=e.getNorthEast(),v=new Q(f.lat-l,f.lng-u),_=new Q(g.lat-l,g.lng-u);return new Le(v,_)}},Pt=a({},ht,{wrapLng:[-180,180],R:6371e3,distance:function(e,i){var o=Math.PI/180,l=e.lat*o,u=i.lat*o,f=Math.sin((i.lat-e.lat)*o/2),g=Math.sin((i.lng-e.lng)*o/2),v=f*f+Math.cos(l)*Math.cos(u)*g*g,_=2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v));return this.R*_}}),sa=6378137,Br={R:sa,MAX_LATITUDE:85.0511287798,project:function(e){var i=Math.PI/180,o=this.MAX_LATITUDE,l=Math.max(Math.min(o,e.lat),-o),u=Math.sin(l*i);return new j(this.R*e.lng*i,this.R*Math.log((1+u)/(1-u))/2)},unproject:function(e){var i=180/Math.PI;return new Q((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*i,e.x*i/this.R)},bounds:function(){var e=sa*Math.PI;return new se([-e,-e],[e,e])}()};function Zr(e,i,o,l){if(R(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=i,this._c=o,this._d=l}Zr.prototype={transform:function(e,i){return this._transform(e.clone(),i)},_transform:function(e,i){return i=i||1,e.x=i*(this._a*e.x+this._b),e.y=i*(this._c*e.y+this._d),e},untransform:function(e,i){return i=i||1,new j((e.x/i-this._b)/this._a,(e.y/i-this._d)/this._c)}};function Mi(e,i,o,l){return new Zr(e,i,o,l)}var Hr=a({},Pt,{code:"EPSG:3857",projection:Br,transformation:function(){var e=.5/(Math.PI*Br.R);return Mi(e,.5,-e,.5)}()}),Jh=a({},Hr,{code:"EPSG:900913"});function oa(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function aa(e,i){var o="",l,u,f,g,v,_;for(l=0,f=e.length;l<f;l++){for(v=e[l],u=0,g=v.length;u<g;u++)_=v[u],o+=(u?"L":"M")+_.x+" "+_.y;o+=i?I.svg?"z":"x":""}return o||"M0 0"}var $r=document.documentElement.style,Sn="ActiveXObject"in window,Xh=Sn&&!document.addEventListener,la="msLaunchUri"in navigator&&!("documentMode"in document),Wr=et("webkit"),ca=et("android"),ha=et("android 2")||et("android 3"),Yh=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Qh=ca&&et("Google")&&Yh<537&&!("AudioNode"in window),Gr=!!window.opera,ua=!la&&et("chrome"),da=et("gecko")&&!Wr&&!Gr&&!Sn,eu=!ua&&et("safari"),fa=et("phantom"),pa="OTransition"in $r,tu=navigator.platform.indexOf("Win")===0,ma=Sn&&"transition"in $r,qr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ha,ga="MozPerspective"in $r,iu=!window.L_DISABLE_3D&&(ma||qr||ga)&&!pa&&!fa,Ii=typeof orientation<"u"||et("mobile"),nu=Ii&&Wr,ru=Ii&&qr,va=!window.PointerEvent&&window.MSPointerEvent,_a=!!(window.PointerEvent||va),ya="ontouchstart"in window||!!window.TouchEvent,su=!window.L_NO_TOUCH&&(ya||_a),ou=Ii&&Gr,au=Ii&&da,lu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,cu=function(){var e=!1;try{var i=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",p,i),window.removeEventListener("testPassiveEventSupport",p,i)}catch{}return e}(),hu=function(){return!!document.createElement("canvas").getContext}(),Kr=!!(document.createElementNS&&oa("svg").createSVGRect),uu=!!Kr&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),du=!Kr&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var i=e.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),fu=navigator.platform.indexOf("Mac")===0,pu=navigator.platform.indexOf("Linux")===0;function et(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var I={ie:Sn,ielt9:Xh,edge:la,webkit:Wr,android:ca,android23:ha,androidStock:Qh,opera:Gr,chrome:ua,gecko:da,safari:eu,phantom:fa,opera12:pa,win:tu,ie3d:ma,webkit3d:qr,gecko3d:ga,any3d:iu,mobile:Ii,mobileWebkit:nu,mobileWebkit3d:ru,msPointer:va,pointer:_a,touch:su,touchNative:ya,mobileOpera:ou,mobileGecko:au,retina:lu,passiveEvents:cu,canvas:hu,svg:Kr,vml:du,inlineSvg:uu,mac:fu,linux:pu},wa=I.msPointer?"MSPointerDown":"pointerdown",ba=I.msPointer?"MSPointerMove":"pointermove",Ca=I.msPointer?"MSPointerUp":"pointerup",xa=I.msPointer?"MSPointerCancel":"pointercancel",Jr={touchstart:wa,touchmove:ba,touchend:Ca,touchcancel:xa},Sa={touchstart:wu,touchmove:Pn,touchend:Pn,touchcancel:Pn},ti={},Pa=!1;function mu(e,i,o){return i==="touchstart"&&yu(),Sa[i]?(o=Sa[i].bind(this,o),e.addEventListener(Jr[i],o,!1),o):(console.warn("wrong event specified:",i),p)}function gu(e,i,o){if(!Jr[i]){console.warn("wrong event specified:",i);return}e.removeEventListener(Jr[i],o,!1)}function vu(e){ti[e.pointerId]=e}function _u(e){ti[e.pointerId]&&(ti[e.pointerId]=e)}function Ta(e){delete ti[e.pointerId]}function yu(){Pa||(document.addEventListener(wa,vu,!0),document.addEventListener(ba,_u,!0),document.addEventListener(Ca,Ta,!0),document.addEventListener(xa,Ta,!0),Pa=!0)}function Pn(e,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var o in ti)i.touches.push(ti[o]);i.changedTouches=[i],e(i)}}function wu(e,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&be(i),Pn(e,i)}function bu(e){var i={},o,l;for(l in e)o=e[l],i[l]=o&&o.bind?o.bind(e):o;return e=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var Cu=200;function xu(e,i){e.addEventListener("dblclick",i);var o=0,l;function u(f){if(f.detail!==1){l=f.detail;return}if(!(f.pointerType==="mouse"||f.sourceCapabilities&&!f.sourceCapabilities.firesTouchEvents)){var g=ka(f);if(!(g.some(function(_){return _ instanceof HTMLLabelElement&&_.attributes.for})&&!g.some(function(_){return _ instanceof HTMLInputElement||_ instanceof HTMLSelectElement}))){var v=Date.now();v-o<=Cu?(l++,l===2&&i(bu(f))):l=1,o=v}}}return e.addEventListener("click",u),{dblclick:i,simDblclick:u}}function Su(e,i){e.removeEventListener("dblclick",i.dblclick),e.removeEventListener("click",i.simDblclick)}var Xr=Mn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ai=Mn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ea=Ai==="webkitTransition"||Ai==="OTransition"?Ai+"End":"transitionend";function Ma(e){return typeof e=="string"?document.getElementById(e):e}function ki(e,i){var o=e.style[i]||e.currentStyle&&e.currentStyle[i];if((!o||o==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(e,null);o=l?l[i]:null}return o==="auto"?null:o}function J(e,i,o){var l=document.createElement(e);return l.className=i||"",o&&o.appendChild(l),l}function oe(e){var i=e.parentNode;i&&i.removeChild(e)}function Tn(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function ii(e){var i=e.parentNode;i&&i.lastChild!==e&&i.appendChild(e)}function ni(e){var i=e.parentNode;i&&i.firstChild!==e&&i.insertBefore(e,i.firstChild)}function Yr(e,i){if(e.classList!==void 0)return e.classList.contains(i);var o=En(e);return o.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(o)}function Z(e,i){if(e.classList!==void 0)for(var o=y(i),l=0,u=o.length;l<u;l++)e.classList.add(o[l]);else if(!Yr(e,i)){var f=En(e);Qr(e,(f?f+" ":"")+i)}}function ce(e,i){e.classList!==void 0?e.classList.remove(i):Qr(e,x((" "+En(e)+" ").replace(" "+i+" "," ")))}function Qr(e,i){e.className.baseVal===void 0?e.className=i:e.className.baseVal=i}function En(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function He(e,i){"opacity"in e.style?e.style.opacity=i:"filter"in e.style&&Pu(e,i)}function Pu(e,i){var o=!1,l="DXImageTransform.Microsoft.Alpha";try{o=e.filters.item(l)}catch{if(i===1)return}i=Math.round(i*100),o?(o.Enabled=i!==100,o.Opacity=i):e.style.filter+=" progid:"+l+"(opacity="+i+")"}function Mn(e){for(var i=document.documentElement.style,o=0;o<e.length;o++)if(e[o]in i)return e[o];return!1}function Ft(e,i,o){var l=i||new j(0,0);e.style[Xr]=(I.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(o?" scale("+o+")":"")}function de(e,i){e._leaflet_pos=i,I.any3d?Ft(e,i):(e.style.left=i.x+"px",e.style.top=i.y+"px")}function Ut(e){return e._leaflet_pos||new j(0,0)}var Di,Li,es;if("onselectstart"in document)Di=function(){z(window,"selectstart",be)},Li=function(){ie(window,"selectstart",be)};else{var Oi=Mn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Di=function(){if(Oi){var e=document.documentElement.style;es=e[Oi],e[Oi]="none"}},Li=function(){Oi&&(document.documentElement.style[Oi]=es,es=void 0)}}function ts(){z(window,"dragstart",be)}function is(){ie(window,"dragstart",be)}var In,ns;function rs(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(An(),In=e,ns=e.style.outlineStyle,e.style.outlineStyle="none",z(window,"keydown",An))}function An(){In&&(In.style.outlineStyle=ns,In=void 0,ns=void 0,ie(window,"keydown",An))}function Ia(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function ss(e){var i=e.getBoundingClientRect();return{x:i.width/e.offsetWidth||1,y:i.height/e.offsetHeight||1,boundingClientRect:i}}var Tu={__proto__:null,TRANSFORM:Xr,TRANSITION:Ai,TRANSITION_END:Ea,get:Ma,getStyle:ki,create:J,remove:oe,empty:Tn,toFront:ii,toBack:ni,hasClass:Yr,addClass:Z,removeClass:ce,setClass:Qr,getClass:En,setOpacity:He,testProp:Mn,setTransform:Ft,setPosition:de,getPosition:Ut,get disableTextSelection(){return Di},get enableTextSelection(){return Li},disableImageDrag:ts,enableImageDrag:is,preventOutline:rs,restoreOutline:An,getSizedParentNode:Ia,getScale:ss};function z(e,i,o,l){if(i&&typeof i=="object")for(var u in i)as(e,u,i[u],o);else{i=y(i);for(var f=0,g=i.length;f<g;f++)as(e,i[f],o,l)}return this}var tt="_leaflet_events";function ie(e,i,o,l){if(arguments.length===1)Aa(e),delete e[tt];else if(i&&typeof i=="object")for(var u in i)ls(e,u,i[u],o);else if(i=y(i),arguments.length===2)Aa(e,function(v){return we(i,v)!==-1});else for(var f=0,g=i.length;f<g;f++)ls(e,i[f],o,l);return this}function Aa(e,i){for(var o in e[tt]){var l=o.split(/\d/)[0];(!i||i(l))&&ls(e,l,null,null,o)}}var os={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function as(e,i,o,l){var u=i+h(o)+(l?"_"+h(l):"");if(e[tt]&&e[tt][u])return this;var f=function(v){return o.call(l||e,v||window.event)},g=f;!I.touchNative&&I.pointer&&i.indexOf("touch")===0?f=mu(e,i,f):I.touch&&i==="dblclick"?f=xu(e,f):"addEventListener"in e?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?e.addEventListener(os[i]||i,f,I.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(f=function(v){v=v||window.event,hs(e,v)&&g(v)},e.addEventListener(os[i],f,!1)):e.addEventListener(i,g,!1):e.attachEvent("on"+i,f),e[tt]=e[tt]||{},e[tt][u]=f}function ls(e,i,o,l,u){u=u||i+h(o)+(l?"_"+h(l):"");var f=e[tt]&&e[tt][u];if(!f)return this;!I.touchNative&&I.pointer&&i.indexOf("touch")===0?gu(e,i,f):I.touch&&i==="dblclick"?Su(e,f):"removeEventListener"in e?e.removeEventListener(os[i]||i,f,!1):e.detachEvent("on"+i,f),e[tt][u]=null}function Vt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function cs(e){return as(e,"wheel",Vt),this}function Ri(e){return z(e,"mousedown touchstart dblclick contextmenu",Vt),e._leaflet_disable_click=!0,this}function be(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function jt(e){return be(e),Vt(e),this}function ka(e){if(e.composedPath)return e.composedPath();for(var i=[],o=e.target;o;)i.push(o),o=o.parentNode;return i}function Da(e,i){if(!i)return new j(e.clientX,e.clientY);var o=ss(i),l=o.boundingClientRect;return new j((e.clientX-l.left)/o.x-i.clientLeft,(e.clientY-l.top)/o.y-i.clientTop)}var Eu=I.linux&&I.chrome?window.devicePixelRatio:I.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function La(e){return I.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Eu:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function hs(e,i){var o=i.relatedTarget;if(!o)return!0;try{for(;o&&o!==e;)o=o.parentNode}catch{return!1}return o!==e}var Mu={__proto__:null,on:z,off:ie,stopPropagation:Vt,disableScrollPropagation:cs,disableClickPropagation:Ri,preventDefault:be,stop:jt,getPropagationPath:ka,getMousePosition:Da,getWheelDelta:La,isExternalTarget:hs,addListener:z,removeListener:ie},Oa=Ei.extend({run:function(e,i,o,l){this.stop(),this._el=e,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=Ut(e),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ke(this._animate,this),this._step()},_step:function(e){var i=+new Date-this._startTime,o=this._duration*1e3;i<o?this._runFrame(this._easeOut(i/o),e):(this._runFrame(1),this._complete())},_runFrame:function(e,i){var o=this._startPos.add(this._offset.multiplyBy(e));i&&o._round(),de(this._el,o),this.fire("step")},_complete:function(){Ze(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),K=Ei.extend({options:{crs:Hr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,i){i=C(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(q(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ai&&I.any3d&&!I.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),z(this._proxy,Ea,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,i,o){if(i=i===void 0?this._zoom:this._limitZoom(i),e=this._limitCenter(q(e),i,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==void 0&&(o.zoom=a({animate:o.animate},o.zoom),o.pan=a({animate:o.animate,duration:o.duration},o.pan));var l=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,i,o.zoom):this._tryAnimatedPan(e,o.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(e,i,o.pan&&o.pan.noMoveStart),this},setZoom:function(e,i){return this._loaded?this.setView(this.getCenter(),e,{zoom:i}):(this._zoom=e,this)},zoomIn:function(e,i){return e=e||(I.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,i)},zoomOut:function(e,i){return e=e||(I.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,i)},setZoomAround:function(e,i,o){var l=this.getZoomScale(i),u=this.getSize().divideBy(2),f=e instanceof j?e:this.latLngToContainerPoint(e),g=f.subtract(u).multiplyBy(1-1/l),v=this.containerPointToLatLng(u.add(g));return this.setView(v,i,{zoom:o})},_getBoundsCenterZoom:function(e,i){i=i||{},e=e.getBounds?e.getBounds():ue(e);var o=U(i.paddingTopLeft||i.padding||[0,0]),l=U(i.paddingBottomRight||i.padding||[0,0]),u=this.getBoundsZoom(e,!1,o.add(l));if(u=typeof i.maxZoom=="number"?Math.min(i.maxZoom,u):u,u===1/0)return{center:e.getCenter(),zoom:u};var f=l.subtract(o).divideBy(2),g=this.project(e.getSouthWest(),u),v=this.project(e.getNorthEast(),u),_=this.unproject(g.add(v).divideBy(2).add(f),u);return{center:_,zoom:u}},fitBounds:function(e,i){if(e=ue(e),!e.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(e,i);return this.setView(o.center,o.zoom,i)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,i){return this.setView(e,this._zoom,{pan:i})},panBy:function(e,i){if(e=U(e).round(),i=i||{},!e.x&&!e.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Oa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){Z(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,o,i.duration||.25,i.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,i,o){if(o=o||{},o.animate===!1||!I.any3d)return this.setView(e,i,o);this._stop();var l=this.project(this.getCenter()),u=this.project(e),f=this.getSize(),g=this._zoom;e=q(e),i=i===void 0?g:i;var v=Math.max(f.x,f.y),_=v*this.getZoomScale(g,i),b=u.distanceTo(l)||1,S=1.42,O=S*S;function $(fe){var Bn=fe?-1:1,gd=fe?_:v,vd=_*_-v*v+Bn*O*O*b*b,_d=2*gd*O*b,bs=vd/_d,pl=Math.sqrt(bs*bs+1)-bs,yd=pl<1e-9?-18:Math.log(pl);return yd}function Ee(fe){return(Math.exp(fe)-Math.exp(-fe))/2}function _e(fe){return(Math.exp(fe)+Math.exp(-fe))/2}function We(fe){return Ee(fe)/_e(fe)}var Oe=$(0);function ci(fe){return v*(_e(Oe)/_e(Oe+S*fe))}function dd(fe){return v*(_e(Oe)*We(Oe+S*fe)-Ee(Oe))/O}function fd(fe){return 1-Math.pow(1-fe,1.5)}var pd=Date.now(),dl=($(1)-Oe)/S,md=o.duration?1e3*o.duration:1e3*dl*.8;function fl(){var fe=(Date.now()-pd)/md,Bn=fd(fe)*dl;fe<=1?(this._flyToFrame=ke(fl,this),this._move(this.unproject(l.add(u.subtract(l).multiplyBy(dd(Bn)/b)),g),this.getScaleZoom(v/ci(Bn),g),{flyTo:!0})):this._move(e,i)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),fl.call(this),this},flyToBounds:function(e,i){var o=this._getBoundsCenterZoom(e,i);return this.flyTo(o.center,o.zoom,i)},setMaxBounds:function(e){return e=ue(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var i=this.options.minZoom;return this.options.minZoom=e,this._loaded&&i!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var i=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&i!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,i){this._enforcingBounds=!0;var o=this.getCenter(),l=this._limitCenter(o,this._zoom,ue(e));return o.equals(l)||this.panTo(l,i),this._enforcingBounds=!1,this},panInside:function(e,i){i=i||{};var o=U(i.paddingTopLeft||i.padding||[0,0]),l=U(i.paddingBottomRight||i.padding||[0,0]),u=this.project(this.getCenter()),f=this.project(e),g=this.getPixelBounds(),v=De([g.min.add(o),g.max.subtract(l)]),_=v.getSize();if(!v.contains(f)){this._enforcingBounds=!0;var b=f.subtract(v.getCenter()),S=v.extend(f).getSize().subtract(_);u.x+=b.x<0?-S.x:S.x,u.y+=b.y<0?-S.y:S.y,this.panTo(this.unproject(u),i),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=a({animate:!1,pan:!0},e===!0?{animate:!0}:e);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),l=i.divideBy(2).round(),u=o.divideBy(2).round(),f=l.subtract(u);return!f.x&&!f.y?this:(e.animate&&e.pan?this.panBy(f):(e.pan&&this._rawPanBy(f),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:o}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=a({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=s(this._handleGeolocationResponse,this),o=s(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,o,e):navigator.geolocation.getCurrentPosition(i,o,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var i=e.code,o=e.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+o+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var i=e.coords.latitude,o=e.coords.longitude,l=new Q(i,o),u=l.toBounds(e.coords.accuracy*2),f=this._locateOptions;if(f.setView){var g=this.getBoundsZoom(u);this.setView(l,f.maxZoom?Math.min(g,f.maxZoom):g)}var v={latlng:l,bounds:u,timestamp:e.timestamp};for(var _ in e.coords)typeof e.coords[_]=="number"&&(v[_]=e.coords[_]);this.fire("locationfound",v)}},addHandler:function(e,i){if(!i)return this;var o=this[e]=new i(this);return this._handlers.push(o),this.options[e]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),oe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ze(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)oe(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,i){var o="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),l=J("div",o,i||this._mapPane);return e&&(this._panes[e]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),i=this.unproject(e.getBottomLeft()),o=this.unproject(e.getTopRight());return new Le(i,o)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,i,o){e=ue(e),o=U(o||[0,0]);var l=this.getZoom()||0,u=this.getMinZoom(),f=this.getMaxZoom(),g=e.getNorthWest(),v=e.getSouthEast(),_=this.getSize().subtract(o),b=De(this.project(v,l),this.project(g,l)).getSize(),S=I.any3d?this.options.zoomSnap:1,O=_.x/b.x,$=_.y/b.y,Ee=i?Math.max(O,$):Math.min(O,$);return l=this.getScaleZoom(Ee,l),S&&(l=Math.round(l/(S/100))*(S/100),l=i?Math.ceil(l/S)*S:Math.floor(l/S)*S),Math.max(u,Math.min(f,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new j(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,i){var o=this._getTopLeftPoint(e,i);return new se(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,i){var o=this.options.crs;return i=i===void 0?this._zoom:i,o.scale(e)/o.scale(i)},getScaleZoom:function(e,i){var o=this.options.crs;i=i===void 0?this._zoom:i;var l=o.zoom(e*o.scale(i));return isNaN(l)?1/0:l},project:function(e,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(q(e),i)},unproject:function(e,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(U(e),i)},layerPointToLatLng:function(e){var i=U(e).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(e){var i=this.project(q(e))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(q(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(ue(e))},distance:function(e,i){return this.options.crs.distance(q(e),q(i))},containerPointToLayerPoint:function(e){return U(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return U(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var i=this.containerPointToLayerPoint(U(e));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(q(e)))},mouseEventToContainerPoint:function(e){return Da(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var i=this._container=Ma(e);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");z(i,"scroll",this._onScroll,this),this._containerId=h(i)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&I.any3d,Z(e,"leaflet-container"+(I.touch?" leaflet-touch":"")+(I.retina?" leaflet-retina":"")+(I.ielt9?" leaflet-oldie":"")+(I.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=ki(e,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),de(this._mapPane,new j(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Z(e.markerPane,"leaflet-zoom-hide"),Z(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,i,o){de(this._mapPane,new j(0,0));var l=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var u=this._zoom!==i;this._moveStart(u,o)._move(e,i)._moveEnd(u),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(e,i){return e&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(e,i,o,l){i===void 0&&(i=this._zoom);var u=this._zoom!==i;return this._zoom=i,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),l?o&&o.pinch&&this.fire("zoom",o):((u||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ze(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){de(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[h(this._container)]=this;var i=e?ie:z;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),I.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ze(this._resizeRequest),this._resizeRequest=ke(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,i){for(var o=[],l,u=i==="mouseout"||i==="mouseover",f=e.target||e.srcElement,g=!1;f;){if(l=this._targets[h(f)],l&&(i==="click"||i==="preclick")&&this._draggableMoved(l)){g=!0;break}if(l&&l.listens(i,!0)&&(u&&!hs(f,e)||(o.push(l),u))||f===this._container)break;f=f.parentNode}return!o.length&&!g&&!u&&this.listens(i,!0)&&(o=[this]),o},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var i=e.target||e.srcElement;if(!(!this._loaded||i._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(i))){var o=e.type;o==="mousedown"&&rs(i),this._fireDOMEvent(e,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,i,o){if(e.type==="click"){var l=a({},e);l.type="preclick",this._fireDOMEvent(l,l.type,o)}var u=this._findEventTargets(e,i);if(o){for(var f=[],g=0;g<o.length;g++)o[g].listens(i,!0)&&f.push(o[g]);u=f.concat(u)}if(u.length){i==="contextmenu"&&be(e);var v=u[0],_={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var b=v.getLatLng&&(!v._radius||v._radius<=10);_.containerPoint=b?this.latLngToContainerPoint(v.getLatLng()):this.mouseEventToContainerPoint(e),_.layerPoint=this.containerPointToLayerPoint(_.containerPoint),_.latlng=b?v.getLatLng():this.layerPointToLatLng(_.layerPoint)}for(g=0;g<u.length;g++)if(u[g].fire(i,_,!0),_.originalEvent._stopped||u[g].options.bubblingMouseEvents===!1&&we(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,i=this._handlers.length;e<i;e++)this._handlers[e].disable()},whenReady:function(e,i){return this._loaded?e.call(i||this,{target:this}):this.on("load",e,i),this},_getMapPanePos:function(){return Ut(this._mapPane)||new j(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,i){var o=e&&i!==void 0?this._getNewPixelOrigin(e,i):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,i){var o=this.getSize()._divideBy(2);return this.project(e,i)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,i,o){var l=this._getNewPixelOrigin(o,i);return this.project(e,i)._subtract(l)},_latLngBoundsToNewLayerBounds:function(e,i,o){var l=this._getNewPixelOrigin(o,i);return De([this.project(e.getSouthWest(),i)._subtract(l),this.project(e.getNorthWest(),i)._subtract(l),this.project(e.getSouthEast(),i)._subtract(l),this.project(e.getNorthEast(),i)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,i,o){if(!o)return e;var l=this.project(e,i),u=this.getSize().divideBy(2),f=new se(l.subtract(u),l.add(u)),g=this._getBoundsOffset(f,o,i);return Math.abs(g.x)<=1&&Math.abs(g.y)<=1?e:this.unproject(l.add(g),i)},_limitOffset:function(e,i){if(!i)return e;var o=this.getPixelBounds(),l=new se(o.min.add(e),o.max.add(e));return e.add(this._getBoundsOffset(l,i))},_getBoundsOffset:function(e,i,o){var l=De(this.project(i.getNorthEast(),o),this.project(i.getSouthWest(),o)),u=l.min.subtract(e.min),f=l.max.subtract(e.max),g=this._rebound(u.x,-f.x),v=this._rebound(u.y,-f.y);return new j(g,v)},_rebound:function(e,i){return e+i>0?Math.round(e-i)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(i))},_limitZoom:function(e){var i=this.getMinZoom(),o=this.getMaxZoom(),l=I.any3d?this.options.zoomSnap:1;return l&&(e=Math.round(e/l)*l),Math.max(i,Math.min(o,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ce(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,i){var o=this._getCenterOffset(e)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(o)?!1:(this.panBy(o,i),!0)},_createAnimProxy:function(){var e=this._proxy=J("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(i){var o=Xr,l=this._proxy.style[o];Ft(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),l===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){oe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),i=this.getZoom();Ft(this._proxy,this.project(e,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,i,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(i),u=this._getCenterOffset(e)._divideBy(1-1/l);return o.animate!==!0&&!this.getSize().contains(u)?!1:(ke(function(){this._moveStart(!0,o.noMoveStart||!1)._animateZoom(e,i,!0)},this),!0)},_animateZoom:function(e,i,o,l){this._mapPane&&(o&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=i,Z(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:i,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ce(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Iu(e,i){return new K(e,i)}var Je=ct.extend({options:{position:"topright"},initialize:function(e){C(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var i=this._map;return i&&i.removeControl(this),this.options.position=e,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var i=this._container=this.onAdd(e),o=this.getPosition(),l=e._controlCorners[o];return Z(i,"leaflet-control"),o.indexOf("bottom")!==-1?l.insertBefore(i,l.firstChild):l.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(oe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Ni=function(e){return new Je(e)};K.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},i="leaflet-",o=this._controlContainer=J("div",i+"control-container",this._container);function l(u,f){var g=i+u+" "+i+f;e[u+f]=J("div",g,o)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)oe(this._controlCorners[e]);oe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ra=Je.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,i,o,l){return o<l?-1:l<o?1:0}},initialize:function(e,i,o){C(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var l in e)this._addLayer(e[l],l);for(l in i)this._addLayer(i[l],l,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Je.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,i){return this._addLayer(e,i),this._map?this._update():this},addOverlay:function(e,i){return this._addLayer(e,i,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var i=this._getLayer(h(e));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){Z(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(Z(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):ce(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ce(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",i=this._container=J("div",e),o=this.options.collapsed;i.setAttribute("aria-haspopup",!0),Ri(i),cs(i);var l=this._section=J("section",e+"-list");o&&(this._map.on("click",this.collapse,this),z(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var u=this._layersLink=J("a",e+"-toggle",i);u.href="#",u.title="Layers",u.setAttribute("role","button"),z(u,{keydown:function(f){f.keyCode===13&&this._expandSafely()},click:function(f){be(f),this._expandSafely()}},this),o||this.expand(),this._baseLayersList=J("div",e+"-base",l),this._separator=J("div",e+"-separator",l),this._overlaysList=J("div",e+"-overlays",l),i.appendChild(l)},_getLayer:function(e){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&h(this._layers[i].layer)===e)return this._layers[i]},_addLayer:function(e,i,o){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:i,overlay:o}),this.options.sortLayers&&this._layers.sort(s(function(l,u){return this.options.sortFunction(l.layer,u.layer,l.name,u.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Tn(this._baseLayersList),Tn(this._overlaysList),this._layerControlInputs=[];var e,i,o,l,u=0;for(o=0;o<this._layers.length;o++)l=this._layers[o],this._addItem(l),i=i||l.overlay,e=e||!l.overlay,u+=l.overlay?0:1;return this.options.hideSingleBase&&(e=e&&u>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=i&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var i=this._getLayer(h(e.target)),o=i.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;o&&this._map.fire(o,i)},_createRadioElement:function(e,i){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(i?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=o,l.firstChild},_addItem:function(e){var i=document.createElement("label"),o=this._map.hasLayer(e.layer),l;e.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=o):l=this._createRadioElement("leaflet-base-layers_"+h(this),o),this._layerControlInputs.push(l),l.layerId=h(e.layer),z(l,"click",this._onInputClick,this);var u=document.createElement("span");u.innerHTML=" "+e.name;var f=document.createElement("span");i.appendChild(f),f.appendChild(l),f.appendChild(u);var g=e.overlay?this._overlaysList:this._baseLayersList;return g.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,i,o,l=[],u=[];this._handlingClick=!0;for(var f=e.length-1;f>=0;f--)i=e[f],o=this._getLayer(i.layerId).layer,i.checked?l.push(o):i.checked||u.push(o);for(f=0;f<u.length;f++)this._map.hasLayer(u[f])&&this._map.removeLayer(u[f]);for(f=0;f<l.length;f++)this._map.hasLayer(l[f])||this._map.addLayer(l[f]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,i,o,l=this._map.getZoom(),u=e.length-1;u>=0;u--)i=e[u],o=this._getLayer(i.layerId).layer,i.disabled=o.options.minZoom!==void 0&&l<o.options.minZoom||o.options.maxZoom!==void 0&&l>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,z(e,"click",be),this.expand();var i=this;setTimeout(function(){ie(e,"click",be),i._preventClick=!1})}}),Au=function(e,i,o){return new Ra(e,i,o)},us=Je.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var i="leaflet-control-zoom",o=J("div",i+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,i+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,i+"-out",o,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,i,o,l,u){var f=J("a",o,l);return f.innerHTML=e,f.href="#",f.title=i,f.setAttribute("role","button"),f.setAttribute("aria-label",i),Ri(f),z(f,"click",jt),z(f,"click",u,this),z(f,"click",this._refocusOnMap,this),f},_updateDisabled:function(){var e=this._map,i="leaflet-disabled";ce(this._zoomInButton,i),ce(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(Z(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(Z(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});K.mergeOptions({zoomControl:!0}),K.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new us,this.addControl(this.zoomControl))});var ku=function(e){return new us(e)},Na=Je.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var i="leaflet-control-scale",o=J("div",i),l=this.options;return this._addScales(l,i+"-line",o),e.on(l.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),o},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,i,o){e.metric&&(this._mScale=J("div",i,o)),e.imperial&&(this._iScale=J("div",i,o))},_update:function(){var e=this._map,i=e.getSize().y/2,o=e.distance(e.containerPointToLatLng([0,i]),e.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(o)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var i=this._getRoundNum(e),o=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,o,i/e)},_updateImperial:function(e){var i=e*3.2808399,o,l,u;i>5280?(o=i/5280,l=this._getRoundNum(o),this._updateScale(this._iScale,l+" mi",l/o)):(u=this._getRoundNum(i),this._updateScale(this._iScale,u+" ft",u/i))},_updateScale:function(e,i,o){e.style.width=Math.round(this.options.maxWidth*o)+"px",e.innerHTML=i},_getRoundNum:function(e){var i=Math.pow(10,(Math.floor(e)+"").length-1),o=e/i;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,i*o}}),Du=function(e){return new Na(e)},Lu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ds=Je.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(I.inlineSvg?Lu+" ":"")+"Leaflet</a>"},initialize:function(e){C(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=J("div","leaflet-control-attribution"),Ri(this._container);for(var i in e._layers)e._layers[i].getAttribution&&this.addAttribution(e._layers[i].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var i in this._attributions)this._attributions[i]&&e.push(i);var o=[];this.options.prefix&&o.push(this.options.prefix),e.length&&o.push(e.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}});K.mergeOptions({attributionControl:!0}),K.addInitHook(function(){this.options.attributionControl&&new ds().addTo(this)});var Ou=function(e){return new ds(e)};Je.Layers=Ra,Je.Zoom=us,Je.Scale=Na,Je.Attribution=ds,Ni.layers=Au,Ni.zoom=ku,Ni.scale=Du,Ni.attribution=Ou;var it=ct.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});it.addTo=function(e,i){return e.addHandler(i,this),this};var Ru={Events:Ve},Fa=I.touch?"touchstart mousedown":"mousedown",Tt=Ei.extend({options:{clickTolerance:3},initialize:function(e,i,o,l){C(this,l),this._element=e,this._dragStartTarget=i||e,this._preventOutline=o},enable:function(){this._enabled||(z(this._dragStartTarget,Fa,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Tt._dragging===this&&this.finishDrag(!0),ie(this._dragStartTarget,Fa,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Yr(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Tt._dragging===this&&this.finishDrag();return}if(!(Tt._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Tt._dragging=this,this._preventOutline&&rs(this._element),ts(),Di(),!this._moving)){this.fire("down");var i=e.touches?e.touches[0]:e,o=Ia(this._element);this._startPoint=new j(i.clientX,i.clientY),this._startPos=Ut(this._element),this._parentScale=ss(o);var l=e.type==="mousedown";z(document,l?"mousemove":"touchmove",this._onMove,this),z(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var i=e.touches&&e.touches.length===1?e.touches[0]:e,o=new j(i.clientX,i.clientY)._subtract(this._startPoint);!o.x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,be(e),this._moved||(this.fire("dragstart"),this._moved=!0,Z(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Z(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),de(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){ce(document.body,"leaflet-dragging"),this._lastTarget&&(ce(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ie(document,"mousemove touchmove",this._onMove,this),ie(document,"mouseup touchend touchcancel",this._onUp,this),is(),Li();var i=this._moved&&this._moving;this._moving=!1,Tt._dragging=!1,i&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function Ua(e,i,o){var l,u=[1,4,2,8],f,g,v,_,b,S,O,$;for(f=0,S=e.length;f<S;f++)e[f]._code=zt(e[f],i);for(v=0;v<4;v++){for(O=u[v],l=[],f=0,S=e.length,g=S-1;f<S;g=f++)_=e[f],b=e[g],_._code&O?b._code&O||($=kn(b,_,O,i,o),$._code=zt($,i),l.push($)):(b._code&O&&($=kn(b,_,O,i,o),$._code=zt($,i),l.push($)),l.push(_));e=l}return e}function Va(e,i){var o,l,u,f,g,v,_,b,S;if(!e||e.length===0)throw new Error("latlngs not passed");$e(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var O=q([0,0]),$=ue(e),Ee=$.getNorthWest().distanceTo($.getSouthWest())*$.getNorthEast().distanceTo($.getNorthWest());Ee<1700&&(O=fs(e));var _e=e.length,We=[];for(o=0;o<_e;o++){var Oe=q(e[o]);We.push(i.project(q([Oe.lat-O.lat,Oe.lng-O.lng])))}for(v=_=b=0,o=0,l=_e-1;o<_e;l=o++)u=We[o],f=We[l],g=u.y*f.x-f.y*u.x,_+=(u.x+f.x)*g,b+=(u.y+f.y)*g,v+=g*3;v===0?S=We[0]:S=[_/v,b/v];var ci=i.unproject(U(S));return q([ci.lat+O.lat,ci.lng+O.lng])}function fs(e){for(var i=0,o=0,l=0,u=0;u<e.length;u++){var f=q(e[u]);i+=f.lat,o+=f.lng,l++}return q([i/l,o/l])}var Nu={__proto__:null,clipPolygon:Ua,polygonCenter:Va,centroid:fs};function ja(e,i){if(!i||!e.length)return e.slice();var o=i*i;return e=Vu(e,o),e=Uu(e,o),e}function za(e,i,o){return Math.sqrt(Fi(e,i,o,!0))}function Fu(e,i,o){return Fi(e,i,o)}function Uu(e,i){var o=e.length,l=typeof Uint8Array<"u"?Uint8Array:Array,u=new l(o);u[0]=u[o-1]=1,ps(e,u,i,0,o-1);var f,g=[];for(f=0;f<o;f++)u[f]&&g.push(e[f]);return g}function ps(e,i,o,l,u){var f=0,g,v,_;for(v=l+1;v<=u-1;v++)_=Fi(e[v],e[l],e[u],!0),_>f&&(g=v,f=_);f>o&&(i[g]=1,ps(e,i,o,l,g),ps(e,i,o,g,u))}function Vu(e,i){for(var o=[e[0]],l=1,u=0,f=e.length;l<f;l++)ju(e[l],e[u])>i&&(o.push(e[l]),u=l);return u<f-1&&o.push(e[f-1]),o}var Ba;function Za(e,i,o,l,u){var f=l?Ba:zt(e,o),g=zt(i,o),v,_,b;for(Ba=g;;){if(!(f|g))return[e,i];if(f&g)return!1;v=f||g,_=kn(e,i,v,o,u),b=zt(_,o),v===f?(e=_,f=b):(i=_,g=b)}}function kn(e,i,o,l,u){var f=i.x-e.x,g=i.y-e.y,v=l.min,_=l.max,b,S;return o&8?(b=e.x+f*(_.y-e.y)/g,S=_.y):o&4?(b=e.x+f*(v.y-e.y)/g,S=v.y):o&2?(b=_.x,S=e.y+g*(_.x-e.x)/f):o&1&&(b=v.x,S=e.y+g*(v.x-e.x)/f),new j(b,S,u)}function zt(e,i){var o=0;return e.x<i.min.x?o|=1:e.x>i.max.x&&(o|=2),e.y<i.min.y?o|=4:e.y>i.max.y&&(o|=8),o}function ju(e,i){var o=i.x-e.x,l=i.y-e.y;return o*o+l*l}function Fi(e,i,o,l){var u=i.x,f=i.y,g=o.x-u,v=o.y-f,_=g*g+v*v,b;return _>0&&(b=((e.x-u)*g+(e.y-f)*v)/_,b>1?(u=o.x,f=o.y):b>0&&(u+=g*b,f+=v*b)),g=e.x-u,v=e.y-f,l?g*g+v*v:new j(u,f)}function $e(e){return!R(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function Ha(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),$e(e)}function $a(e,i){var o,l,u,f,g,v,_,b;if(!e||e.length===0)throw new Error("latlngs not passed");$e(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var S=q([0,0]),O=ue(e),$=O.getNorthWest().distanceTo(O.getSouthWest())*O.getNorthEast().distanceTo(O.getNorthWest());$<1700&&(S=fs(e));var Ee=e.length,_e=[];for(o=0;o<Ee;o++){var We=q(e[o]);_e.push(i.project(q([We.lat-S.lat,We.lng-S.lng])))}for(o=0,l=0;o<Ee-1;o++)l+=_e[o].distanceTo(_e[o+1])/2;if(l===0)b=_e[0];else for(o=0,f=0;o<Ee-1;o++)if(g=_e[o],v=_e[o+1],u=g.distanceTo(v),f+=u,f>l){_=(f-l)/u,b=[v.x-_*(v.x-g.x),v.y-_*(v.y-g.y)];break}var Oe=i.unproject(U(b));return q([Oe.lat+S.lat,Oe.lng+S.lng])}var zu={__proto__:null,simplify:ja,pointToSegmentDistance:za,closestPointOnSegment:Fu,clipSegment:Za,_getEdgeIntersection:kn,_getBitCode:zt,_sqClosestPointOnSegment:Fi,isFlat:$e,_flat:Ha,polylineCenter:$a},ms={project:function(e){return new j(e.lng,e.lat)},unproject:function(e){return new Q(e.y,e.x)},bounds:new se([-180,-90],[180,90])},gs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new se([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var i=Math.PI/180,o=this.R,l=e.lat*i,u=this.R_MINOR/o,f=Math.sqrt(1-u*u),g=f*Math.sin(l),v=Math.tan(Math.PI/4-l/2)/Math.pow((1-g)/(1+g),f/2);return l=-o*Math.log(Math.max(v,1e-10)),new j(e.lng*i*o,l)},unproject:function(e){for(var i=180/Math.PI,o=this.R,l=this.R_MINOR/o,u=Math.sqrt(1-l*l),f=Math.exp(-e.y/o),g=Math.PI/2-2*Math.atan(f),v=0,_=.1,b;v<15&&Math.abs(_)>1e-7;v++)b=u*Math.sin(g),b=Math.pow((1-b)/(1+b),u/2),_=Math.PI/2-2*Math.atan(f*b)-g,g+=_;return new Q(g*i,e.x*i/o)}},Bu={__proto__:null,LonLat:ms,Mercator:gs,SphericalMercator:Br},Zu=a({},Pt,{code:"EPSG:3395",projection:gs,transformation:function(){var e=.5/(Math.PI*gs.R);return Mi(e,.5,-e,.5)}()}),Wa=a({},Pt,{code:"EPSG:4326",projection:ms,transformation:Mi(1/180,1,-1/180,.5)}),Hu=a({},ht,{projection:ms,transformation:Mi(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,i){var o=i.lng-e.lng,l=i.lat-e.lat;return Math.sqrt(o*o+l*l)},infinite:!0});ht.Earth=Pt,ht.EPSG3395=Zu,ht.EPSG3857=Hr,ht.EPSG900913=Jh,ht.EPSG4326=Wa,ht.Simple=Hu;var Xe=Ei.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[h(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[h(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var i=e.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var o=this.getEvents();i.on(o,this),this.once("remove",function(){i.off(o,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});K.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var i=h(e);return this._layers[i]?this:(this._layers[i]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var i=h(e);return this._layers[i]?(this._loaded&&e.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return h(e)in this._layers},eachLayer:function(e,i){for(var o in this._layers)e.call(i,this._layers[o]);return this},_addLayers:function(e){e=e?R(e)?e:[e]:[];for(var i=0,o=e.length;i<o;i++)this.addLayer(e[i])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[h(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var i=h(e);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,i=-1/0,o=this._getZoomSpan();for(var l in this._zoomBoundLayers){var u=this._zoomBoundLayers[l].options;e=u.minZoom===void 0?e:Math.min(e,u.minZoom),i=u.maxZoom===void 0?i:Math.max(i,u.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=e===1/0?void 0:e,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ri=Xe.extend({initialize:function(e,i){C(this,i),this._layers={};var o,l;if(e)for(o=0,l=e.length;o<l;o++)this.addLayer(e[o])},addLayer:function(e){var i=this.getLayerId(e);return this._layers[i]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var i=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(e){var i=typeof e=="number"?e:this.getLayerId(e);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var i=Array.prototype.slice.call(arguments,1),o,l;for(o in this._layers)l=this._layers[o],l[e]&&l[e].apply(l,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,i){for(var o in this._layers)e.call(i,this._layers[o]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return h(e)}}),$u=function(e,i){return new ri(e,i)},ut=ri.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),ri.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),ri.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new Le;for(var i in this._layers){var o=this._layers[i];e.extend(o.getBounds?o.getBounds():o.getLatLng())}return e}}),Wu=function(e,i){return new ut(e,i)},si=ct.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){C(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,i){var o=this._getIconUrl(e);if(!o){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(o,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(l,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(e,i){var o=this.options,l=o[i+"Size"];typeof l=="number"&&(l=[l,l]);var u=U(l),f=U(i==="shadow"&&o.shadowAnchor||o.iconAnchor||u&&u.divideBy(2,!0));e.className="leaflet-marker-"+i+" "+(o.className||""),f&&(e.style.marginLeft=-f.x+"px",e.style.marginTop=-f.y+"px"),u&&(e.style.width=u.x+"px",e.style.height=u.y+"px")},_createImg:function(e,i){return i=i||document.createElement("img"),i.src=e,i},_getIconUrl:function(e){return I.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Gu(e){return new si(e)}var Ui=si.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Ui.imagePath!="string"&&(Ui.imagePath=this._detectIconPath()),(this.options.imagePath||Ui.imagePath)+si.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var i=function(o,l,u){var f=l.exec(o);return f&&f[u]};return e=i(e,/^url\((['"])?(.+)\1\)$/,2),e&&i(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=J("div","leaflet-default-icon-path",document.body),i=ki(e,"background-image")||ki(e,"backgroundImage");if(document.body.removeChild(e),i=this._stripUrl(i),i)return i;var o=document.querySelector('link[href$="leaflet.css"]');return o?o.href.substring(0,o.href.length-11-1):""}}),Ga=it.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Tt(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Z(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ce(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var i=this._marker,o=i._map,l=this._marker.options.autoPanSpeed,u=this._marker.options.autoPanPadding,f=Ut(i._icon),g=o.getPixelBounds(),v=o.getPixelOrigin(),_=De(g.min._subtract(v).add(u),g.max._subtract(v).subtract(u));if(!_.contains(f)){var b=U((Math.max(_.max.x,f.x)-_.max.x)/(g.max.x-_.max.x)-(Math.min(_.min.x,f.x)-_.min.x)/(g.min.x-_.min.x),(Math.max(_.max.y,f.y)-_.max.y)/(g.max.y-_.max.y)-(Math.min(_.min.y,f.y)-_.min.y)/(g.min.y-_.min.y)).multiplyBy(l);o.panBy(b,{animate:!1}),this._draggable._newPos._add(b),this._draggable._startPos._add(b),de(i._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=ke(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(Ze(this._panRequest),this._panRequest=ke(this._adjustPan.bind(this,e)))},_onDrag:function(e){var i=this._marker,o=i._shadow,l=Ut(i._icon),u=i._map.layerPointToLatLng(l);o&&de(o,l),i._latlng=u,e.latlng=u,e.oldLatLng=this._oldLatLng,i.fire("move",e).fire("drag",e)},_onDragEnd:function(e){Ze(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Dn=Xe.extend({options:{icon:new Ui,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,i){C(this,i),this._latlng=q(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var i=this._latlng;return this._latlng=q(e),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=e.icon.createIcon(this._icon),l=!1;o!==this._icon&&(this._icon&&this._removeIcon(),l=!0,e.title&&(o.title=e.title),o.tagName==="IMG"&&(o.alt=e.alt||"")),Z(o,i),e.keyboard&&(o.tabIndex="0",o.setAttribute("role","button")),this._icon=o,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&z(o,"focus",this._panOnFocus,this);var u=e.icon.createShadow(this._shadow),f=!1;u!==this._shadow&&(this._removeShadow(),f=!0),u&&(Z(u,i),u.alt=""),this._shadow=u,e.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),u&&f&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ie(this._icon,"focus",this._panOnFocus,this),oe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&oe(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&de(this._icon,e),this._shadow&&de(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(Z(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ga)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ga(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&He(this._icon,e),this._shadow&&He(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var i=this.options.icon.options,o=i.iconSize?U(i.iconSize):U(0,0),l=i.iconAnchor?U(i.iconAnchor):U(0,0);e.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:o.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qu(e,i){return new Dn(e,i)}var Et=Xe.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return C(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ln=Et.extend({options:{fill:!0,radius:10},initialize:function(e,i){C(this,i),this._latlng=q(e),this._radius=this.options.radius},setLatLng:function(e){var i=this._latlng;return this._latlng=q(e),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var i=e&&e.radius||this._radius;return Et.prototype.setStyle.call(this,e),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,i=this._radiusY||e,o=this._clickTolerance(),l=[e+o,i+o];this._pxBounds=new se(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ku(e,i){return new Ln(e,i)}var vs=Ln.extend({initialize:function(e,i,o){if(typeof i=="number"&&(i=a({},o,{radius:i})),C(this,i),this._latlng=q(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new Le(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Et.prototype.setStyle,_project:function(){var e=this._latlng.lng,i=this._latlng.lat,o=this._map,l=o.options.crs;if(l.distance===Pt.distance){var u=Math.PI/180,f=this._mRadius/Pt.R/u,g=o.project([i+f,e]),v=o.project([i-f,e]),_=g.add(v).divideBy(2),b=o.unproject(_).lat,S=Math.acos((Math.cos(f*u)-Math.sin(i*u)*Math.sin(b*u))/(Math.cos(i*u)*Math.cos(b*u)))/u;(isNaN(S)||S===0)&&(S=f/Math.cos(Math.PI/180*i)),this._point=_.subtract(o.getPixelOrigin()),this._radius=isNaN(S)?0:_.x-o.project([b,e-S]).x,this._radiusY=_.y-g.y}else{var O=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(O).x}this._updateBounds()}});function Ju(e,i,o){return new vs(e,i,o)}var dt=Et.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,i){C(this,i),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var i=1/0,o=null,l=Fi,u,f,g=0,v=this._parts.length;g<v;g++)for(var _=this._parts[g],b=1,S=_.length;b<S;b++){u=_[b-1],f=_[b];var O=l(e,u,f,!0);O<i&&(i=O,o=l(e,u,f))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $a(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,i){return i=i||this._defaultShape(),e=q(e),i.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new Le,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return $e(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var i=[],o=$e(e),l=0,u=e.length;l<u;l++)o?(i[l]=q(e[l]),this._bounds.extend(i[l])):i[l]=this._convertLatLngs(e[l]);return i},_project:function(){var e=new se;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),i=new j(e,e);this._rawPxBounds&&(this._pxBounds=new se([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(e,i,o){var l=e[0]instanceof Q,u=e.length,f,g;if(l){for(g=[],f=0;f<u;f++)g[f]=this._map.latLngToLayerPoint(e[f]),o.extend(g[f]);i.push(g)}else for(f=0;f<u;f++)this._projectLatlngs(e[f],i,o)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,o,l,u,f,g,v,_;for(o=0,u=0,f=this._rings.length;o<f;o++)for(_=this._rings[o],l=0,g=_.length;l<g-1;l++)v=Za(_[l],_[l+1],e,l,!0),v&&(i[u]=i[u]||[],i[u].push(v[0]),(v[1]!==_[l+1]||l===g-2)&&(i[u].push(v[1]),u++))}},_simplifyPoints:function(){for(var e=this._parts,i=this.options.smoothFactor,o=0,l=e.length;o<l;o++)e[o]=ja(e[o],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,i){var o,l,u,f,g,v,_=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(o=0,f=this._parts.length;o<f;o++)for(v=this._parts[o],l=0,g=v.length,u=g-1;l<g;u=l++)if(!(!i&&l===0)&&za(e,v[u],v[l])<=_)return!0;return!1}});function Xu(e,i){return new dt(e,i)}dt._flat=Ha;var oi=dt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Va(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var i=dt.prototype._convertLatLngs.call(this,e),o=i.length;return o>=2&&i[0]instanceof Q&&i[0].equals(i[o-1])&&i.pop(),i},_setLatLngs:function(e){dt.prototype._setLatLngs.call(this,e),$e(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return $e(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,i=this.options.weight,o=new j(i,i);if(e=new se(e.min.subtract(o),e.max.add(o)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,u=this._rings.length,f;l<u;l++)f=Ua(this._rings[l],e,!0),f.length&&this._parts.push(f)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var i=!1,o,l,u,f,g,v,_,b;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(f=0,_=this._parts.length;f<_;f++)for(o=this._parts[f],g=0,b=o.length,v=b-1;g<b;v=g++)l=o[g],u=o[v],l.y>e.y!=u.y>e.y&&e.x<(u.x-l.x)*(e.y-l.y)/(u.y-l.y)+l.x&&(i=!i);return i||dt.prototype._containsPoint.call(this,e,!0)}});function Yu(e,i){return new oi(e,i)}var ft=ut.extend({initialize:function(e,i){C(this,i),this._layers={},e&&this.addData(e)},addData:function(e){var i=R(e)?e:e.features,o,l,u;if(i){for(o=0,l=i.length;o<l;o++)u=i[o],(u.geometries||u.geometry||u.features||u.coordinates)&&this.addData(u);return this}var f=this.options;if(f.filter&&!f.filter(e))return this;var g=On(e,f);return g?(g.feature=Fn(e),g.defaultOptions=g.options,this.resetStyle(g),f.onEachFeature&&f.onEachFeature(e,g),this.addLayer(g)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=a({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(i){this._setLayerStyle(i,e)},this)},_setLayerStyle:function(e,i){e.setStyle&&(typeof i=="function"&&(i=i(e.feature)),e.setStyle(i))}});function On(e,i){var o=e.type==="Feature"?e.geometry:e,l=o?o.coordinates:null,u=[],f=i&&i.pointToLayer,g=i&&i.coordsToLatLng||_s,v,_,b,S;if(!l&&!o)return null;switch(o.type){case"Point":return v=g(l),qa(f,e,v,i);case"MultiPoint":for(b=0,S=l.length;b<S;b++)v=g(l[b]),u.push(qa(f,e,v,i));return new ut(u);case"LineString":case"MultiLineString":return _=Rn(l,o.type==="LineString"?0:1,g),new dt(_,i);case"Polygon":case"MultiPolygon":return _=Rn(l,o.type==="Polygon"?1:2,g),new oi(_,i);case"GeometryCollection":for(b=0,S=o.geometries.length;b<S;b++){var O=On({geometry:o.geometries[b],type:"Feature",properties:e.properties},i);O&&u.push(O)}return new ut(u);case"FeatureCollection":for(b=0,S=o.features.length;b<S;b++){var $=On(o.features[b],i);$&&u.push($)}return new ut(u);default:throw new Error("Invalid GeoJSON object.")}}function qa(e,i,o,l){return e?e(i,o):new Dn(o,l&&l.markersInheritOptions&&l)}function _s(e){return new Q(e[1],e[0],e[2])}function Rn(e,i,o){for(var l=[],u=0,f=e.length,g;u<f;u++)g=i?Rn(e[u],i-1,o):(o||_s)(e[u]),l.push(g);return l}function ys(e,i){return e=q(e),e.alt!==void 0?[w(e.lng,i),w(e.lat,i),w(e.alt,i)]:[w(e.lng,i),w(e.lat,i)]}function Nn(e,i,o,l){for(var u=[],f=0,g=e.length;f<g;f++)u.push(i?Nn(e[f],$e(e[f])?0:i-1,o,l):ys(e[f],l));return!i&&o&&u.length>0&&u.push(u[0].slice()),u}function ai(e,i){return e.feature?a({},e.feature,{geometry:i}):Fn(i)}function Fn(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var ws={toGeoJSON:function(e){return ai(this,{type:"Point",coordinates:ys(this.getLatLng(),e)})}};Dn.include(ws),vs.include(ws),Ln.include(ws),dt.include({toGeoJSON:function(e){var i=!$e(this._latlngs),o=Nn(this._latlngs,i?1:0,!1,e);return ai(this,{type:(i?"Multi":"")+"LineString",coordinates:o})}}),oi.include({toGeoJSON:function(e){var i=!$e(this._latlngs),o=i&&!$e(this._latlngs[0]),l=Nn(this._latlngs,o?2:i?1:0,!0,e);return i||(l=[l]),ai(this,{type:(o?"Multi":"")+"Polygon",coordinates:l})}}),ri.include({toMultiPoint:function(e){var i=[];return this.eachLayer(function(o){i.push(o.toGeoJSON(e).geometry.coordinates)}),ai(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(e){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(e);var o=i==="GeometryCollection",l=[];return this.eachLayer(function(u){if(u.toGeoJSON){var f=u.toGeoJSON(e);if(o)l.push(f.geometry);else{var g=Fn(f);g.type==="FeatureCollection"?l.push.apply(l,g.features):l.push(g)}}}),o?ai(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function Ka(e,i){return new ft(e,i)}var Qu=Ka,Un=Xe.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,i,o){this._url=e,this._bounds=ue(i),C(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Z(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){oe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&ii(this._image),this},bringToBack:function(){return this._map&&ni(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=ue(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",i=this._image=e?this._url:J("img");if(Z(i,"leaflet-image-layer"),this._zoomAnimated&&Z(i,"leaflet-zoom-animated"),this.options.className&&Z(i,this.options.className),i.onselectstart=p,i.onmousemove=p,i.onload=s(this.fire,this,"load"),i.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(e){var i=this._map.getZoomScale(e.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Ft(this._image,o,i)},_reset:function(){var e=this._image,i=new se(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=i.getSize();de(e,i.min),e.style.width=o.x+"px",e.style.height=o.y+"px"},_updateOpacity:function(){He(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),ed=function(e,i,o){return new Un(e,i,o)},Ja=Un.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",i=this._image=e?this._url:J("video");if(Z(i,"leaflet-image-layer"),this._zoomAnimated&&Z(i,"leaflet-zoom-animated"),this.options.className&&Z(i,this.options.className),i.onselectstart=p,i.onmousemove=p,i.onloadeddata=s(this.fire,this,"load"),e){for(var o=i.getElementsByTagName("source"),l=[],u=0;u<o.length;u++)l.push(o[u].src);this._url=o.length>0?l:[i.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var f=0;f<this._url.length;f++){var g=J("source");g.src=this._url[f],i.appendChild(g)}}});function td(e,i,o){return new Ja(e,i,o)}var Xa=Un.extend({_initImage:function(){var e=this._image=this._url;Z(e,"leaflet-image-layer"),this._zoomAnimated&&Z(e,"leaflet-zoom-animated"),this.options.className&&Z(e,this.options.className),e.onselectstart=p,e.onmousemove=p}});function id(e,i,o){return new Xa(e,i,o)}var nt=Xe.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,i){e&&(e instanceof Q||R(e))?(this._latlng=q(e),C(this,i)):(C(this,e),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&He(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&He(this._container,1),this.bringToFront(),this.options.interactive&&(Z(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(He(this._container,0),this._removeTimeout=setTimeout(s(oe,void 0,this._container),200)):oe(this._container),this.options.interactive&&(ce(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=q(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ii(this._container),this},bringToBack:function(){return this._map&&ni(this._container),this},_prepareOpen:function(e){var i=this._source;if(!i._map)return!1;if(i instanceof ut){i=null;var o=this._source._layers;for(var l in o)if(o[l]._map){i=o[l];break}if(!i)return!1;this._source=i}if(!e)if(i.getCenter)e=i.getCenter();else if(i.getLatLng)e=i.getLatLng();else if(i.getBounds)e=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")e.innerHTML=i;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),i=U(this.options.offset),o=this._getAnchor();this._zoomAnimated?de(this._container,e.add(o)):i=i.add(e).add(o);var l=this._containerBottom=-i.y,u=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=l+"px",this._container.style.left=u+"px"}},_getAnchor:function(){return[0,0]}});K.include({_initOverlay:function(e,i,o,l){var u=i;return u instanceof e||(u=new e(l).setContent(i)),o&&u.setLatLng(o),u}}),Xe.include({_initOverlay:function(e,i,o,l){var u=o;return u instanceof e?(C(u,l),u._source=this):(u=i&&!l?i:new e(l,this),u.setContent(o)),u}});var Vn=nt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,nt.prototype.openOn.call(this,e)},onAdd:function(e){nt.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Et||this._source.on("preclick",Vt))},onRemove:function(e){nt.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Et||this._source.off("preclick",Vt))},getEvents:function(){var e=nt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",i=this._container=J("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=J("div",e+"-content-wrapper",i);if(this._contentNode=J("div",e+"-content",o),Ri(i),cs(this._contentNode),z(i,"contextmenu",Vt),this._tipContainer=J("div",e+"-tip-container",i),this._tip=J("div",e+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=J("a",e+"-close-button",i);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',z(l,"click",function(u){be(u),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,i=e.style;i.width="",i.whiteSpace="nowrap";var o=e.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),i.width=o+1+"px",i.whiteSpace="",i.height="";var l=e.offsetHeight,u=this.options.maxHeight,f="leaflet-popup-scrolled";u&&l>u?(i.height=u+"px",Z(e,f)):ce(e,f),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),o=this._getAnchor();de(this._container,i.add(o))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,i=parseInt(ki(this._container,"marginBottom"),10)||0,o=this._container.offsetHeight+i,l=this._containerWidth,u=new j(this._containerLeft,-o-this._containerBottom);u._add(Ut(this._container));var f=e.layerPointToContainerPoint(u),g=U(this.options.autoPanPadding),v=U(this.options.autoPanPaddingTopLeft||g),_=U(this.options.autoPanPaddingBottomRight||g),b=e.getSize(),S=0,O=0;f.x+l+_.x>b.x&&(S=f.x+l-b.x+_.x),f.x-S-v.x<0&&(S=f.x-v.x),f.y+o+_.y>b.y&&(O=f.y+o-b.y+_.y),f.y-O-v.y<0&&(O=f.y-v.y),(S||O)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([S,O]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),nd=function(e,i){return new Vn(e,i)};K.mergeOptions({closePopupOnClick:!0}),K.include({openPopup:function(e,i,o){return this._initOverlay(Vn,e,i,o).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Xe.include({bindPopup:function(e,i){return this._popup=this._initOverlay(Vn,this._popup,e,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof ut||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){jt(e);var i=e.layer||e.target;if(this._popup._source===i&&!(i instanceof Et)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=i,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var jn=nt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){nt.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){nt.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=nt.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",i=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=J("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var i,o,l=this._map,u=this._container,f=l.latLngToContainerPoint(l.getCenter()),g=l.layerPointToContainerPoint(e),v=this.options.direction,_=u.offsetWidth,b=u.offsetHeight,S=U(this.options.offset),O=this._getAnchor();v==="top"?(i=_/2,o=b):v==="bottom"?(i=_/2,o=0):v==="center"?(i=_/2,o=b/2):v==="right"?(i=0,o=b/2):v==="left"?(i=_,o=b/2):g.x<f.x?(v="right",i=0,o=b/2):(v="left",i=_+(S.x+O.x)*2,o=b/2),e=e.subtract(U(i,o,!0)).add(S).add(O),ce(u,"leaflet-tooltip-right"),ce(u,"leaflet-tooltip-left"),ce(u,"leaflet-tooltip-top"),ce(u,"leaflet-tooltip-bottom"),Z(u,"leaflet-tooltip-"+v),de(u,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&He(this._container,e)},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(i)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),rd=function(e,i){return new jn(e,i)};K.include({openTooltip:function(e,i,o){return this._initOverlay(jn,e,i,o).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Xe.include({bindTooltip:function(e,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(jn,this._tooltip,e,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var i=e?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip,this._map?this._addFocusListeners():o.add=this._addFocusListeners),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[i](o),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof ut||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var i=typeof e.getElement=="function"&&e.getElement();i&&(z(i,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),z(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var i=typeof e.getElement=="function"&&e.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var i=e.latlng,o,l;this._tooltip.options.sticky&&e.originalEvent&&(o=this._map.mouseEventToContainerPoint(e.originalEvent),l=this._map.containerPointToLayerPoint(o),i=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(i)}});var Ya=si.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var i=e&&e.tagName==="DIV"?e:document.createElement("div"),o=this.options;if(o.html instanceof Element?(Tn(i),i.appendChild(o.html)):i.innerHTML=o.html!==!1?o.html:"",o.bgPos){var l=U(o.bgPos);i.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function sd(e){return new Ya(e)}si.Default=Ui;var Vi=Xe.extend({options:{tileSize:256,opacity:1,updateWhenIdle:I.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){C(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),oe(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ii(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ni(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof j?e:new j(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var i=this.getPane().children,o=-e(-1/0,1/0),l=0,u=i.length,f;l<u;l++)f=i[l].style.zIndex,i[l]!==this._container&&f&&(o=e(o,+f));isFinite(o)&&(this.options.zIndex=o+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!I.ielt9){He(this._container,this.options.opacity);var e=+new Date,i=!1,o=!1;for(var l in this._tiles){var u=this._tiles[l];if(!(!u.current||!u.loaded)){var f=Math.min(1,(e-u.loaded)/200);He(u.el,f),f<1?i=!0:(u.active?o=!0:this._onOpaqueTile(u),u.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),i&&(Ze(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=J("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,i=this.options.maxZoom;if(e!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===e?(this._levels[o].el.style.zIndex=i-Math.abs(e-o),this._onUpdateLevel(o)):(oe(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var l=this._levels[e],u=this._map;return l||(l=this._levels[e]={},l.el=J("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=i,l.origin=u.project(u.unproject(u.getPixelOrigin()),e).round(),l.zoom=e,this._setZoomTransform(l,u.getCenter(),u.getZoom()),p(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var e,i,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)i=this._tiles[e],i.retain=i.current;for(e in this._tiles)if(i=this._tiles[e],i.current&&!i.active){var l=i.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var i in this._tiles)this._tiles[i].coords.z===e&&this._removeTile(i)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)oe(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,i,o,l){var u=Math.floor(e/2),f=Math.floor(i/2),g=o-1,v=new j(+u,+f);v.z=+g;var _=this._tileCoordsToKey(v),b=this._tiles[_];return b&&b.active?(b.retain=!0,!0):(b&&b.loaded&&(b.retain=!0),g>l?this._retainParent(u,f,g,l):!1)},_retainChildren:function(e,i,o,l){for(var u=2*e;u<2*e+2;u++)for(var f=2*i;f<2*i+2;f++){var g=new j(u,f);g.z=o+1;var v=this._tileCoordsToKey(g),_=this._tiles[v];if(_&&_.active){_.retain=!0;continue}else _&&_.loaded&&(_.retain=!0);o+1<l&&this._retainChildren(u,f,o+1,l)}},_resetView:function(e){var i=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var i=this.options;return i.minNativeZoom!==void 0&&e<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<e?i.maxNativeZoom:e},_setView:function(e,i,o,l){var u=Math.round(i);this.options.maxZoom!==void 0&&u>this.options.maxZoom||this.options.minZoom!==void 0&&u<this.options.minZoom?u=void 0:u=this._clampZoom(u);var f=this.options.updateWhenZooming&&u!==this._tileZoom;(!l||f)&&(this._tileZoom=u,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),u!==void 0&&this._update(e),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(e,i)},_setZoomTransforms:function(e,i){for(var o in this._levels)this._setZoomTransform(this._levels[o],e,i)},_setZoomTransform:function(e,i,o){var l=this._map.getZoomScale(o,e.zoom),u=e.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(i,o)).round();I.any3d?Ft(e.el,u,l):de(e.el,u)},_resetGrid:function(){var e=this._map,i=e.options.crs,o=this._tileSize=this.getTileSize(),l=this._tileZoom,u=this._map.getPixelWorldBounds(this._tileZoom);u&&(this._globalTileRange=this._pxBoundsToTileRange(u)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,i.wrapLng[0]],l).x/o.x),Math.ceil(e.project([0,i.wrapLng[1]],l).x/o.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([i.wrapLat[0],0],l).y/o.x),Math.ceil(e.project([i.wrapLat[1],0],l).y/o.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var i=this._map,o=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),l=i.getZoomScale(o,this._tileZoom),u=i.project(e,this._tileZoom).floor(),f=i.getSize().divideBy(l*2);return new se(u.subtract(f),u.add(f))},_update:function(e){var i=this._map;if(i){var o=this._clampZoom(i.getZoom());if(e===void 0&&(e=i.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(e),u=this._pxBoundsToTileRange(l),f=u.getCenter(),g=[],v=this.options.keepBuffer,_=new se(u.getBottomLeft().subtract([v,-v]),u.getTopRight().add([v,-v]));if(!(isFinite(u.min.x)&&isFinite(u.min.y)&&isFinite(u.max.x)&&isFinite(u.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var b in this._tiles){var S=this._tiles[b].coords;(S.z!==this._tileZoom||!_.contains(new j(S.x,S.y)))&&(this._tiles[b].current=!1)}if(Math.abs(o-this._tileZoom)>1){this._setView(e,o);return}for(var O=u.min.y;O<=u.max.y;O++)for(var $=u.min.x;$<=u.max.x;$++){var Ee=new j($,O);if(Ee.z=this._tileZoom,!!this._isValidTile(Ee)){var _e=this._tiles[this._tileCoordsToKey(Ee)];_e?_e.current=!0:g.push(Ee)}}if(g.sort(function(Oe,ci){return Oe.distanceTo(f)-ci.distanceTo(f)}),g.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var We=document.createDocumentFragment();for($=0;$<g.length;$++)this._addTile(g[$],We);this._level.el.appendChild(We)}}}},_isValidTile:function(e){var i=this._map.options.crs;if(!i.infinite){var o=this._globalTileRange;if(!i.wrapLng&&(e.x<o.min.x||e.x>o.max.x)||!i.wrapLat&&(e.y<o.min.y||e.y>o.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(e);return ue(this.options.bounds).overlaps(l)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var i=this._map,o=this.getTileSize(),l=e.scaleBy(o),u=l.add(o),f=i.unproject(l,e.z),g=i.unproject(u,e.z);return[f,g]},_tileCoordsToBounds:function(e){var i=this._tileCoordsToNwSe(e),o=new Le(i[0],i[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var i=e.split(":"),o=new j(+i[0],+i[1]);return o.z=+i[2],o},_removeTile:function(e){var i=this._tiles[e];i&&(oe(i.el),delete this._tiles[e],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){Z(e,"leaflet-tile");var i=this.getTileSize();e.style.width=i.x+"px",e.style.height=i.y+"px",e.onselectstart=p,e.onmousemove=p,I.ielt9&&this.options.opacity<1&&He(e,this.options.opacity)},_addTile:function(e,i){var o=this._getTilePos(e),l=this._tileCoordsToKey(e),u=this.createTile(this._wrapCoords(e),s(this._tileReady,this,e));this._initTile(u),this.createTile.length<2&&ke(s(this._tileReady,this,e,null,u)),de(u,o),this._tiles[l]={el:u,coords:e,current:!0},i.appendChild(u),this.fire("tileloadstart",{tile:u,coords:e})},_tileReady:function(e,i,o){i&&this.fire("tileerror",{error:i,tile:o,coords:e});var l=this._tileCoordsToKey(e);o=this._tiles[l],o&&(o.loaded=+new Date,this._map._fadeAnimated?(He(o.el,0),Ze(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),i||(Z(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),I.ielt9||!this._map._fadeAnimated?ke(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var i=new j(this._wrapX?m(e.x,this._wrapX):e.x,this._wrapY?m(e.y,this._wrapY):e.y);return i.z=e.z,i},_pxBoundsToTileRange:function(e){var i=this.getTileSize();return new se(e.min.unscaleBy(i).floor(),e.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function od(e){return new Vi(e)}var li=Vi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,i){this._url=e,i=C(this,i),i.detectRetina&&I.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,i){return this._url===e&&i===void 0&&(i=!0),this._url=e,i||this.redraw(),this},createTile:function(e,i){var o=document.createElement("img");return z(o,"load",s(this._tileOnLoad,this,i,o)),z(o,"error",s(this._tileOnError,this,i,o)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.src=this.getTileUrl(e),o},getTileUrl:function(e){var i={r:I.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-e.y;this.options.tms&&(i.y=o),i["-y"]=o}return N(this._url,a(i,this.options))},_tileOnLoad:function(e,i){I.ielt9?setTimeout(s(e,this,null,i),0):e(null,i)},_tileOnError:function(e,i,o){var l=this.options.errorTileUrl;l&&i.getAttribute("src")!==l&&(i.src=l),e(o,i)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,i=this.options.maxZoom,o=this.options.zoomReverse,l=this.options.zoomOffset;return o&&(e=i-e),e+l},_getSubdomain:function(e){var i=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var e,i;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(i=this._tiles[e].el,i.onload=p,i.onerror=p,!i.complete)){i.src=H;var o=this._tiles[e].coords;oe(i),delete this._tiles[e],this.fire("tileabort",{tile:i,coords:o})}},_removeTile:function(e){var i=this._tiles[e];if(i)return i.el.setAttribute("src",H),Vi.prototype._removeTile.call(this,e)},_tileReady:function(e,i,o){if(!(!this._map||o&&o.getAttribute("src")===H))return Vi.prototype._tileReady.call(this,e,i,o)}});function Qa(e,i){return new li(e,i)}var el=li.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,i){this._url=e;var o=a({},this.defaultWmsParams);for(var l in i)l in this.options||(o[l]=i[l]);i=C(this,i);var u=i.detectRetina&&I.retina?2:1,f=this.getTileSize();o.width=f.x*u,o.height=f.y*u,this.wmsParams=o},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,li.prototype.onAdd.call(this,e)},getTileUrl:function(e){var i=this._tileCoordsToNwSe(e),o=this._crs,l=De(o.project(i[0]),o.project(i[1])),u=l.min,f=l.max,g=(this._wmsVersion>=1.3&&this._crs===Wa?[u.y,u.x,f.y,f.x]:[u.x,u.y,f.x,f.y]).join(","),v=li.prototype.getTileUrl.call(this,e);return v+E(this.wmsParams,v,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+g},setParams:function(e,i){return a(this.wmsParams,e),i||this.redraw(),this}});function ad(e,i){return new el(e,i)}li.WMS=el,Qa.wms=ad;var pt=Xe.extend({options:{padding:.1},initialize:function(e){C(this,e),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Z(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,i){var o=this._map.getZoomScale(i,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),u=this._map.project(this._center,i),f=l.multiplyBy(-o).add(u).subtract(this._map._getNewPixelOrigin(e,i));I.any3d?Ft(this._container,f,o):de(this._container,f)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,i=this._map.getSize(),o=this._map.containerPointToLayerPoint(i.multiplyBy(-e)).round();this._bounds=new se(o,o.add(i.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),tl=pt.extend({options:{tolerance:0},getEvents:function(){var e=pt.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){pt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");z(e,"mousemove",this._onMouseMove,this),z(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),z(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){Ze(this._redrawRequest),delete this._ctx,oe(this._container),ie(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var i in this._layers)e=this._layers[i],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){pt.prototype._update.call(this);var e=this._bounds,i=this._container,o=e.getSize(),l=I.retina?2:1;de(i,e.min),i.width=l*o.x,i.height=l*o.y,i.style.width=o.x+"px",i.style.height=o.y+"px",I.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){pt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[h(e)]=e;var i=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var i=e._order,o=i.next,l=i.prev;o?o.prev=l:this._drawLast=l,l?l.next=o:this._drawFirst=o,delete e._order,delete this._layers[h(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var i=e.options.dashArray.split(/[, ]+/),o=[],l,u;for(u=0;u<i.length;u++){if(l=Number(i[u]),isNaN(l))return;o.push(l)}e.options._dashArray=o}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||ke(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var i=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new se,this._redrawBounds.extend(e._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(e._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var i=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,i=this._redrawBounds;if(this._ctx.save(),i){var o=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)e=l.layer,(!i||e._pxBounds&&e._pxBounds.intersects(i))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,i){if(this._drawing){var o,l,u,f,g=e._parts,v=g.length,_=this._ctx;if(v){for(_.beginPath(),o=0;o<v;o++){for(l=0,u=g[o].length;l<u;l++)f=g[o][l],_[l?"lineTo":"moveTo"](f.x,f.y);i&&_.closePath()}this._fillStroke(_,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var i=e._point,o=this._ctx,l=Math.max(Math.round(e._radius),1),u=(Math.max(Math.round(e._radiusY),1)||l)/l;u!==1&&(o.save(),o.scale(1,u)),o.beginPath(),o.arc(i.x,i.y/u,l,0,Math.PI*2,!1),u!==1&&o.restore(),this._fillStroke(o,e)}},_fillStroke:function(e,i){var o=i.options;o.fill&&(e.globalAlpha=o.fillOpacity,e.fillStyle=o.fillColor||o.color,e.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(e.setLineDash&&e.setLineDash(i.options&&i.options._dashArray||[]),e.globalAlpha=o.opacity,e.lineWidth=o.weight,e.strokeStyle=o.color,e.lineCap=o.lineCap,e.lineJoin=o.lineJoin,e.stroke())},_onClick:function(e){for(var i=this._map.mouseEventToLayerPoint(e),o,l,u=this._drawFirst;u;u=u.next)o=u.layer,o.options.interactive&&o._containsPoint(i)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(o))&&(l=o);this._fireEvent(l?[l]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,i)}},_handleMouseOut:function(e){var i=this._hoveredLayer;i&&(ce(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,i){if(!this._mouseHoverThrottled){for(var o,l,u=this._drawFirst;u;u=u.next)o=u.layer,o.options.interactive&&o._containsPoint(i)&&(l=o);l!==this._hoveredLayer&&(this._handleMouseOut(e),l&&(Z(this._container,"leaflet-interactive"),this._fireEvent([l],e,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,i,o){this._map._fireDOMEvent(i,o||i.type,e)},_bringToFront:function(e){var i=e._order;if(i){var o=i.next,l=i.prev;if(o)o.prev=l;else return;l?l.next=o:o&&(this._drawFirst=o),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(e)}},_bringToBack:function(e){var i=e._order;if(i){var o=i.next,l=i.prev;if(l)l.next=o;else return;o?o.prev=l:l&&(this._drawLast=l),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(e)}}});function il(e){return I.canvas?new tl(e):null}var ji=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ld={_initContainer:function(){this._container=J("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(pt.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var i=e._container=ji("shape");Z(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",e._path=ji("path"),i.appendChild(e._path),this._updateStyle(e),this._layers[h(e)]=e},_addPath:function(e){var i=e._container;this._container.appendChild(i),e.options.interactive&&e.addInteractiveTarget(i)},_removePath:function(e){var i=e._container;oe(i),e.removeInteractiveTarget(i),delete this._layers[h(e)]},_updateStyle:function(e){var i=e._stroke,o=e._fill,l=e.options,u=e._container;u.stroked=!!l.stroke,u.filled=!!l.fill,l.stroke?(i||(i=e._stroke=ji("stroke")),u.appendChild(i),i.weight=l.weight+"px",i.color=l.color,i.opacity=l.opacity,l.dashArray?i.dashStyle=R(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=l.lineCap.replace("butt","flat"),i.joinstyle=l.lineJoin):i&&(u.removeChild(i),e._stroke=null),l.fill?(o||(o=e._fill=ji("fill")),u.appendChild(o),o.color=l.fillColor||l.color,o.opacity=l.fillOpacity):o&&(u.removeChild(o),e._fill=null)},_updateCircle:function(e){var i=e._point.round(),o=Math.round(e._radius),l=Math.round(e._radiusY||o);this._setPath(e,e._empty()?"M0 0":"AL "+i.x+","+i.y+" "+o+","+l+" 0,"+65535*360)},_setPath:function(e,i){e._path.v=i},_bringToFront:function(e){ii(e._container)},_bringToBack:function(e){ni(e._container)}},zn=I.vml?ji:oa,zi=pt.extend({_initContainer:function(){this._container=zn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=zn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){oe(this._container),ie(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){pt.prototype._update.call(this);var e=this._bounds,i=e.getSize(),o=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,o.setAttribute("width",i.x),o.setAttribute("height",i.y)),de(o,e.min),o.setAttribute("viewBox",[e.min.x,e.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(e){var i=e._path=zn("path");e.options.className&&Z(i,e.options.className),e.options.interactive&&Z(i,"leaflet-interactive"),this._updateStyle(e),this._layers[h(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){oe(e._path),e.removeInteractiveTarget(e._path),delete this._layers[h(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var i=e._path,o=e.options;i&&(o.stroke?(i.setAttribute("stroke",o.color),i.setAttribute("stroke-opacity",o.opacity),i.setAttribute("stroke-width",o.weight),i.setAttribute("stroke-linecap",o.lineCap),i.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?i.setAttribute("stroke-dasharray",o.dashArray):i.removeAttribute("stroke-dasharray"),o.dashOffset?i.setAttribute("stroke-dashoffset",o.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),o.fill?(i.setAttribute("fill",o.fillColor||o.color),i.setAttribute("fill-opacity",o.fillOpacity),i.setAttribute("fill-rule",o.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(e,i){this._setPath(e,aa(e._parts,i))},_updateCircle:function(e){var i=e._point,o=Math.max(Math.round(e._radius),1),l=Math.max(Math.round(e._radiusY),1)||o,u="a"+o+","+l+" 0 1,0 ",f=e._empty()?"M0 0":"M"+(i.x-o)+","+i.y+u+o*2+",0 "+u+-o*2+",0 ";this._setPath(e,f)},_setPath:function(e,i){e._path.setAttribute("d",i)},_bringToFront:function(e){ii(e._path)},_bringToBack:function(e){ni(e._path)}});I.vml&&zi.include(ld);function nl(e){return I.svg||I.vml?new zi(e):null}K.include({getRenderer:function(e){var i=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var i=this._paneRenderers[e];return i===void 0&&(i=this._createRenderer({pane:e}),this._paneRenderers[e]=i),i},_createRenderer:function(e){return this.options.preferCanvas&&il(e)||nl(e)}});var rl=oi.extend({initialize:function(e,i){oi.prototype.initialize.call(this,this._boundsToLatLngs(e),i)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=ue(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function cd(e,i){return new rl(e,i)}zi.create=zn,zi.pointsToPath=aa,ft.geometryToLayer=On,ft.coordsToLatLng=_s,ft.coordsToLatLngs=Rn,ft.latLngToCoords=ys,ft.latLngsToCoords=Nn,ft.getFeature=ai,ft.asFeature=Fn,K.mergeOptions({boxZoom:!0});var sl=it.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){z(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ie(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){oe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Di(),ts(),this._startPoint=this._map.mouseEventToContainerPoint(e),z(document,{contextmenu:jt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=J("div","leaflet-zoom-box",this._container),Z(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var i=new se(this._point,this._startPoint),o=i.getSize();de(this._box,i.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(oe(this._box),ce(this._container,"leaflet-crosshair")),Li(),is(),ie(document,{contextmenu:jt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var i=new Le(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});K.addInitHook("addHandler","boxZoom",sl),K.mergeOptions({doubleClickZoom:!0});var ol=it.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var i=this._map,o=i.getZoom(),l=i.options.zoomDelta,u=e.originalEvent.shiftKey?o-l:o+l;i.options.doubleClickZoom==="center"?i.setZoom(u):i.setZoomAround(e.containerPoint,u)}});K.addInitHook("addHandler","doubleClickZoom",ol),K.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var al=it.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Tt(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}Z(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ce(this._map._container,"leaflet-grab"),ce(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=ue(this._map.options.maxBounds);this._offsetLimit=De(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var i=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(i),this._prunePositions(i)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,i){return e-(e-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;e.x<i.min.x&&(e.x=this._viscousLimit(e.x,i.min.x)),e.y<i.min.y&&(e.y=this._viscousLimit(e.y,i.min.y)),e.x>i.max.x&&(e.x=this._viscousLimit(e.x,i.max.x)),e.y>i.max.y&&(e.y=this._viscousLimit(e.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,i=Math.round(e/2),o=this._initialWorldOffset,l=this._draggable._newPos.x,u=(l-i+o)%e+i-o,f=(l+i+o)%e-i-o,g=Math.abs(u+o)<Math.abs(f+o)?u:f;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=g},_onDragEnd:function(e){var i=this._map,o=i.options,l=!o.inertia||e.noInertia||this._times.length<2;if(i.fire("dragend",e),l)i.fire("moveend");else{this._prunePositions(+new Date);var u=this._lastPos.subtract(this._positions[0]),f=(this._lastTime-this._times[0])/1e3,g=o.easeLinearity,v=u.multiplyBy(g/f),_=v.distanceTo([0,0]),b=Math.min(o.inertiaMaxSpeed,_),S=v.multiplyBy(b/_),O=b/(o.inertiaDeceleration*g),$=S.multiplyBy(-O/2).round();!$.x&&!$.y?i.fire("moveend"):($=i._limitOffset($,i.options.maxBounds),ke(function(){i.panBy($,{duration:O,easeLinearity:g,noMoveStart:!0,animate:!0})}))}}});K.addInitHook("addHandler","dragging",al),K.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ll=it.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),z(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ie(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,i=document.documentElement,o=e.scrollTop||i.scrollTop,l=e.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(l,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var i=this._panKeys={},o=this.keyCodes,l,u;for(l=0,u=o.left.length;l<u;l++)i[o.left[l]]=[-1*e,0];for(l=0,u=o.right.length;l<u;l++)i[o.right[l]]=[e,0];for(l=0,u=o.down.length;l<u;l++)i[o.down[l]]=[0,e];for(l=0,u=o.up.length;l<u;l++)i[o.up[l]]=[0,-1*e]},_setZoomDelta:function(e){var i=this._zoomKeys={},o=this.keyCodes,l,u;for(l=0,u=o.zoomIn.length;l<u;l++)i[o.zoomIn[l]]=e;for(l=0,u=o.zoomOut.length;l<u;l++)i[o.zoomOut[l]]=-e},_addHooks:function(){z(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ie(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var i=e.keyCode,o=this._map,l;if(i in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(l=this._panKeys[i],e.shiftKey&&(l=U(l).multiplyBy(3)),o.options.maxBounds&&(l=o._limitOffset(U(l),o.options.maxBounds)),o.options.worldCopyJump){var u=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(l)));o.panTo(u)}else o.panBy(l)}else if(i in this._zoomKeys)o.setZoom(o.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&o._popup&&o._popup.options.closeOnEscapeKey)o.closePopup();else return;jt(e)}}});K.addInitHook("addHandler","keyboard",ll),K.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var cl=it.extend({addHooks:function(){z(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ie(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var i=La(e),o=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var l=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),l),jt(e)},_performZoom:function(){var e=this._map,i=e.getZoom(),o=this._map.options.zoomSnap||0;e._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),u=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,f=o?Math.ceil(u/o)*o:u,g=e._limitZoom(i+(this._delta>0?f:-f))-i;this._delta=0,this._startTime=null,g&&(e.options.scrollWheelZoom==="center"?e.setZoom(i+g):e.setZoomAround(this._lastMousePos,i+g))}});K.addInitHook("addHandler","scrollWheelZoom",cl);var hd=600;K.mergeOptions({tapHold:I.touchNative&&I.safari&&I.mobile,tapTolerance:15});var hl=it.extend({addHooks:function(){z(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ie(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var i=e.touches[0];this._startPos=this._newPos=new j(i.clientX,i.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(z(document,"touchend",be),z(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),hd),z(document,"touchend touchcancel contextmenu",this._cancel,this),z(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){ie(document,"touchend",be),ie(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),ie(document,"touchend touchcancel contextmenu",this._cancel,this),ie(document,"touchmove",this._onMove,this)},_onMove:function(e){var i=e.touches[0];this._newPos=new j(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,i){var o=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});o._simulated=!0,i.target.dispatchEvent(o)}});K.addInitHook("addHandler","tapHold",hl),K.mergeOptions({touchZoom:I.touch,bounceAtZoomLimits:!0});var ul=it.extend({addHooks:function(){Z(this._map._container,"leaflet-touch-zoom"),z(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ce(this._map._container,"leaflet-touch-zoom"),ie(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var i=this._map;if(!(!e.touches||e.touches.length!==2||i._animatingZoom||this._zooming)){var o=i.mouseEventToContainerPoint(e.touches[0]),l=i.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(o.add(l)._divideBy(2))),this._startDist=o.distanceTo(l),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),z(document,"touchmove",this._onTouchMove,this),z(document,"touchend touchcancel",this._onTouchEnd,this),be(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var i=this._map,o=i.mouseEventToContainerPoint(e.touches[0]),l=i.mouseEventToContainerPoint(e.touches[1]),u=o.distanceTo(l)/this._startDist;if(this._zoom=i.getScaleZoom(u,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&u<1||this._zoom>i.getMaxZoom()&&u>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,u===1)return}else{var f=o._add(l)._divideBy(2)._subtract(this._centerPoint);if(u===1&&f.x===0&&f.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(f),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),Ze(this._animRequest);var g=s(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ke(g,this,!0),be(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ze(this._animRequest),ie(document,"touchmove",this._onTouchMove,this),ie(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});K.addInitHook("addHandler","touchZoom",ul),K.BoxZoom=sl,K.DoubleClickZoom=ol,K.Drag=al,K.Keyboard=ll,K.ScrollWheelZoom=cl,K.TapHold=hl,K.TouchZoom=ul,r.Bounds=se,r.Browser=I,r.CRS=ht,r.Canvas=tl,r.Circle=vs,r.CircleMarker=Ln,r.Class=ct,r.Control=Je,r.DivIcon=Ya,r.DivOverlay=nt,r.DomEvent=Mu,r.DomUtil=Tu,r.Draggable=Tt,r.Evented=Ei,r.FeatureGroup=ut,r.GeoJSON=ft,r.GridLayer=Vi,r.Handler=it,r.Icon=si,r.ImageOverlay=Un,r.LatLng=Q,r.LatLngBounds=Le,r.Layer=Xe,r.LayerGroup=ri,r.LineUtil=zu,r.Map=K,r.Marker=Dn,r.Mixin=Ru,r.Path=Et,r.Point=j,r.PolyUtil=Nu,r.Polygon=oi,r.Polyline=dt,r.Popup=Vn,r.PosAnimation=Oa,r.Projection=Bu,r.Rectangle=rl,r.Renderer=pt,r.SVG=zi,r.SVGOverlay=Xa,r.TileLayer=li,r.Tooltip=jn,r.Transformation=Zr,r.Util=qh,r.VideoOverlay=Ja,r.bind=s,r.bounds=De,r.canvas=il,r.circle=Ju,r.circleMarker=Ku,r.control=Ni,r.divIcon=sd,r.extend=a,r.featureGroup=Wu,r.geoJSON=Ka,r.geoJson=Qu,r.gridLayer=od,r.icon=Gu,r.imageOverlay=ed,r.latLng=q,r.latLngBounds=ue,r.layerGroup=$u,r.map=Iu,r.marker=qu,r.point=U,r.polygon=Yu,r.polyline=Xu,r.popup=nd,r.rectangle=cd,r.setOptions=C,r.stamp=h,r.svg=nl,r.svgOverlay=id,r.tileLayer=Qa,r.tooltip=rd,r.transformation=Mi,r.version=t,r.videoOverlay=td;var ud=window.L;r.noConflict=function(){return window.L=ud,this},window.L=r})});var Ji=class{},ir=class{},Ie=class r{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(a=>{let n=a.indexOf(":");if(n>0){let s=a.slice(0,n),c=s.toLowerCase(),h=a.slice(n+1).trim();this.maybeSetNormalizedName(s,c),this.headers.has(c)?this.headers.get(c).push(h):this.headers.set(c,[h])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((a,n)=>{this.setHeaderEntries(n,a)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([a,n])=>{this.setHeaderEntries(a,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let a=this.headers.get(t.toLowerCase());return a&&a.length>0?a[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,a){return this.clone({name:t,value:a,op:"a"})}set(t,a){return this.clone({name:t,value:a,op:"s"})}delete(t,a){return this.clone({name:t,value:a,op:"d"})}maybeSetNormalizedName(t,a){this.normalizedNames.has(a)||this.normalizedNames.set(a,t)}init(){this.lazyInit&&(this.lazyInit instanceof r?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(a=>{this.headers.set(a,t.headers.get(a)),this.normalizedNames.set(a,t.normalizedNames.get(a))})}clone(t){let a=new r;return a.lazyInit=this.lazyInit&&this.lazyInit instanceof r?this.lazyInit:this,a.lazyUpdate=(this.lazyUpdate||[]).concat([t]),a}applyUpdate(t){let a=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,a);let s=(t.op==="a"?this.headers.get(a):void 0)||[];s.push(...n),this.headers.set(a,s);break;case"d":let c=t.value;if(!c)this.headers.delete(a),this.normalizedNames.delete(a);else{let h=this.headers.get(a);if(!h)return;h=h.filter(d=>c.indexOf(d)===-1),h.length===0?(this.headers.delete(a),this.normalizedNames.delete(a)):this.headers.set(a,h)}break}}setHeaderEntries(t,a){let n=(Array.isArray(a)?a:[a]).map(c=>c.toString()),s=t.toLowerCase();this.headers.set(s,n),this.maybeSetNormalizedName(t,s)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(a=>t(this.normalizedNames.get(a),this.headers.get(a)))}};var Hs=class{encodeKey(t){return lc(t)}encodeValue(t){return lc(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Sd(r,t){let a=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(s=>{let c=s.indexOf("="),[h,d]=c==-1?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,c)),t.decodeValue(s.slice(c+1))],m=a.get(h)||[];m.push(d),a.set(h,m)}),a}var Pd=/%(\d[a-f0-9])/gi,Td={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lc(r){return encodeURIComponent(r).replace(Pd,(t,a)=>Td[a]??t)}function tr(r){return`${r}`}var Te=class r{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Hs,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Sd(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(a=>{let n=t.fromObject[a],s=Array.isArray(n)?n.map(tr):[tr(n)];this.map.set(a,s)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let a=this.map.get(t);return a?a[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,a){return this.clone({param:t,value:a,op:"a"})}appendAll(t){let a=[];return Object.keys(t).forEach(n=>{let s=t[n];Array.isArray(s)?s.forEach(c=>{a.push({param:n,value:c,op:"a"})}):a.push({param:n,value:s,op:"a"})}),this.clone(a)}set(t,a){return this.clone({param:t,value:a,op:"s"})}delete(t,a){return this.clone({param:t,value:a,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let a=this.encoder.encodeKey(t);return this.map.get(t).map(n=>a+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let a=new r({encoder:this.encoder});return a.cloneFrom=this.cloneFrom||this,a.updates=(this.updates||[]).concat(t),a}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let a=(t.op==="a"?this.map.get(t.param):void 0)||[];a.push(tr(t.value)),this.map.set(t.param,a);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],s=n.indexOf(tr(t.value));s!==-1&&n.splice(s,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var $s=class{constructor(){this.map=new Map}set(t,a){return this.map.set(t,a),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Ed(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function cc(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function hc(r){return typeof Blob<"u"&&r instanceof Blob}function uc(r){return typeof FormData<"u"&&r instanceof FormData}function Md(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}var Ki=class r{constructor(t,a,n,s){this.url=a,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let c;if(Ed(this.method)||s?(this.body=n!==void 0?n:null,c=s):c=n,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params),this.transferCache=c.transferCache),this.headers??=new Ie,this.context??=new $s,!this.params)this.params=new Te,this.urlWithParams=a;else{let h=this.params.toString();if(h.length===0)this.urlWithParams=a;else{let d=a.indexOf("?"),m=d===-1?"?":d<a.length-1?"&":"";this.urlWithParams=a+m+h}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||cc(this.body)||hc(this.body)||uc(this.body)||Md(this.body)?this.body:this.body instanceof Te?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||uc(this.body)?null:hc(this.body)?this.body.type||null:cc(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Te?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let a=t.method||this.method,n=t.url||this.url,s=t.responseType||this.responseType,c=t.transferCache??this.transferCache,h=t.body!==void 0?t.body:this.body,d=t.withCredentials??this.withCredentials,m=t.reportProgress??this.reportProgress,p=t.headers||this.headers,w=t.params||this.params,x=t.context??this.context;return t.setHeaders!==void 0&&(p=Object.keys(t.setHeaders).reduce((y,C)=>y.set(C,t.setHeaders[C]),p)),t.setParams&&(w=Object.keys(t.setParams).reduce((y,C)=>y.set(C,t.setParams[C]),w)),new r(a,n,h,{params:w,headers:p,context:x,reportProgress:m,responseType:s,withCredentials:d,transferCache:c})}},mi=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(mi||{}),Xi=class{constructor(t,a=sr.Ok,n="OK"){this.headers=t.headers||new Ie,this.status=t.status!==void 0?t.status:a,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Ws=class r extends Xi{constructor(t={}){super(t),this.type=mi.ResponseHeader}clone(t={}){return new r({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},nr=class r extends Xi{constructor(t={}){super(t),this.type=mi.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new r({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},rr=class extends Xi{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},sr=function(r){return r[r.Continue=100]="Continue",r[r.SwitchingProtocols=101]="SwitchingProtocols",r[r.Processing=102]="Processing",r[r.EarlyHints=103]="EarlyHints",r[r.Ok=200]="Ok",r[r.Created=201]="Created",r[r.Accepted=202]="Accepted",r[r.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",r[r.NoContent=204]="NoContent",r[r.ResetContent=205]="ResetContent",r[r.PartialContent=206]="PartialContent",r[r.MultiStatus=207]="MultiStatus",r[r.AlreadyReported=208]="AlreadyReported",r[r.ImUsed=226]="ImUsed",r[r.MultipleChoices=300]="MultipleChoices",r[r.MovedPermanently=301]="MovedPermanently",r[r.Found=302]="Found",r[r.SeeOther=303]="SeeOther",r[r.NotModified=304]="NotModified",r[r.UseProxy=305]="UseProxy",r[r.Unused=306]="Unused",r[r.TemporaryRedirect=307]="TemporaryRedirect",r[r.PermanentRedirect=308]="PermanentRedirect",r[r.BadRequest=400]="BadRequest",r[r.Unauthorized=401]="Unauthorized",r[r.PaymentRequired=402]="PaymentRequired",r[r.Forbidden=403]="Forbidden",r[r.NotFound=404]="NotFound",r[r.MethodNotAllowed=405]="MethodNotAllowed",r[r.NotAcceptable=406]="NotAcceptable",r[r.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",r[r.RequestTimeout=408]="RequestTimeout",r[r.Conflict=409]="Conflict",r[r.Gone=410]="Gone",r[r.LengthRequired=411]="LengthRequired",r[r.PreconditionFailed=412]="PreconditionFailed",r[r.PayloadTooLarge=413]="PayloadTooLarge",r[r.UriTooLong=414]="UriTooLong",r[r.UnsupportedMediaType=415]="UnsupportedMediaType",r[r.RangeNotSatisfiable=416]="RangeNotSatisfiable",r[r.ExpectationFailed=417]="ExpectationFailed",r[r.ImATeapot=418]="ImATeapot",r[r.MisdirectedRequest=421]="MisdirectedRequest",r[r.UnprocessableEntity=422]="UnprocessableEntity",r[r.Locked=423]="Locked",r[r.FailedDependency=424]="FailedDependency",r[r.TooEarly=425]="TooEarly",r[r.UpgradeRequired=426]="UpgradeRequired",r[r.PreconditionRequired=428]="PreconditionRequired",r[r.TooManyRequests=429]="TooManyRequests",r[r.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",r[r.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",r[r.InternalServerError=500]="InternalServerError",r[r.NotImplemented=501]="NotImplemented",r[r.BadGateway=502]="BadGateway",r[r.ServiceUnavailable=503]="ServiceUnavailable",r[r.GatewayTimeout=504]="GatewayTimeout",r[r.HttpVersionNotSupported=505]="HttpVersionNotSupported",r[r.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",r[r.InsufficientStorage=507]="InsufficientStorage",r[r.LoopDetected=508]="LoopDetected",r[r.NotExtended=510]="NotExtended",r[r.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",r}(sr||{});function Zs(r,t){return{body:t,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials,transferCache:r.transferCache}}var Ct=(()=>{let t=class t{constructor(n){this.handler=n}request(n,s,c={}){let h;if(n instanceof Ki)h=n;else{let p;c.headers instanceof Ie?p=c.headers:p=new Ie(c.headers);let w;c.params&&(c.params instanceof Te?w=c.params:w=new Te({fromObject:c.params})),h=new Ki(n,s,c.body!==void 0?c.body:null,{headers:p,context:c.context,params:w,reportProgress:c.reportProgress,responseType:c.responseType||"json",withCredentials:c.withCredentials,transferCache:c.transferCache})}let d=A(h).pipe(Bt(p=>this.handler.handle(p)));if(n instanceof Ki||c.observe==="events")return d;let m=d.pipe(ve(p=>p instanceof nr));switch(c.observe||"body"){case"body":switch(h.responseType){case"arraybuffer":return m.pipe(W(p=>{if(p.body!==null&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return m.pipe(W(p=>{if(p.body!==null&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return m.pipe(W(p=>{if(p.body!==null&&typeof p.body!="string")throw new Error("Response is not a string.");return p.body}));case"json":default:return m.pipe(W(p=>p.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${c.observe}}`)}}delete(n,s={}){return this.request("DELETE",n,s)}get(n,s={}){return this.request("GET",n,s)}head(n,s={}){return this.request("HEAD",n,s)}jsonp(n,s){return this.request("JSONP",n,{params:new Te().append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,s={}){return this.request("OPTIONS",n,s)}patch(n,s,c={}){return this.request("PATCH",n,Zs(c,s))}post(n,s,c={}){return this.request("POST",n,Zs(c,s))}put(n,s,c={}){return this.request("PUT",n,Zs(c,s))}};t.\u0275fac=function(s){return new(s||t)(F(Ji))},t.\u0275prov=V({token:t,factory:t.\u0275fac});let r=t;return r})();function Id(r,t){return t(r)}function Ad(r,t,a){return(n,s)=>_t(a,()=>t(n,c=>r(c,s)))}var pc=new ee(""),mc=new ee(""),kd=new ee(""),Dd=new ee("");var dc=(()=>{let t=class t extends Ji{constructor(n,s){super(),this.backend=n,this.injector=s,this.chain=null,this.pendingTasks=D(Wn);let c=D(Dd,{optional:!0});this.backend=c??n}handle(n){if(this.chain===null){let c=Array.from(new Set([...this.injector.get(mc),...this.injector.get(kd,[])]));this.chain=c.reduceRight((h,d)=>Ad(h,d,this.injector),Id)}let s=this.pendingTasks.add();return this.chain(n,c=>this.backend.handle(c)).pipe(hi(()=>this.pendingTasks.remove(s)))}};t.\u0275fac=function(s){return new(s||t)(F(ir),F(ui))},t.\u0275prov=V({token:t,factory:t.\u0275fac});let r=t;return r})();var Ld=/^\)\]\}',?\n/;function Od(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}var fc=(()=>{let t=class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new ae(-2800,!1);let s=this.xhrFactory;return(s.\u0275loadImpl?Ce(s.\u0275loadImpl()):A(null)).pipe(Fe(()=>new Zn(h=>{let d=s.build();if(d.open(n.method,n.urlWithParams),n.withCredentials&&(d.withCredentials=!0),n.headers.forEach((N,R)=>d.setRequestHeader(N,R.join(","))),n.headers.has("Accept")||d.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let N=n.detectContentTypeHeader();N!==null&&d.setRequestHeader("Content-Type",N)}if(n.responseType){let N=n.responseType.toLowerCase();d.responseType=N!=="json"?N:"text"}let m=n.serializeBody(),p=null,w=()=>{if(p!==null)return p;let N=d.statusText||"OK",R=new Ie(d.getAllResponseHeaders()),we=Od(d)||n.url;return p=new Ws({headers:R,status:d.status,statusText:N,url:we}),p},x=()=>{let{headers:N,status:R,statusText:we,url:H}=w(),re=null;R!==sr.NoContent&&(re=typeof d.response>"u"?d.responseText:d.response),R===0&&(R=re?sr.Ok:0);let lt=R>=200&&R<300;if(n.responseType==="json"&&typeof re=="string"){let ei=re;re=re.replace(Ld,"");try{re=re!==""?JSON.parse(re):null}catch(St){re=ei,lt&&(lt=!1,re={error:St,text:re})}}lt?(h.next(new nr({body:re,headers:N,status:R,statusText:we,url:H||void 0})),h.complete()):h.error(new rr({error:re,headers:N,status:R,statusText:we,url:H||void 0}))},y=N=>{let{url:R}=w(),we=new rr({error:N,status:d.status||0,statusText:d.statusText||"Unknown Error",url:R||void 0});h.error(we)},C=!1,E=N=>{C||(h.next(w()),C=!0);let R={type:mi.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),n.responseType==="text"&&d.responseText&&(R.partialText=d.responseText),h.next(R)},Y=N=>{let R={type:mi.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),h.next(R)};return d.addEventListener("load",x),d.addEventListener("error",y),d.addEventListener("timeout",y),d.addEventListener("abort",y),n.reportProgress&&(d.addEventListener("progress",E),m!==null&&d.upload&&d.upload.addEventListener("progress",Y)),d.send(m),h.next({type:mi.Sent}),()=>{d.removeEventListener("error",y),d.removeEventListener("abort",y),d.removeEventListener("load",x),d.removeEventListener("timeout",y),n.reportProgress&&(d.removeEventListener("progress",E),m!==null&&d.upload&&d.upload.removeEventListener("progress",Y)),d.readyState!==d.DONE&&d.abort()}})))}};t.\u0275fac=function(s){return new(s||t)(F(er))},t.\u0275prov=V({token:t,factory:t.\u0275fac});let r=t;return r})(),gc=new ee(""),Rd="XSRF-TOKEN",Nd=new ee("",{providedIn:"root",factory:()=>Rd}),Fd="X-XSRF-TOKEN",Ud=new ee("",{providedIn:"root",factory:()=>Fd}),or=class{},Vd=(()=>{let t=class t{constructor(n,s,c){this.doc=n,this.platform=s,this.cookieName=c,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xn(n,this.cookieName),this.lastCookieString=n),this.lastToken}};t.\u0275fac=function(s){return new(s||t)(F(Pe),F(Wt),F(Nd))},t.\u0275prov=V({token:t,factory:t.\u0275fac});let r=t;return r})();function jd(r,t){let a=r.url.toLowerCase();if(!D(gc)||r.method==="GET"||r.method==="HEAD"||a.startsWith("http://")||a.startsWith("https://"))return t(r);let n=D(or).getToken(),s=D(Ud);return n!=null&&!r.headers.has(s)&&(r=r.clone({headers:r.headers.set(s,n)})),t(r)}function vc(...r){let t=[Ct,fc,dc,{provide:Ji,useExisting:dc},{provide:ir,useExisting:fc},{provide:mc,useValue:jd,multi:!0},{provide:gc,useValue:!0},{provide:or,useClass:Vd}];for(let a of r)t.push(...a.\u0275providers);return vt(t)}var Ks=class extends nc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Js=class r extends Ks{static makeCurrent(){ic(new r)}onAndCancel(t,a,n){return t.addEventListener(a,n),()=>{t.removeEventListener(a,n)}}dispatchEvent(t,a){t.dispatchEvent(a)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,a){return a=a||this.getDefaultDocument(),a.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,a){return a==="window"?window:a==="document"?t:a==="body"?t.body:null}getBaseHref(t){let a=Zd();return a==null?null:Hd(a)}resetBaseElement(){Yi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Xn(document.cookie,t)}},Yi=null;function Zd(){return Yi=Yi||document.querySelector("base"),Yi?Yi.getAttribute("href"):null}function Hd(r){return new URL(r,document.baseURI).pathname}var $d=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=V({token:t,factory:t.\u0275fac});let r=t;return r})(),Xs=new ee(""),bc=(()=>{let t=class t{constructor(n,s){this._zone=s,this._eventNameToPlugin=new Map,n.forEach(c=>{c.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,s,c){return this._findPluginFor(s).addEventListener(n,s,c)}getZone(){return this._zone}_findPluginFor(n){let s=this._eventNameToPlugin.get(n);if(s)return s;if(s=this._plugins.find(h=>h.supports(n)),!s)throw new ae(5101,!1);return this._eventNameToPlugin.set(n,s),s}};t.\u0275fac=function(s){return new(s||t)(F(Xs),F(Ue))},t.\u0275prov=V({token:t,factory:t.\u0275fac});let r=t;return r})(),cr=class{constructor(t){this._doc=t}},Gs="ng-app-id",Cc=(()=>{let t=class t{constructor(n,s,c,h={}){this.doc=n,this.appId=s,this.nonce=c,this.platformId=h,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Qn(h),this.resetHostNodes()}addStyles(n){for(let s of n)this.changeUsageCount(s,1)===1&&this.onStyleAdded(s)}removeStyles(n){for(let s of n)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(s=>s.remove()),n.clear());for(let s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let s of this.getAllStyles())this.addStyleToHost(n,s)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let s of this.hostNodes)this.addStyleToHost(s,n)}onStyleRemoved(n){let s=this.styleRef;s.get(n)?.elements?.forEach(c=>c.remove()),s.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Gs}="${this.appId}"]`);if(n?.length){let s=new Map;return n.forEach(c=>{c.textContent!=null&&s.set(c.textContent,c)}),s}return null}changeUsageCount(n,s){let c=this.styleRef;if(c.has(n)){let h=c.get(n);return h.usage+=s,h.usage}return c.set(n,{usage:s,elements:[]}),s}getStyleElement(n,s){let c=this.styleNodesInDOM,h=c?.get(s);if(h?.parentNode===n)return c.delete(s),h.removeAttribute(Gs),h;{let d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=s,this.platformIsServer&&d.setAttribute(Gs,this.appId),n.appendChild(d),d}}addStyleToHost(n,s){let c=this.getStyleElement(n,s),h=this.styleRef,d=h.get(s)?.elements;d?d.push(c):h.set(s,{elements:[c],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};t.\u0275fac=function(s){return new(s||t)(F(Pe),F(Ls),F(Os,8),F(Wt))},t.\u0275prov=V({token:t,factory:t.\u0275fac});let r=t;return r})(),qs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qs=/%COMP%/g,xc="%COMP%",Wd=`_nghost-${xc}`,Gd=`_ngcontent-${xc}`,qd=!0,Kd=new ee("",{providedIn:"root",factory:()=>qd});function Jd(r){return Gd.replace(Qs,r)}function Xd(r){return Wd.replace(Qs,r)}function Sc(r,t){return t.map(a=>a.replace(Qs,r))}var hr=(()=>{let t=class t{constructor(n,s,c,h,d,m,p,w=null){this.eventManager=n,this.sharedStylesHost=s,this.appId=c,this.removeStylesOnCompDestroy=h,this.doc=d,this.platformId=m,this.ngZone=p,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=Qn(m),this.defaultRenderer=new Qi(n,d,p,this.platformIsServer)}createRenderer(n,s){if(!n||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===Zi.ShadowDom&&(s=he(M({},s),{encapsulation:Zi.Emulated}));let c=this.getOrCreateRenderer(n,s);return c instanceof ur?c.applyToHost(n):c instanceof en&&c.applyStyles(),c}getOrCreateRenderer(n,s){let c=this.rendererByCompId,h=c.get(s.id);if(!h){let d=this.doc,m=this.ngZone,p=this.eventManager,w=this.sharedStylesHost,x=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(s.encapsulation){case Zi.Emulated:h=new ur(p,w,s,this.appId,x,d,m,y);break;case Zi.ShadowDom:return new Ys(p,w,n,s,d,m,this.nonce,y);default:h=new en(p,w,s,x,d,m,y);break}c.set(s.id,h)}return h}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(s){return new(s||t)(F(bc),F(Cc),F(Ls),F(Kd),F(Pe),F(Wt),F(Ue),F(Os))},t.\u0275prov=V({token:t,factory:t.\u0275fac});let r=t;return r})(),Qi=class{constructor(t,a,n,s){this.eventManager=t,this.doc=a,this.ngZone=n,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,a){return a?this.doc.createElementNS(qs[a]||a,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,a){(_c(t)?t.content:t).appendChild(a)}insertBefore(t,a,n){t&&(_c(t)?t.content:t).insertBefore(a,n)}removeChild(t,a){t&&t.removeChild(a)}selectRootElement(t,a){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new ae(-5104,!1);return a||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,a,n,s){if(s){a=s+":"+a;let c=qs[s];c?t.setAttributeNS(c,a,n):t.setAttribute(a,n)}else t.setAttribute(a,n)}removeAttribute(t,a,n){if(n){let s=qs[n];s?t.removeAttributeNS(s,a):t.removeAttribute(`${n}:${a}`)}else t.removeAttribute(a)}addClass(t,a){t.classList.add(a)}removeClass(t,a){t.classList.remove(a)}setStyle(t,a,n,s){s&(Wi.DashCase|Wi.Important)?t.style.setProperty(a,n,s&Wi.Important?"important":""):t.style[a]=n}removeStyle(t,a,n){n&Wi.DashCase?t.style.removeProperty(a):t.style[a]=""}setProperty(t,a,n){t!=null&&(t[a]=n)}setValue(t,a){t.nodeValue=a}listen(t,a,n){if(typeof t=="string"&&(t=pi().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${a}`);return this.eventManager.addEventListener(t,a,this.decoratePreventDefault(n))}decoratePreventDefault(t){return a=>{if(a==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(a)):t(a))===!1&&a.preventDefault()}}};function _c(r){return r.tagName==="TEMPLATE"&&r.content!==void 0}var Ys=class extends Qi{constructor(t,a,n,s,c,h,d,m){super(t,c,h,m),this.sharedStylesHost=a,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=Sc(s.id,s.styles);for(let w of p){let x=document.createElement("style");d&&x.setAttribute("nonce",d),x.textContent=w,this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,a){return super.appendChild(this.nodeOrShadowRoot(t),a)}insertBefore(t,a,n){return super.insertBefore(this.nodeOrShadowRoot(t),a,n)}removeChild(t,a){return super.removeChild(this.nodeOrShadowRoot(t),a)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},en=class extends Qi{constructor(t,a,n,s,c,h,d,m){super(t,c,h,d),this.sharedStylesHost=a,this.removeStylesOnCompDestroy=s,this.styles=m?Sc(m,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ur=class extends en{constructor(t,a,n,s,c,h,d,m){let p=s+"-"+n.id;super(t,a,n,c,h,d,m,p),this.contentAttr=Jd(p),this.hostAttr=Xd(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,a){let n=super.createElement(t,a);return super.setAttribute(n,this.contentAttr,""),n}},Yd=(()=>{let t=class t extends cr{constructor(n){super(n)}supports(n){return!0}addEventListener(n,s,c){return n.addEventListener(s,c,!1),()=>this.removeEventListener(n,s,c)}removeEventListener(n,s,c){return n.removeEventListener(s,c)}};t.\u0275fac=function(s){return new(s||t)(F(Pe))},t.\u0275prov=V({token:t,factory:t.\u0275fac});let r=t;return r})(),yc=["alt","control","meta","shift"],Qd={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ef={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey},tf=(()=>{let t=class t extends cr{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,s,c){let h=t.parseEventName(s),d=t.eventCallback(h.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pi().onAndCancel(n,h.domEventName,d))}static parseEventName(n){let s=n.toLowerCase().split("."),c=s.shift();if(s.length===0||!(c==="keydown"||c==="keyup"))return null;let h=t._normalizeKey(s.pop()),d="",m=s.indexOf("code");if(m>-1&&(s.splice(m,1),d="code."),yc.forEach(w=>{let x=s.indexOf(w);x>-1&&(s.splice(x,1),d+=w+".")}),d+=h,s.length!=0||h.length===0)return null;let p={};return p.domEventName=c,p.fullKey=d,p}static matchEventFullKeyCode(n,s){let c=Qd[n.key]||n.key,h="";return s.indexOf("code.")>-1&&(c=n.code,h="code."),c==null||!c?!1:(c=c.toLowerCase(),c===" "?c="space":c==="."&&(c="dot"),yc.forEach(d=>{if(d!==c){let m=ef[d];m(n)&&(h+=d+".")}}),h+=c,h===s)}static eventCallback(n,s,c){return h=>{t.matchEventFullKeyCode(h,n)&&c.runGuarded(()=>s(h))}}static _normalizeKey(n){return n==="esc"?"escape":n}};t.\u0275fac=function(s){return new(s||t)(F(Pe))},t.\u0275prov=V({token:t,factory:t.\u0275fac});let r=t;return r})();function Pc(r,t){return tc(M({rootComponent:r},nf(t)))}function nf(r){return{appProviders:[...lf,...r?.providers??[]],platformProviders:af}}function rf(){Js.makeCurrent()}function sf(){return new Ds}function of(){return Ol(document),document}var af=[{provide:Wt,useValue:ac},{provide:Rl,useValue:rf,multi:!0},{provide:Pe,useFactory:of,deps:[]}];var lf=[{provide:Dl,useValue:"root"},{provide:Ds,useFactory:sf,deps:[]},{provide:Xs,useClass:Yd,multi:!0,deps:[Pe,Ue,Wt]},{provide:Xs,useClass:tf,multi:!0,deps:[Pe]},hr,Cc,bc,{provide:$n,useExisting:hr},{provide:er,useClass:$d,deps:[]},[]];var Tc=(()=>{let t=class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};t.\u0275fac=function(s){return new(s||t)(F(Pe))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var B="primary",gn=Symbol("RouteTitle"),ro=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let a=this.params[t];return Array.isArray(a)?a[0]:a}return null}getAll(t){if(this.has(t)){let a=this.params[t];return Array.isArray(a)?a:[a]}return[]}get keys(){return Object.keys(this.params)}};function wi(r){return new ro(r)}function hf(r,t,a){let n=a.path.split("/");if(n.length>r.length||a.pathMatch==="full"&&(t.hasChildren()||n.length<r.length))return null;let s={};for(let c=0;c<n.length;c++){let h=n[c],d=r[c];if(h.startsWith(":"))s[h.substring(1)]=d;else if(h!==d.path)return null}return{consumed:r.slice(0,n.length),posParams:s}}function uf(r,t){if(r.length!==t.length)return!1;for(let a=0;a<r.length;++a)if(!rt(r[a],t[a]))return!1;return!0}function rt(r,t){let a=r?so(r):void 0,n=t?so(t):void 0;if(!a||!n||a.length!=n.length)return!1;let s;for(let c=0;c<a.length;c++)if(s=a[c],!Dc(r[s],t[s]))return!1;return!0}function so(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function Dc(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;let a=[...r].sort(),n=[...t].sort();return a.every((s,c)=>n[c]===s)}else return r===t}function Lc(r){return r.length>0?r[r.length-1]:null}function Rt(r){return _l(r)?r:qn(r)?Ce(Promise.resolve(r)):A(r)}var df={exact:Rc,subset:Nc},Oc={exact:ff,subset:pf,ignored:()=>!0};function Ec(r,t,a){return df[a.paths](r.root,t.root,a.matrixParams)&&Oc[a.queryParams](r.queryParams,t.queryParams)&&!(a.fragment==="exact"&&r.fragment!==t.fragment)}function ff(r,t){return rt(r,t)}function Rc(r,t,a){if(!Jt(r.segments,t.segments)||!pr(r.segments,t.segments,a)||r.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!r.children[n]||!Rc(r.children[n],t.children[n],a))return!1;return!0}function pf(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(a=>Dc(r[a],t[a]))}function Nc(r,t,a){return Fc(r,t,t.segments,a)}function Fc(r,t,a,n){if(r.segments.length>a.length){let s=r.segments.slice(0,a.length);return!(!Jt(s,a)||t.hasChildren()||!pr(s,a,n))}else if(r.segments.length===a.length){if(!Jt(r.segments,a)||!pr(r.segments,a,n))return!1;for(let s in t.children)if(!r.children[s]||!Nc(r.children[s],t.children[s],n))return!1;return!0}else{let s=a.slice(0,r.segments.length),c=a.slice(r.segments.length);return!Jt(r.segments,s)||!pr(r.segments,s,n)||!r.children[B]?!1:Fc(r.children[B],t,c,n)}}function pr(r,t,a){return t.every((n,s)=>Oc[a](r[s].parameters,n.parameters))}var Dt=class{constructor(t=new X([],{}),a={},n=null){this.root=t,this.queryParams=a,this.fragment=n}get queryParamMap(){return this._queryParamMap??=wi(this.queryParams),this._queryParamMap}toString(){return vf.serialize(this)}},X=class{constructor(t,a){this.segments=t,this.children=a,this.parent=null,Object.values(a).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mr(this)}},Kt=class{constructor(t,a){this.path=t,this.parameters=a}get parameterMap(){return this._parameterMap??=wi(this.parameters),this._parameterMap}toString(){return Vc(this)}};function mf(r,t){return Jt(r,t)&&r.every((a,n)=>rt(a.parameters,t[n].parameters))}function Jt(r,t){return r.length!==t.length?!1:r.every((a,n)=>a.path===t[n].path)}function gf(r,t){let a=[];return Object.entries(r.children).forEach(([n,s])=>{n===B&&(a=a.concat(t(s,n)))}),Object.entries(r.children).forEach(([n,s])=>{n!==B&&(a=a.concat(t(s,n)))}),a}var Do=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=V({token:t,factory:()=>new vr,providedIn:"root"});let r=t;return r})(),vr=class{parse(t){let a=new ao(t);return new Dt(a.parseRootSegment(),a.parseQueryParams(),a.parseFragment())}serialize(t){let a=`/${tn(t.root,!0)}`,n=wf(t.queryParams),s=typeof t.fragment=="string"?`#${_f(t.fragment)}`:"";return`${a}${n}${s}`}},vf=new vr;function mr(r){return r.segments.map(t=>Vc(t)).join("/")}function tn(r,t){if(!r.hasChildren())return mr(r);if(t){let a=r.children[B]?tn(r.children[B],!1):"",n=[];return Object.entries(r.children).forEach(([s,c])=>{s!==B&&n.push(`${s}:${tn(c,!1)}`)}),n.length>0?`${a}(${n.join("//")})`:a}else{let a=gf(r,(n,s)=>s===B?[tn(r.children[B],!1)]:[`${s}:${tn(n,!1)}`]);return Object.keys(r.children).length===1&&r.children[B]!=null?`${mr(r)}/${a[0]}`:`${mr(r)}/(${a.join("//")})`}}function Uc(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dr(r){return Uc(r).replace(/%3B/gi,";")}function _f(r){return encodeURI(r)}function oo(r){return Uc(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gr(r){return decodeURIComponent(r)}function Mc(r){return gr(r.replace(/\+/g,"%20"))}function Vc(r){return`${oo(r.path)}${yf(r.parameters)}`}function yf(r){return Object.entries(r).map(([t,a])=>`;${oo(t)}=${oo(a)}`).join("")}function wf(r){let t=Object.entries(r).map(([a,n])=>Array.isArray(n)?n.map(s=>`${dr(a)}=${dr(s)}`).join("&"):`${dr(a)}=${dr(n)}`).filter(a=>a);return t.length?`?${t.join("&")}`:""}var bf=/^[^\/()?;#]+/;function eo(r){let t=r.match(bf);return t?t[0]:""}var Cf=/^[^\/()?;=#]+/;function xf(r){let t=r.match(Cf);return t?t[0]:""}var Sf=/^[^=?&#]+/;function Pf(r){let t=r.match(Sf);return t?t[0]:""}var Tf=/^[^&#]+/;function Ef(r){let t=r.match(Tf);return t?t[0]:""}var ao=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let a={};this.peekStartsWith("/(")&&(this.capture("/"),a=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(a).length>0)&&(n[B]=new X(t,a)),n}parseSegment(){let t=eo(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new ae(4009,!1);return this.capture(t),new Kt(gr(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let a=xf(this.remaining);if(!a)return;this.capture(a);let n="";if(this.consumeOptional("=")){let s=eo(this.remaining);s&&(n=s,this.capture(n))}t[gr(a)]=gr(n)}parseQueryParam(t){let a=Pf(this.remaining);if(!a)return;this.capture(a);let n="";if(this.consumeOptional("=")){let h=Ef(this.remaining);h&&(n=h,this.capture(n))}let s=Mc(a),c=Mc(n);if(t.hasOwnProperty(s)){let h=t[s];Array.isArray(h)||(h=[h],t[s]=h),h.push(c)}else t[s]=c}parseParens(t){let a={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=eo(this.remaining),s=this.remaining[n.length];if(s!=="/"&&s!==")"&&s!==";")throw new ae(4010,!1);let c;n.indexOf(":")>-1?(c=n.slice(0,n.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=B);let h=this.parseChildren();a[c]=Object.keys(h).length===1?h[B]:new X([],h),this.consumeOptional("//")}return a}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new ae(4011,!1)}};function jc(r){return r.segments.length>0?new X([],{[B]:r}):r}function zc(r){let t={};for(let[n,s]of Object.entries(r.children)){let c=zc(s);if(n===B&&c.segments.length===0&&c.hasChildren())for(let[h,d]of Object.entries(c.children))t[h]=d;else(c.segments.length>0||c.hasChildren())&&(t[n]=c)}let a=new X(r.segments,t);return Mf(a)}function Mf(r){if(r.numberOfChildren===1&&r.children[B]){let t=r.children[B];return new X(r.segments.concat(t.segments),t.children)}return r}function bi(r){return r instanceof Dt}function If(r,t,a=null,n=null){let s=Bc(r);return Zc(s,t,a,n)}function Bc(r){let t;function a(c){let h={};for(let m of c.children){let p=a(m);h[m.outlet]=p}let d=new X(c.url,h);return c===r&&(t=d),d}let n=a(r.root),s=jc(n);return t??s}function Zc(r,t,a,n){let s=r;for(;s.parent;)s=s.parent;if(t.length===0)return to(s,s,s,a,n);let c=Af(t);if(c.toRoot())return to(s,s,new X([],{}),a,n);let h=kf(c,s,r),d=h.processChildren?sn(h.segmentGroup,h.index,c.commands):$c(h.segmentGroup,h.index,c.commands);return to(s,h.segmentGroup,d,a,n)}function _r(r){return typeof r=="object"&&r!=null&&!r.outlets&&!r.segmentPath}function ln(r){return typeof r=="object"&&r!=null&&r.outlets}function to(r,t,a,n,s){let c={};n&&Object.entries(n).forEach(([m,p])=>{c[m]=Array.isArray(p)?p.map(w=>`${w}`):`${p}`});let h;r===t?h=a:h=Hc(r,t,a);let d=jc(zc(h));return new Dt(d,c,s)}function Hc(r,t,a){let n={};return Object.entries(r.children).forEach(([s,c])=>{c===t?n[s]=a:n[s]=Hc(c,t,a)}),new X(r.segments,n)}var yr=class{constructor(t,a,n){if(this.isAbsolute=t,this.numberOfDoubleDots=a,this.commands=n,t&&n.length>0&&_r(n[0]))throw new ae(4003,!1);let s=n.find(ln);if(s&&s!==Lc(n))throw new ae(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Af(r){if(typeof r[0]=="string"&&r.length===1&&r[0]==="/")return new yr(!0,0,r);let t=0,a=!1,n=r.reduce((s,c,h)=>{if(typeof c=="object"&&c!=null){if(c.outlets){let d={};return Object.entries(c.outlets).forEach(([m,p])=>{d[m]=typeof p=="string"?p.split("/"):p}),[...s,{outlets:d}]}if(c.segmentPath)return[...s,c.segmentPath]}return typeof c!="string"?[...s,c]:h===0?(c.split("/").forEach((d,m)=>{m==0&&d==="."||(m==0&&d===""?a=!0:d===".."?t++:d!=""&&s.push(d))}),s):[...s,c]},[]);return new yr(a,t,n)}var _i=class{constructor(t,a,n){this.segmentGroup=t,this.processChildren=a,this.index=n}};function kf(r,t,a){if(r.isAbsolute)return new _i(t,!0,0);if(!a)return new _i(t,!1,NaN);if(a.parent===null)return new _i(a,!0,0);let n=_r(r.commands[0])?0:1,s=a.segments.length-1+n;return Df(a,s,r.numberOfDoubleDots)}function Df(r,t,a){let n=r,s=t,c=a;for(;c>s;){if(c-=s,n=n.parent,!n)throw new ae(4005,!1);s=n.segments.length}return new _i(n,!1,s-c)}function Lf(r){return ln(r[0])?r[0].outlets:{[B]:r}}function $c(r,t,a){if(r??=new X([],{}),r.segments.length===0&&r.hasChildren())return sn(r,t,a);let n=Of(r,t,a),s=a.slice(n.commandIndex);if(n.match&&n.pathIndex<r.segments.length){let c=new X(r.segments.slice(0,n.pathIndex),{});return c.children[B]=new X(r.segments.slice(n.pathIndex),r.children),sn(c,0,s)}else return n.match&&s.length===0?new X(r.segments,{}):n.match&&!r.hasChildren()?lo(r,t,a):n.match?sn(r,0,s):lo(r,t,a)}function sn(r,t,a){if(a.length===0)return new X(r.segments,{});{let n=Lf(a),s={};if(Object.keys(n).some(c=>c!==B)&&r.children[B]&&r.numberOfChildren===1&&r.children[B].segments.length===0){let c=sn(r.children[B],t,a);return new X(r.segments,c.children)}return Object.entries(n).forEach(([c,h])=>{typeof h=="string"&&(h=[h]),h!==null&&(s[c]=$c(r.children[c],t,h))}),Object.entries(r.children).forEach(([c,h])=>{n[c]===void 0&&(s[c]=h)}),new X(r.segments,s)}}function Of(r,t,a){let n=0,s=t,c={match:!1,pathIndex:0,commandIndex:0};for(;s<r.segments.length;){if(n>=a.length)return c;let h=r.segments[s],d=a[n];if(ln(d))break;let m=`${d}`,p=n<a.length-1?a[n+1]:null;if(s>0&&m===void 0)break;if(m&&p&&typeof p=="object"&&p.outlets===void 0){if(!Ac(m,p,h))return c;n+=2}else{if(!Ac(m,{},h))return c;n++}s++}return{match:!0,pathIndex:s,commandIndex:n}}function lo(r,t,a){let n=r.segments.slice(0,t),s=0;for(;s<a.length;){let c=a[s];if(ln(c)){let m=Rf(c.outlets);return new X(n,m)}if(s===0&&_r(a[0])){let m=r.segments[t];n.push(new Kt(m.path,Ic(a[0]))),s++;continue}let h=ln(c)?c.outlets[B]:`${c}`,d=s<a.length-1?a[s+1]:null;h&&d&&_r(d)?(n.push(new Kt(h,Ic(d))),s+=2):(n.push(new Kt(h,{})),s++)}return new X(n,{})}function Rf(r){let t={};return Object.entries(r).forEach(([a,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[a]=lo(new X([],{}),0,n))}),t}function Ic(r){let t={};return Object.entries(r).forEach(([a,n])=>t[a]=`${n}`),t}function Ac(r,t,a){return r==a.path&&rt(t,a.parameters)}var on="imperative",Se=function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r}(Se||{}),Ke=class{constructor(t,a){this.id=t,this.url=a}},cn=class extends Ke{constructor(t,a,n="imperative",s=null){super(t,a),this.type=Se.NavigationStart,this.navigationTrigger=n,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Lt=class extends Ke{constructor(t,a,n){super(t,a),this.urlAfterRedirects=n,this.type=Se.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Be=function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r}(Be||{}),co=function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r}(co||{}),Ot=class extends Ke{constructor(t,a,n,s){super(t,a),this.reason=n,this.code=s,this.type=Se.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xt=class extends Ke{constructor(t,a,n,s){super(t,a),this.reason=n,this.code=s,this.type=Se.NavigationSkipped}},hn=class extends Ke{constructor(t,a,n,s){super(t,a),this.error=n,this.target=s,this.type=Se.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wr=class extends Ke{constructor(t,a,n,s){super(t,a),this.urlAfterRedirects=n,this.state=s,this.type=Se.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ho=class extends Ke{constructor(t,a,n,s){super(t,a),this.urlAfterRedirects=n,this.state=s,this.type=Se.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uo=class extends Ke{constructor(t,a,n,s,c){super(t,a),this.urlAfterRedirects=n,this.state=s,this.shouldActivate=c,this.type=Se.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},fo=class extends Ke{constructor(t,a,n,s){super(t,a),this.urlAfterRedirects=n,this.state=s,this.type=Se.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},po=class extends Ke{constructor(t,a,n,s){super(t,a),this.urlAfterRedirects=n,this.state=s,this.type=Se.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mo=class{constructor(t){this.route=t,this.type=Se.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},go=class{constructor(t){this.route=t,this.type=Se.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vo=class{constructor(t){this.snapshot=t,this.type=Se.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_o=class{constructor(t){this.snapshot=t,this.type=Se.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yo=class{constructor(t){this.snapshot=t,this.type=Se.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wo=class{constructor(t){this.snapshot=t,this.type=Se.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var un=class{},dn=class{constructor(t){this.url=t}};var bo=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Tr,this.attachRef=null}},Tr=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,s){let c=this.getOrCreateContext(n);c.outlet=s,this.contexts.set(n,c)}onChildOutletDestroyed(n){let s=this.getContext(n);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let s=this.getContext(n);return s||(s=new bo,this.contexts.set(n,s)),s}getContext(n){return this.contexts.get(n)||null}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),br=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let a=this.pathFromRoot(t);return a.length>1?a[a.length-2]:null}children(t){let a=Co(t,this._root);return a?a.children.map(n=>n.value):[]}firstChild(t){let a=Co(t,this._root);return a&&a.children.length>0?a.children[0].value:null}siblings(t){let a=xo(t,this._root);return a.length<2?[]:a[a.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return xo(t,this._root).map(a=>a.value)}};function Co(r,t){if(r===t.value)return t;for(let a of t.children){let n=Co(r,a);if(n)return n}return null}function xo(r,t){if(r===t.value)return[t];for(let a of t.children){let n=xo(r,a);if(n.length)return n.unshift(t),n}return[]}var ze=class{constructor(t,a){this.value=t,this.children=a}toString(){return`TreeNode(${this.value})`}};function vi(r){let t={};return r&&r.children.forEach(a=>t[a.value.outlet]=a),t}var Cr=class extends br{constructor(t,a){super(t),this.snapshot=a,Oo(this,t)}toString(){return this.snapshot.toString()}};function Wc(r){let t=Nf(r),a=new Re([new Kt("",{})]),n=new Re({}),s=new Re({}),c=new Re({}),h=new Re(""),d=new Yt(a,n,c,h,s,B,r,t.root);return d.snapshot=t.root,new Cr(new ze(d,[]),t)}function Nf(r){let t={},a={},n={},s="",c=new fn([],t,n,s,a,B,r,null,{});return new xr("",new ze(c,[]))}var Yt=class{constructor(t,a,n,s,c,h,d,m){this.urlSubject=t,this.paramsSubject=a,this.queryParamsSubject=n,this.fragmentSubject=s,this.dataSubject=c,this.outlet=h,this.component=d,this._futureSnapshot=m,this.title=this.dataSubject?.pipe(W(p=>p[gn]))??A(void 0),this.url=t,this.params=a,this.queryParams=n,this.fragment=s,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(W(t=>wi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(W(t=>wi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Lo(r,t,a="emptyOnly"){let n,{routeConfig:s}=r;return t!==null&&(a==="always"||s?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:M(M({},t.params),r.params),data:M(M({},t.data),r.data),resolve:M(M(M(M({},r.data),t.data),s?.data),r._resolvedData)}:n={params:M({},r.params),data:M({},r.data),resolve:M(M({},r.data),r._resolvedData??{})},s&&qc(s)&&(n.resolve[gn]=s.title),n}var fn=class{get title(){return this.data?.[gn]}constructor(t,a,n,s,c,h,d,m,p){this.url=t,this.params=a,this.queryParams=n,this.fragment=s,this.data=c,this.outlet=h,this.component=d,this.routeConfig=m,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wi(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),a=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${a}')`}},xr=class extends br{constructor(t,a){super(a),this.url=t,Oo(this,a)}toString(){return Gc(this._root)}};function Oo(r,t){t.value._routerState=r,t.children.forEach(a=>Oo(r,a))}function Gc(r){let t=r.children.length>0?` { ${r.children.map(Gc).join(", ")} } `:"";return`${r.value}${t}`}function io(r){if(r.snapshot){let t=r.snapshot,a=r._futureSnapshot;r.snapshot=a,rt(t.queryParams,a.queryParams)||r.queryParamsSubject.next(a.queryParams),t.fragment!==a.fragment&&r.fragmentSubject.next(a.fragment),rt(t.params,a.params)||r.paramsSubject.next(a.params),uf(t.url,a.url)||r.urlSubject.next(a.url),rt(t.data,a.data)||r.dataSubject.next(a.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function So(r,t){let a=rt(r.params,t.params)&&mf(r.url,t.url),n=!r.parent!=!t.parent;return a&&!n&&(!r.parent||So(r.parent,t.parent))}function qc(r){return typeof r.title=="string"||r.title===null}var Ro=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=B,this.activateEvents=new yt,this.deactivateEvents=new yt,this.attachEvents=new yt,this.detachEvents=new yt,this.parentContexts=D(Tr),this.location=D(jl),this.changeDetector=D(bt),this.environmentInjector=D(ui),this.inputBinder=D(No,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:s,previousValue:c}=n.name;if(s)return;this.isTrackedInParentContexts(c)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(c)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ae(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ae(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ae(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,s){this.activated=n,this._activatedRoute=s,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,s){if(this.isActivated)throw new ae(4013,!1);this._activatedRoute=n;let c=this.location,d=n.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,p=new Po(n,m,c.injector);this.activated=c.createComponent(d,{index:c.length,injector:p,environmentInjector:s??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(s){return new(s||t)},t.\u0275dir=gt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Hi]});let r=t;return r})(),Po=class r{__ngOutletInjector(t){return new r(this.route,this.childContexts,t)}constructor(t,a,n){this.route=t,this.childContexts=a,this.parent=n}get(t,a){return t===Yt?this.route:t===Tr?this.childContexts:this.parent.get(t,a)}},No=new ee("");function Ff(r,t,a){let n=pn(r,t._root,a?a._root:void 0);return new Cr(n,t)}function pn(r,t,a){if(a&&r.shouldReuseRoute(t.value,a.value.snapshot)){let n=a.value;n._futureSnapshot=t.value;let s=Uf(r,t,a);return new ze(n,s)}else{if(r.shouldAttach(t.value)){let c=r.retrieve(t.value);if(c!==null){let h=c.route;return h.value._futureSnapshot=t.value,h.children=t.children.map(d=>pn(r,d)),h}}let n=Vf(t.value),s=t.children.map(c=>pn(r,c));return new ze(n,s)}}function Uf(r,t,a){return t.children.map(n=>{for(let s of a.children)if(r.shouldReuseRoute(n.value,s.value.snapshot))return pn(r,n,s);return pn(r,n)})}function Vf(r){return new Yt(new Re(r.url),new Re(r.params),new Re(r.queryParams),new Re(r.fragment),new Re(r.data),r.outlet,r.component,r)}var Kc="ngNavigationCancelingError";function Jc(r,t){let{redirectTo:a,navigationBehaviorOptions:n}=bi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,s=Xc(!1,Be.Redirect);return s.url=a,s.navigationBehaviorOptions=n,s}function Xc(r,t){let a=new Error(`NavigationCancelingError: ${r||""}`);return a[Kc]=!0,a.cancellationCode=t,a}function jf(r){return Yc(r)&&bi(r.url)}function Yc(r){return!!r&&r[Kc]}var zf=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=me({type:t,selectors:[["ng-component"]],standalone:!0,features:[ge],decls:1,vars:0,template:function(s,c){s&1&&te(0,"router-outlet")},dependencies:[Ro],encapsulation:2});let r=t;return r})();function Bf(r,t){return r.providers&&!r._injector&&(r._injector=Zl(r.providers,t,`Route: ${r.path}`)),r._injector??t}function Fo(r){let t=r.children&&r.children.map(Fo),a=t?he(M({},r),{children:t}):M({},r);return!a.component&&!a.loadComponent&&(t||a.loadChildren)&&a.outlet&&a.outlet!==B&&(a.component=zf),a}function st(r){return r.outlet||B}function Zf(r,t){let a=r.filter(n=>st(n)===t);return a.push(...r.filter(n=>st(n)!==t)),a}function vn(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){let a=t.routeConfig;if(a?._loadedInjector)return a._loadedInjector;if(a?._injector)return a._injector}return null}var Hf=(r,t,a,n)=>W(s=>(new To(t,s.targetRouterState,s.currentRouterState,a,n).activate(r),s)),To=class{constructor(t,a,n,s,c){this.routeReuseStrategy=t,this.futureState=a,this.currState=n,this.forwardEvent=s,this.inputBindingEnabled=c}activate(t){let a=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(a,n,t),io(this.futureState.root),this.activateChildRoutes(a,n,t)}deactivateChildRoutes(t,a,n){let s=vi(a);t.children.forEach(c=>{let h=c.value.outlet;this.deactivateRoutes(c,s[h],n),delete s[h]}),Object.values(s).forEach(c=>{this.deactivateRouteAndItsChildren(c,n)})}deactivateRoutes(t,a,n){let s=t.value,c=a?a.value:null;if(s===c)if(s.component){let h=n.getContext(s.outlet);h&&this.deactivateChildRoutes(t,a,h.children)}else this.deactivateChildRoutes(t,a,n);else c&&this.deactivateRouteAndItsChildren(a,n)}deactivateRouteAndItsChildren(t,a){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,a):this.deactivateRouteAndOutlet(t,a)}detachAndStoreRouteSubtree(t,a){let n=a.getContext(t.value.outlet),s=n&&t.value.component?n.children:a,c=vi(t);for(let h of Object.values(c))this.deactivateRouteAndItsChildren(h,s);if(n&&n.outlet){let h=n.outlet.detach(),d=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:h,route:t,contexts:d})}}deactivateRouteAndOutlet(t,a){let n=a.getContext(t.value.outlet),s=n&&t.value.component?n.children:a,c=vi(t);for(let h of Object.values(c))this.deactivateRouteAndItsChildren(h,s);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,a,n){let s=vi(a);t.children.forEach(c=>{this.activateRoutes(c,s[c.value.outlet],n),this.forwardEvent(new wo(c.value.snapshot))}),t.children.length&&this.forwardEvent(new _o(t.value.snapshot))}activateRoutes(t,a,n){let s=t.value,c=a?a.value:null;if(io(s),s===c)if(s.component){let h=n.getOrCreateContext(s.outlet);this.activateChildRoutes(t,a,h.children)}else this.activateChildRoutes(t,a,n);else if(s.component){let h=n.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){let d=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),h.children.onOutletReAttached(d.contexts),h.attachRef=d.componentRef,h.route=d.route.value,h.outlet&&h.outlet.attach(d.componentRef,d.route.value),io(d.route.value),this.activateChildRoutes(t,null,h.children)}else{let d=vn(s.snapshot);h.attachRef=null,h.route=s,h.injector=d,h.outlet&&h.outlet.activateWith(s,h.injector),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,n)}},Sr=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},yi=class{constructor(t,a){this.component=t,this.route=a}};function $f(r,t,a){let n=r._root,s=t?t._root:null;return nn(n,s,a,[n.value])}function Wf(r){let t=r.routeConfig?r.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:r,guards:t}}function xi(r,t){let a=Symbol(),n=t.get(r,a);return n===a?typeof r=="function"&&!kl(r)?r:t.get(r):n}function nn(r,t,a,n,s={canDeactivateChecks:[],canActivateChecks:[]}){let c=vi(t);return r.children.forEach(h=>{Gf(h,c[h.value.outlet],a,n.concat([h.value]),s),delete c[h.value.outlet]}),Object.entries(c).forEach(([h,d])=>an(d,a.getContext(h),s)),s}function Gf(r,t,a,n,s={canDeactivateChecks:[],canActivateChecks:[]}){let c=r.value,h=t?t.value:null,d=a?a.getContext(r.value.outlet):null;if(h&&c.routeConfig===h.routeConfig){let m=qf(h,c,c.routeConfig.runGuardsAndResolvers);m?s.canActivateChecks.push(new Sr(n)):(c.data=h.data,c._resolvedData=h._resolvedData),c.component?nn(r,t,d?d.children:null,n,s):nn(r,t,a,n,s),m&&d&&d.outlet&&d.outlet.isActivated&&s.canDeactivateChecks.push(new yi(d.outlet.component,h))}else h&&an(t,d,s),s.canActivateChecks.push(new Sr(n)),c.component?nn(r,null,d?d.children:null,n,s):nn(r,null,a,n,s);return s}function qf(r,t,a){if(typeof a=="function")return a(r,t);switch(a){case"pathParamsChange":return!Jt(r.url,t.url);case"pathParamsOrQueryParamsChange":return!Jt(r.url,t.url)||!rt(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!So(r,t)||!rt(r.queryParams,t.queryParams);case"paramsChange":default:return!So(r,t)}}function an(r,t,a){let n=vi(r),s=r.value;Object.entries(n).forEach(([c,h])=>{s.component?t?an(h,t.children.getContext(c),a):an(h,null,a):an(h,t,a)}),s.component?t&&t.outlet&&t.outlet.isActivated?a.canDeactivateChecks.push(new yi(t.outlet.component,s)):a.canDeactivateChecks.push(new yi(null,s)):a.canDeactivateChecks.push(new yi(null,s))}function _n(r){return typeof r=="function"}function Kf(r){return typeof r=="boolean"}function Jf(r){return r&&_n(r.canLoad)}function Xf(r){return r&&_n(r.canActivate)}function Yf(r){return r&&_n(r.canActivateChild)}function Qf(r){return r&&_n(r.canDeactivate)}function ep(r){return r&&_n(r.canMatch)}function Qc(r){return r instanceof yl||r?.name==="EmptyError"}var fr=Symbol("INITIAL_VALUE");function Ci(){return Fe(r=>Bi(r.map(t=>t.pipe(At(1),Il(fr)))).pipe(W(t=>{for(let a of t)if(a!==!0){if(a===fr)return fr;if(a===!1||a instanceof Dt)return a}return!0}),ve(t=>t!==fr),At(1)))}function tp(r,t){return Ne(a=>{let{targetSnapshot:n,currentSnapshot:s,guards:{canActivateChecks:c,canDeactivateChecks:h}}=a;return h.length===0&&c.length===0?A(he(M({},a),{guardsResult:!0})):ip(h,n,s,r).pipe(Ne(d=>d&&Kf(d)?np(n,c,r,t):A(d)),W(d=>he(M({},a),{guardsResult:d})))})}function ip(r,t,a,n){return Ce(r).pipe(Ne(s=>lp(s.component,s.route,a,t,n)),qe(s=>s!==!0,!0))}function np(r,t,a,n){return Ce(t).pipe(Bt(s=>bl(sp(s.route.parent,n),rp(s.route,n),ap(r,s.path,a),op(r,s.route,a))),qe(s=>s!==!0,!0))}function rp(r,t){return r!==null&&t&&t(new yo(r)),A(!0)}function sp(r,t){return r!==null&&t&&t(new vo(r)),A(!0)}function op(r,t,a){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return A(!0);let s=n.map(c=>Ss(()=>{let h=vn(t)??a,d=xi(c,h),m=Xf(d)?d.canActivate(t,r):_t(h,()=>d(t,r));return Rt(m).pipe(qe())}));return A(s).pipe(Ci())}function ap(r,t,a){let n=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(h=>Wf(h)).filter(h=>h!==null).map(h=>Ss(()=>{let d=h.guards.map(m=>{let p=vn(h.node)??a,w=xi(m,p),x=Yf(w)?w.canActivateChild(n,r):_t(p,()=>w(n,r));return Rt(x).pipe(qe())});return A(d).pipe(Ci())}));return A(c).pipe(Ci())}function lp(r,t,a,n,s){let c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!c||c.length===0)return A(!0);let h=c.map(d=>{let m=vn(t)??s,p=xi(d,m),w=Qf(p)?p.canDeactivate(r,t,a,n):_t(m,()=>p(r,t,a,n));return Rt(w).pipe(qe())});return A(h).pipe(Ci())}function cp(r,t,a,n){let s=t.canLoad;if(s===void 0||s.length===0)return A(!0);let c=s.map(h=>{let d=xi(h,r),m=Jf(d)?d.canLoad(t,a):_t(r,()=>d(t,a));return Rt(m)});return A(c).pipe(Ci(),eh(n))}function eh(r){return vl(pe(t=>{if(bi(t))throw Jc(r,t)}),W(t=>t===!0))}function hp(r,t,a,n){let s=t.canMatch;if(!s||s.length===0)return A(!0);let c=s.map(h=>{let d=xi(h,r),m=ep(d)?d.canMatch(t,a):_t(r,()=>d(t,a));return Rt(m)});return A(c).pipe(Ci(),eh(n))}var mn=class{constructor(t){this.segmentGroup=t||null}},Pr=class extends Error{constructor(t){super(),this.urlTree=t}};function gi(r){return mt(new mn(r))}function up(r){return mt(new ae(4e3,!1))}function dp(r){return mt(Xc(!1,Be.GuardRejected))}var Eo=class{constructor(t,a){this.urlSerializer=t,this.urlTree=a}lineralizeSegments(t,a){let n=[],s=a.root;for(;;){if(n=n.concat(s.segments),s.numberOfChildren===0)return A(n);if(s.numberOfChildren>1||!s.children[B])return up(t.redirectTo);s=s.children[B]}}applyRedirectCommands(t,a,n){let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),t,n);if(a.startsWith("/"))throw new Pr(s);return s}applyRedirectCreateUrlTree(t,a,n,s){let c=this.createSegmentGroup(t,a.root,n,s);return new Dt(c,this.createQueryParams(a.queryParams,this.urlTree.queryParams),a.fragment)}createQueryParams(t,a){let n={};return Object.entries(t).forEach(([s,c])=>{if(typeof c=="string"&&c.startsWith(":")){let d=c.substring(1);n[s]=a[d]}else n[s]=c}),n}createSegmentGroup(t,a,n,s){let c=this.createSegments(t,a.segments,n,s),h={};return Object.entries(a.children).forEach(([d,m])=>{h[d]=this.createSegmentGroup(t,m,n,s)}),new X(c,h)}createSegments(t,a,n,s){return a.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,s):this.findOrReturn(c,n))}findPosParam(t,a,n){let s=n[a.path.substring(1)];if(!s)throw new ae(4001,!1);return s}findOrReturn(t,a){let n=0;for(let s of a){if(s.path===t.path)return a.splice(n),s;n++}return t}},Mo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fp(r,t,a,n,s){let c=Uo(r,t,a);return c.matched?(n=Bf(t,n),hp(n,t,a,s).pipe(W(h=>h===!0?c:M({},Mo)))):A(c)}function Uo(r,t,a){if(t.path==="**")return pp(a);if(t.path==="")return t.pathMatch==="full"&&(r.hasChildren()||a.length>0)?M({},Mo):{matched:!0,consumedSegments:[],remainingSegments:a,parameters:{},positionalParamSegments:{}};let s=(t.matcher||hf)(a,r,t);if(!s)return M({},Mo);let c={};Object.entries(s.posParams??{}).forEach(([d,m])=>{c[d]=m.path});let h=s.consumed.length>0?M(M({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:a.slice(s.consumed.length),parameters:h,positionalParamSegments:s.posParams??{}}}function pp(r){return{matched:!0,parameters:r.length>0?Lc(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}function kc(r,t,a,n){return a.length>0&&vp(r,a,n)?{segmentGroup:new X(t,gp(n,new X(a,r.children))),slicedSegments:[]}:a.length===0&&_p(r,a,n)?{segmentGroup:new X(r.segments,mp(r,a,n,r.children)),slicedSegments:a}:{segmentGroup:new X(r.segments,r.children),slicedSegments:a}}function mp(r,t,a,n){let s={};for(let c of a)if(Er(r,t,c)&&!n[st(c)]){let h=new X([],{});s[st(c)]=h}return M(M({},n),s)}function gp(r,t){let a={};a[B]=t;for(let n of r)if(n.path===""&&st(n)!==B){let s=new X([],{});a[st(n)]=s}return a}function vp(r,t,a){return a.some(n=>Er(r,t,n)&&st(n)!==B)}function _p(r,t,a){return a.some(n=>Er(r,t,n))}function Er(r,t,a){return(r.hasChildren()||t.length>0)&&a.pathMatch==="full"?!1:a.path===""}function yp(r,t,a,n){return st(r)!==n&&(n===B||!Er(t,a,r))?!1:Uo(t,r,a).matched}function wp(r,t,a){return t.length===0&&!r.children[a]}var Io=class{};function bp(r,t,a,n,s,c,h="emptyOnly"){return new Ao(r,t,a,n,s,h,c).recognize()}var Cp=31,Ao=class{constructor(t,a,n,s,c,h,d){this.injector=t,this.configLoader=a,this.rootComponentType=n,this.config=s,this.urlTree=c,this.paramsInheritanceStrategy=h,this.urlSerializer=d,this.applyRedirects=new Eo(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new ae(4002,`'${t.segmentGroup}'`)}recognize(){let t=kc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(W(a=>{let n=new fn([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,{},B,this.rootComponentType,null,{}),s=new ze(n,a),c=new xr("",s),h=If(n,[],this.urlTree.queryParams,this.urlTree.fragment);return h.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(h),this.inheritParamsAndData(c._root,null),{state:c,tree:h}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,B).pipe(Ge(n=>{if(n instanceof Pr)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof mn?this.noMatchError(n):n}))}inheritParamsAndData(t,a){let n=t.value,s=Lo(n,a,this.paramsInheritanceStrategy);n.params=Object.freeze(s.params),n.data=Object.freeze(s.data),t.children.forEach(c=>this.inheritParamsAndData(c,n))}processSegmentGroup(t,a,n,s){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,a,n):this.processSegment(t,a,n,n.segments,s,!0).pipe(W(c=>c instanceof ze?[c]:[]))}processChildren(t,a,n){let s=[];for(let c of Object.keys(n.children))c==="primary"?s.unshift(c):s.push(c);return Ce(s).pipe(Bt(c=>{let h=n.children[c],d=Zf(a,c);return this.processSegmentGroup(t,d,h,c)}),Ml((c,h)=>(c.push(...h),c)),Ps(null),El(),Ne(c=>{if(c===null)return gi(n);let h=th(c);return xp(h),A(h)}))}processSegment(t,a,n,s,c,h){return Ce(a).pipe(Bt(d=>this.processSegmentAgainstRoute(d._injector??t,a,d,n,s,c,h).pipe(Ge(m=>{if(m instanceof mn)return A(null);throw m}))),qe(d=>!!d),Ge(d=>{if(Qc(d))return wp(n,s,c)?A(new Io):gi(n);throw d}))}processSegmentAgainstRoute(t,a,n,s,c,h,d){return yp(n,s,c,h)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,s,n,c,h):this.allowRedirects&&d?this.expandSegmentAgainstRouteUsingRedirect(t,s,a,n,c,h):gi(s):gi(s)}expandSegmentAgainstRouteUsingRedirect(t,a,n,s,c,h){let{matched:d,consumedSegments:m,positionalParamSegments:p,remainingSegments:w}=Uo(a,s,c);if(!d)return gi(a);s.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Cp&&(this.allowRedirects=!1));let x=this.applyRedirects.applyRedirectCommands(m,s.redirectTo,p);return this.applyRedirects.lineralizeSegments(s,x).pipe(Ne(y=>this.processSegment(t,n,a,y.concat(w),h,!1)))}matchSegmentAgainstRoute(t,a,n,s,c){let h=fp(a,n,s,t,this.urlSerializer);return n.path==="**"&&(a.children={}),h.pipe(Fe(d=>d.matched?(t=n._injector??t,this.getChildConfig(t,n,s).pipe(Fe(({routes:m})=>{let p=n._loadedInjector??t,{consumedSegments:w,remainingSegments:x,parameters:y}=d,C=new fn(w,y,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Pp(n),st(n),n.component??n._loadedComponent??null,n,Tp(n)),{segmentGroup:E,slicedSegments:Y}=kc(a,w,x,m);if(Y.length===0&&E.hasChildren())return this.processChildren(p,m,E).pipe(W(R=>R===null?null:new ze(C,R)));if(m.length===0&&Y.length===0)return A(new ze(C,[]));let N=st(n)===c;return this.processSegment(p,m,E,Y,N?B:c,!0).pipe(W(R=>new ze(C,R instanceof ze?[R]:[])))}))):gi(a)))}getChildConfig(t,a,n){return a.children?A({routes:a.children,injector:t}):a.loadChildren?a._loadedRoutes!==void 0?A({routes:a._loadedRoutes,injector:a._loadedInjector}):cp(t,a,n,this.urlSerializer).pipe(Ne(s=>s?this.configLoader.loadChildren(t,a).pipe(pe(c=>{a._loadedRoutes=c.routes,a._loadedInjector=c.injector})):dp(a))):A({routes:[],injector:t})}};function xp(r){r.sort((t,a)=>t.value.outlet===B?-1:a.value.outlet===B?1:t.value.outlet.localeCompare(a.value.outlet))}function Sp(r){let t=r.value.routeConfig;return t&&t.path===""}function th(r){let t=[],a=new Set;for(let n of r){if(!Sp(n)){t.push(n);continue}let s=t.find(c=>n.value.routeConfig===c.value.routeConfig);s!==void 0?(s.children.push(...n.children),a.add(s)):t.push(n)}for(let n of a){let s=th(n.children);t.push(new ze(n.value,s))}return t.filter(n=>!a.has(n))}function Pp(r){return r.data||{}}function Tp(r){return r.resolve||{}}function Ep(r,t,a,n,s,c){return Ne(h=>bp(r,t,a,n,h.extractedUrl,s,c).pipe(W(({state:d,tree:m})=>he(M({},h),{targetSnapshot:d,urlAfterRedirects:m}))))}function Mp(r,t){return Ne(a=>{let{targetSnapshot:n,guards:{canActivateChecks:s}}=a;if(!s.length)return A(a);let c=new Set(s.map(m=>m.route)),h=new Set;for(let m of c)if(!h.has(m))for(let p of ih(m))h.add(p);let d=0;return Ce(h).pipe(Bt(m=>c.has(m)?Ip(m,n,r,t):(m.data=Lo(m,m.parent,r).resolve,A(void 0))),pe(()=>d++),Ts(1),Ne(m=>d===h.size?A(a):It))})}function ih(r){let t=r.children.map(a=>ih(a)).flat();return[r,...t]}function Ip(r,t,a,n){let s=r.routeConfig,c=r._resolve;return s?.title!==void 0&&!qc(s)&&(c[gn]=s.title),Ap(c,r,t,n).pipe(W(h=>(r._resolvedData=h,r.data=Lo(r,r.parent,a).resolve,null)))}function Ap(r,t,a,n){let s=so(r);if(s.length===0)return A({});let c={};return Ce(s).pipe(Ne(h=>kp(r[h],t,a,n).pipe(qe(),pe(d=>{c[h]=d}))),Ts(1),Tl(c),Ge(h=>Qc(h)?It:mt(h)))}function kp(r,t,a,n){let s=vn(t)??n,c=xi(r,s),h=c.resolve?c.resolve(t,a):_t(s,()=>c(t,a));return Rt(h)}function no(r){return Fe(t=>{let a=r(t);return a?Ce(a).pipe(W(()=>t)):A(t)})}var nh=(()=>{let t=class t{buildTitle(n){let s,c=n.root;for(;c!==void 0;)s=this.getResolvedTitleForRoute(c)??s,c=c.children.find(h=>h.outlet===B);return s}getResolvedTitleForRoute(n){return n.data[gn]}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=V({token:t,factory:()=>D(Dp),providedIn:"root"});let r=t;return r})(),Dp=(()=>{let t=class t extends nh{constructor(n){super(),this.title=n}updateTitle(n){let s=this.buildTitle(n);s!==void 0&&this.title.setTitle(s)}};t.\u0275fac=function(s){return new(s||t)(F(Tc))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),Vo=new ee("",{providedIn:"root",factory:()=>({})}),jo=new ee(""),Lp=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=D(zs)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return A(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let s=Rt(n.loadComponent()).pipe(W(rh),pe(h=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=h}),hi(()=>{this.componentLoaders.delete(n)})),c=new xs(s,()=>new Ye).pipe(Cs());return this.componentLoaders.set(n,c),c}loadChildren(n,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return A({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);let h=Op(s,this.compiler,n,this.onLoadEndListener).pipe(hi(()=>{this.childrenLoaders.delete(s)})),d=new xs(h,()=>new Ye).pipe(Cs());return this.childrenLoaders.set(s,d),d}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function Op(r,t,a,n){return Rt(r.loadChildren()).pipe(W(rh),Ne(s=>s instanceof Bl||Array.isArray(s)?A(s):Ce(t.compileModuleAsync(s))),W(s=>{n&&n(r);let c,h,d=!1;return Array.isArray(s)?(h=s,d=!0):(c=s.create(a).injector,h=c.get(jo,[],{optional:!0,self:!0}).flat()),{routes:h.map(Fo),injector:c}}))}function Rp(r){return r&&typeof r=="object"&&"default"in r}function rh(r){return Rp(r)?r.default:r}var zo=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=V({token:t,factory:()=>D(Np),providedIn:"root"});let r=t;return r})(),Np=(()=>{let t=class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,s){return n}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),Fp=new ee("");var Up=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ye,this.transitionAbortSubject=new Ye,this.configLoader=D(Lp),this.environmentInjector=D(ui),this.urlSerializer=D(Do),this.rootContexts=D(Tr),this.location=D(Jn),this.inputBindingEnabled=D(No,{optional:!0})!==null,this.titleStrategy=D(nh),this.options=D(Vo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=D(zo),this.createViewTransition=D(Fp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>A(void 0),this.rootComponentType=null;let n=c=>this.events.next(new mo(c)),s=c=>this.events.next(new go(c));this.configLoader.onLoadEndListener=s,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let s=++this.navigationId;this.transitions?.next(he(M(M({},this.transitions.value),n),{id:s}))}setupNavigations(n,s,c){return this.transitions=new Re({id:0,currentUrlTree:s,currentRawUrl:s,extractedUrl:this.urlHandlingStrategy.extract(s),urlAfterRedirects:this.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:on,restoredState:null,currentSnapshot:c.snapshot,targetSnapshot:null,currentRouterState:c,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ve(h=>h.id!==0),W(h=>he(M({},h),{extractedUrl:this.urlHandlingStrategy.extract(h.rawUrl)})),Fe(h=>{let d=!1,m=!1;return A(h).pipe(Fe(p=>{if(this.navigationId>h.id)return this.cancelNavigationTransition(h,"",Be.SupersededByNewNavigation),It;this.currentTransition=h,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?he(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let w=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),x=p.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!w&&x!=="reload"){let y="";return this.events.next(new Xt(p.id,this.urlSerializer.serialize(p.rawUrl),y,co.IgnoredSameUrlNavigation)),p.resolve(null),It}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return A(p).pipe(Fe(y=>{let C=this.transitions?.getValue();return this.events.next(new cn(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),C!==this.transitions?.getValue()?It:Promise.resolve(y)}),Ep(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),pe(y=>{h.targetSnapshot=y.targetSnapshot,h.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=he(M({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let C=new wr(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(C)}));if(w&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){let{id:y,extractedUrl:C,source:E,restoredState:Y,extras:N}=p,R=new cn(y,this.urlSerializer.serialize(C),E,Y);this.events.next(R);let we=Wc(this.rootComponentType).snapshot;return this.currentTransition=h=he(M({},p),{targetSnapshot:we,urlAfterRedirects:C,extras:he(M({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=C,A(h)}else{let y="";return this.events.next(new Xt(p.id,this.urlSerializer.serialize(p.extractedUrl),y,co.IgnoredByUrlHandlingStrategy)),p.resolve(null),It}}),pe(p=>{let w=new ho(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(w)}),W(p=>(this.currentTransition=h=he(M({},p),{guards:$f(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),h)),tp(this.environmentInjector,p=>this.events.next(p)),pe(p=>{if(h.guardsResult=p.guardsResult,bi(p.guardsResult))throw Jc(this.urlSerializer,p.guardsResult);let w=new uo(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(w)}),ve(p=>p.guardsResult?!0:(this.cancelNavigationTransition(p,"",Be.GuardRejected),!1)),no(p=>{if(p.guards.canActivateChecks.length)return A(p).pipe(pe(w=>{let x=new fo(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(x)}),Fe(w=>{let x=!1;return A(w).pipe(Mp(this.paramsInheritanceStrategy,this.environmentInjector),pe({next:()=>x=!0,complete:()=>{x||this.cancelNavigationTransition(w,"",Be.NoDataFromResolver)}}))}),pe(w=>{let x=new po(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(x)}))}),no(p=>{let w=x=>{let y=[];x.routeConfig?.loadComponent&&!x.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(x.routeConfig).pipe(pe(C=>{x.component=C}),W(()=>{})));for(let C of x.children)y.push(...w(C));return y};return Bi(w(p.targetSnapshot.root)).pipe(Ps(null),At(1))}),no(()=>this.afterPreactivation()),Fe(()=>{let{currentSnapshot:p,targetSnapshot:w}=h,x=this.createViewTransition?.(this.environmentInjector,p.root,w.root);return x?Ce(x).pipe(W(()=>h)):A(h)}),W(p=>{let w=Ff(n.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=h=he(M({},p),{targetRouterState:w}),this.currentNavigation.targetRouterState=w,h}),pe(()=>{this.events.next(new un)}),Hf(this.rootContexts,n.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),At(1),pe({next:p=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Lt(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{d=!0}}),Al(this.transitionAbortSubject.pipe(pe(p=>{throw p}))),hi(()=>{!d&&!m&&this.cancelNavigationTransition(h,"",Be.SupersededByNewNavigation),this.currentTransition?.id===h.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ge(p=>{if(m=!0,Yc(p))this.events.next(new Ot(h.id,this.urlSerializer.serialize(h.extractedUrl),p.message,p.cancellationCode)),jf(p)?this.events.next(new dn(p.url)):h.resolve(!1);else{this.events.next(new hn(h.id,this.urlSerializer.serialize(h.extractedUrl),p,h.targetSnapshot??void 0));try{h.resolve(n.errorHandler(p))}catch(w){this.options.resolveNavigationPromiseOnError?h.resolve(!1):h.reject(w)}}return It}))}))}cancelNavigationTransition(n,s,c){let h=new Ot(n.id,this.urlSerializer.serialize(n.extractedUrl),s,c);this.events.next(h),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function Vp(r){return r!==on}var jp=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=V({token:t,factory:()=>D(zp),providedIn:"root"});let r=t;return r})(),ko=class{shouldDetach(t){return!1}store(t,a){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,a){return t.routeConfig===a.routeConfig}},zp=(()=>{let t=class t extends ko{};t.\u0275fac=(()=>{let n;return function(c){return(n||(n=$t(t)))(c||t)}})(),t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),sh=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=V({token:t,factory:()=>D(Bp),providedIn:"root"});let r=t;return r})(),Bp=(()=>{let t=class t extends sh{constructor(){super(...arguments),this.location=D(Jn),this.urlSerializer=D(Do),this.options=D(Vo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=D(zo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Dt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Wc(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(s=>{s.type==="popstate"&&n(s.url,s.state)})}handleRouterEvent(n,s){if(n instanceof cn)this.stateMemento=this.createStateMemento();else if(n instanceof Xt)this.rawUrlTree=s.initialUrl;else if(n instanceof wr){if(this.urlUpdateStrategy==="eager"&&!s.extras.skipLocationChange){let c=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl);this.setBrowserUrl(c,s)}}else n instanceof un?(this.currentUrlTree=s.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl),this.routerState=s.targetRouterState,this.urlUpdateStrategy==="deferred"&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s))):n instanceof Ot&&(n.code===Be.GuardRejected||n.code===Be.NoDataFromResolver)?this.restoreHistory(s):n instanceof hn?this.restoreHistory(s,!0):n instanceof Lt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,s){let c=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(c)||s.extras.replaceUrl){let h=this.browserPageId,d=M(M({},s.extras.state),this.generateNgRouterState(s.id,h));this.location.replaceState(c,"",d)}else{let h=M(M({},s.extras.state),this.generateNgRouterState(s.id,this.browserPageId+1));this.location.go(c,"",h)}}restoreHistory(n,s=!1){if(this.canceledNavigationResolution==="computed"){let c=this.browserPageId,h=this.currentPageId-c;h!==0?this.location.historyGo(h):this.currentUrlTree===n.finalUrl&&h===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(s&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,s){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:s}:{navigationId:n}}};t.\u0275fac=(()=>{let n;return function(c){return(n||(n=$t(t)))(c||t)}})(),t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),rn=function(r){return r[r.COMPLETE=0]="COMPLETE",r[r.FAILED=1]="FAILED",r[r.REDIRECTING=2]="REDIRECTING",r}(rn||{});function Zp(r,t){r.events.pipe(ve(a=>a instanceof Lt||a instanceof Ot||a instanceof hn||a instanceof Xt),W(a=>a instanceof Lt||a instanceof Xt?rn.COMPLETE:(a instanceof Ot?a.code===Be.Redirect||a.code===Be.SupersededByNewNavigation:!1)?rn.REDIRECTING:rn.FAILED),ve(a=>a!==rn.REDIRECTING),At(1)).subscribe(()=>{t()})}function Hp(r){throw r}var $p={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xt=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=D(Gn),this.stateManager=D(sh),this.options=D(Vo,{optional:!0})||{},this.pendingTasks=D(Wn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=D(Up),this.urlSerializer=D(Do),this.location=D(Jn),this.urlHandlingStrategy=D(zo),this._events=new Ye,this.errorHandler=this.options.errorHandler||Hp,this.navigated=!1,this.routeReuseStrategy=D(jp),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=D(jo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!D(No,{optional:!0}),this.eventsSubscription=new gl,this.isNgZoneEnabled=D(Ue)instanceof Ue&&Ue.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(s=>{try{let c=this.navigationTransitions.currentTransition,h=this.navigationTransitions.currentNavigation;if(c!==null&&h!==null){if(this.stateManager.handleRouterEvent(s,h),s instanceof Ot&&s.code!==Be.Redirect&&s.code!==Be.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof Lt)this.navigated=!0;else if(s instanceof dn){let d=this.urlHandlingStrategy.merge(s.url,c.currentRawUrl),m={info:c.extras.info,skipLocationChange:c.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Vp(c.source)};this.scheduleNavigation(d,on,null,m,{resolve:c.resolve,reject:c.reject,promise:c.promise})}}qp(s)&&this._events.next(s)}catch(c){this.navigationTransitions.transitionAbortSubject.next(c)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),on,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,s)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",s)},0)})}navigateToSyncWithBrowser(n,s,c){let h={replaceUrl:!0},d=c?.navigationId?c:null;if(c){let p=M({},c);delete p.navigationId,delete p.\u0275routerPageId,Object.keys(p).length!==0&&(h.state=p)}let m=this.parseUrl(n);this.scheduleNavigation(m,s,d,h)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Fo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,s={}){let{relativeTo:c,queryParams:h,fragment:d,queryParamsHandling:m,preserveFragment:p}=s,w=p?this.currentUrlTree.fragment:d,x=null;switch(m){case"merge":x=M(M({},this.currentUrlTree.queryParams),h);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=h||null}x!==null&&(x=this.removeEmptyProps(x));let y;try{let C=c?c.snapshot:this.routerState.snapshot.root;y=Bc(C)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),y=this.currentUrlTree.root}return Zc(y,n,x,w??null)}navigateByUrl(n,s={skipLocationChange:!1}){let c=bi(n)?n:this.parseUrl(n),h=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(h,on,null,s)}navigate(n,s={skipLocationChange:!1}){return Gp(n),this.navigateByUrl(this.createUrlTree(n,s),s)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,s){let c;if(s===!0?c=M({},$p):s===!1?c=M({},Wp):c=s,bi(n))return Ec(this.currentUrlTree,n,c);let h=this.parseUrl(n);return Ec(this.currentUrlTree,h,c)}removeEmptyProps(n){return Object.entries(n).reduce((s,[c,h])=>(h!=null&&(s[c]=h),s),{})}scheduleNavigation(n,s,c,h,d){if(this.disposed)return Promise.resolve(!1);let m,p,w;d?(m=d.resolve,p=d.reject,w=d.promise):w=new Promise((y,C)=>{m=y,p=C});let x=this.pendingTasks.add();return Zp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(x))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:h,resolve:m,reject:p,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(y=>Promise.reject(y))}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function Gp(r){for(let t=0;t<r.length;t++)if(r[t]==null)throw new ae(4008,!1)}function qp(r){return!(r instanceof un)&&!(r instanceof dn)}var oh=(()=>{let t=class t{constructor(n,s,c,h,d,m){this.router=n,this.route=s,this.tabIndexAttribute=c,this.renderer=h,this.el=d,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new Ye,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let p=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement=p==="a"||p==="area",this.isAnchorElement?this.subscription=n.events.subscribe(w=>{w instanceof Lt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,s,c,h,d){let m=this.urlTree;if(m===null||this.isAnchorElement&&(n!==0||s||c||h||d||typeof this.target=="string"&&this.target!="_self"))return!0;let p={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(m,p),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let s=this.href===null?null:Ul(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",s)}applyAttributeValue(n,s){let c=this.renderer,h=this.el.nativeElement;s!==null?c.setAttribute(h,n,s):c.removeAttribute(h,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(s){return new(s||t)(G(xt),G(Yt),Ll("tabindex"),G(Gi),G($i),G(Bs))},t.\u0275dir=gt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(s,c){s&1&&je("click",function(d){return c.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),s&2&&Fs("target",c.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[kt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",fi],skipLocationChange:[kt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",fi],replaceUrl:[kt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",fi],routerLink:"routerLink"},standalone:!0,features:[zl,Hi]});let r=t;return r})();var Kp=new ee("");function ah(r,...t){return vt([{provide:jo,multi:!0,useValue:r},[],{provide:Yt,useFactory:Jp,deps:[xt]},{provide:js,multi:!0,useFactory:Xp},t.map(a=>a.\u0275providers)])}function Jp(r){return r.routerState.root}function Xp(){let r=D(ks);return t=>{let a=r.get(Kn);if(t!==a.components[0])return;let n=r.get(xt),s=r.get(Yp);r.get(Qp)===1&&n.initialNavigation(),r.get(em,null,Ms.Optional)?.setUpPreloading(),r.get(Kp,null,Ms.Optional)?.init(),n.resetRootComponentType(a.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}var Yp=new ee("",{factory:()=>new Ye}),Qp=new ee("",{providedIn:"root",factory:()=>1});var em=new ee("");var Zo=ml(Bo());var $o=class{validateSignature(t){return Promise.resolve(null)}validateAtHash(t){return Promise.resolve(!0)}},Ir=class{};var yn=class{},tm=(()=>{let t=class t extends yn{now(){return Date.now()}new(){return new Date}};t.\u0275fac=(()=>{let n;return function(c){return(n||(n=$t(t)))(c||t)}})(),t.\u0275prov=V({token:t,factory:t.\u0275fac});let r=t;return r})();var Ar=class{},kr=class{},im=(()=>{let t=class t{constructor(){this.data=new Map}getItem(n){return this.data.get(n)}removeItem(n){this.data.delete(n)}setItem(n,s){this.data.set(n,s)}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=V({token:t,factory:t.\u0275fac});let r=t;return r})();var wn=class{constructor(t){this.type=t}},Ae=class extends wn{constructor(t,a=null){super(t),this.info=a}},Qe=class extends wn{constructor(t,a=null){super(t),this.info=a}},le=class extends wn{constructor(t,a,n=null){super(t),this.reason=a,this.params=n}};function hh(r){let t=r.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(t).split("").map(function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function uh(r){return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var Si=class{constructor(t){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=1e3*20,this.silentRefreshTimeout=1e3*20,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3*1e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=a=>{location.href=a},t&&Object.assign(this,t)}},Qt=class{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}},Dr=class{};var dh=(()=>{let t=class t{getHashFragmentParams(n){let s=n||window.location.hash;if(s=decodeURIComponent(s),s.indexOf("#")!==0)return{};let c=s.indexOf("?");return c>-1?s=s.substr(c+1):s=s.substr(1),this.parseQueryString(s)}parseQueryString(n){let s={},c,h,d,m,p,w;if(n===null)return s;let x=n.split("&");for(let y=0;y<x.length;y++)c=x[y],h=c.indexOf("="),h===-1?(d=c,m=null):(d=c.substr(0,h),m=c.substr(h+1)),p=decodeURIComponent(d),w=decodeURIComponent(m),p.substr(0,1)==="/"&&(p=p.substr(1)),s[p]=w;return s}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=V({token:t,factory:t.\u0275fac});let r=t;return r})(),fh=32,nm=64,rm=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Ho(r,t,a,n,s){let c,h,d,m,p,w,x,y,C,E,Y,N,R;for(;s>=64;){for(c=t[0],h=t[1],d=t[2],m=t[3],p=t[4],w=t[5],x=t[6],y=t[7],E=0;E<16;E++)Y=n+E*4,r[E]=(a[Y]&255)<<24|(a[Y+1]&255)<<16|(a[Y+2]&255)<<8|a[Y+3]&255;for(E=16;E<64;E++)C=r[E-2],N=(C>>>17|C<<15)^(C>>>19|C<<13)^C>>>10,C=r[E-15],R=(C>>>7|C<<25)^(C>>>18|C<<14)^C>>>3,r[E]=(N+r[E-7]|0)+(R+r[E-16]|0);for(E=0;E<64;E++)N=(((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&w^~p&x)|0)+(y+(rm[E]+r[E]|0)|0)|0,R=((c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10))+(c&h^c&d^h&d)|0,y=x,x=w,w=p,p=m+N|0,m=d,d=h,h=c,c=N+R|0;t[0]+=c,t[1]+=h,t[2]+=d,t[3]+=m,t[4]+=p,t[5]+=w,t[6]+=x,t[7]+=y,n+=64,s-=64}return n}var Wo=class{constructor(){this.digestLength=fh,this.blockSize=nm,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(let t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()}update(t,a=t.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let n=0;if(this.bytesHashed+=a,this.bufferLength>0){for(;this.bufferLength<64&&a>0;)this.buffer[this.bufferLength++]=t[n++],a--;this.bufferLength===64&&(Ho(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(a>=64&&(n=Ho(this.temp,this.state,t,n,a),a%=64);a>0;)this.buffer[this.bufferLength++]=t[n++],a--;return this}finish(t){if(!this.finished){let a=this.bytesHashed,n=this.bufferLength,s=a/536870912|0,c=a<<3,h=a%64<56?64:128;this.buffer[n]=128;for(let d=n+1;d<h-8;d++)this.buffer[d]=0;this.buffer[h-8]=s>>>24&255,this.buffer[h-7]=s>>>16&255,this.buffer[h-6]=s>>>8&255,this.buffer[h-5]=s>>>0&255,this.buffer[h-4]=c>>>24&255,this.buffer[h-3]=c>>>16&255,this.buffer[h-2]=c>>>8&255,this.buffer[h-1]=c>>>0&255,Ho(this.temp,this.state,this.buffer,0,h),this.finished=!0}for(let a=0;a<8;a++)t[a*4+0]=this.state[a]>>>24&255,t[a*4+1]=this.state[a]>>>16&255,t[a*4+2]=this.state[a]>>>8&255,t[a*4+3]=this.state[a]>>>0&255;return this}digest(){let t=new Uint8Array(this.digestLength);return this.finish(t),t}_saveState(t){for(let a=0;a<this.state.length;a++)t[a]=this.state[a]}_restoreState(t,a){for(let n=0;n<this.state.length;n++)this.state[n]=t[n];this.bytesHashed=a,this.finished=!1,this.bufferLength=0}};function sm(r){let t=new Wo().update(r),a=t.digest();return t.clean(),a}var xv=new Uint8Array(fh);var Lr=class{};function om(r){if(typeof r!="string")throw new TypeError("expected string");let t=r,a=new Uint8Array(t.length);for(let n=0;n<t.length;n++)a[n]=t.charCodeAt(n);return a}function am(r){let t=[];for(let a=0;a<r.length;a++)t.push(String.fromCharCode(r[a]));return t.join("")}var lm=(()=>{let t=class t{calcHash(n,s){return Mt(this,null,function*(){return am(sm(om(n)))})}toHashString2(n){let s="";for(let c of n)s+=String.fromCharCode(c);return s}toHashString(n){let s=new Uint8Array(n),c="";for(let h of s)c+=String.fromCharCode(h);return c}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=V({token:t,factory:t.\u0275fac});let r=t;return r})(),Rr=(()=>{let t=class t extends Si{constructor(n,s,c,h,d,m,p,w,x,y){super(),this.ngZone=n,this.http=s,this.config=d,this.urlHelper=m,this.logger=p,this.crypto=w,this.dateTimeService=y,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new Ye,this.discoveryDocumentLoadedSubject=new Ye,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=x,d||(d={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),h&&(this.tokenValidationHandler=h),d&&this.configure(d);try{c?this.setStorage(c):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(C){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",C)}if(this.checkLocalStorageAccessable()){let C=window?.navigator?.userAgent;(C?.includes("MSIE ")||C?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;let n="test";try{return typeof window.localStorage>"u"?!1:(localStorage.setItem(n,n),localStorage.removeItem(n),!0)}catch{return!1}}configure(n){Object.assign(this,new Si,n),this.config=Object.assign({},new Si,n),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(ve(n=>n.type==="token_received")).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(n={},s,c=!0){let h=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe(pe(d=>{d.type==="token_received"?h=!0:d.type==="logout"&&(h=!1)}),ve(d=>d.type==="token_expires"&&(s==null||s==="any"||d.info===s)),Pl(1e3)).subscribe(()=>{h&&this.refreshInternal(n,c).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(n,s){return!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken():this.silentRefresh(n,s)}loadDiscoveryDocumentAndTryLogin(n=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(n))}loadDiscoveryDocumentAndLogin(n=null){return n=n||{},this.loadDiscoveryDocumentAndTryLogin(n).then(()=>{if(!this.hasValidIdToken()||!this.hasValidAccessToken()){let s=typeof n.state=="string"?n.state:"";return this.initLoginFlow(s),!1}else return!0})}debug(...n){this.showDebugInformation&&this.logger.debug(...n)}validateUrlFromDiscoveryDocument(n){let s=[],c=this.validateUrlForHttps(n),h=this.validateUrlAgainstIssuer(n);return c||s.push("https for all urls required. Also for urls received by discovery."),h||s.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),s}validateUrlForHttps(n){if(!n)return!0;let s=n.toLowerCase();return this.requireHttps===!1||(s.match(/^http:\/\/localhost($|[:/])/)||s.match(/^http:\/\/localhost($|[:/])/))&&this.requireHttps==="remoteOnly"?!0:s.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(n,s){if(!n)throw new Error(`'${s}' should not be null`);if(!this.validateUrlForHttps(n))throw new Error(`'${s}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(n){return!this.strictDiscoveryDocumentValidation||!n?!0:n.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){if(typeof window>"u"){this.debug("timer not supported on this plattform");return}(this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(ve(n=>n.type==="token_received")).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){let n=this.getAccessTokenExpiration(),s=this.getAccessTokenStoredAt(),c=this.calcTimeout(s,n);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=A(new Qe("token_expires","access_token")).pipe(Hn(c)).subscribe(h=>{this.ngZone.run(()=>{this.eventsSubject.next(h)})})})}setupIdTokenTimer(){let n=this.getIdTokenExpiration(),s=this.getIdTokenStoredAt(),c=this.calcTimeout(s,n);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=A(new Qe("token_expires","id_token")).pipe(Hn(c)).subscribe(h=>{this.ngZone.run(()=>{this.eventsSubject.next(h)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(n,s){let c=this.dateTimeService.now(),h=(s-n)*this.timeoutFactor-(c-n),d=Math.max(0,h),m=2147483647;return d>m?m:d}setStorage(n){this._storage=n,this.configChanged()}loadDiscoveryDocument(n=null){return new Promise((s,c)=>{if(n||(n=this.issuer||"",n.endsWith("/")||(n+="/"),n+=".well-known/openid-configuration"),!this.validateUrlForHttps(n)){c("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return}this.http.get(n).subscribe(h=>{if(!this.validateDiscoveryDocument(h)){this.eventsSubject.next(new le("discovery_document_validation_error",null)),c("discovery_document_validation_error");return}this.loginUrl=h.authorization_endpoint,this.logoutUrl=h.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=h.grant_types_supported,this.issuer=h.issuer,this.tokenEndpoint=h.token_endpoint,this.userinfoEndpoint=h.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=h.jwks_uri,this.sessionCheckIFrameUrl=h.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(h),this.revocationEndpoint=h.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(d=>{let m={discoveryDocument:h,jwks:d},p=new Ae("discovery_document_loaded",m);this.eventsSubject.next(p),s(p)}).catch(d=>{this.eventsSubject.next(new le("discovery_document_load_error",d)),c(d)})},h=>{this.logger.error("error loading discovery document",h),this.eventsSubject.next(new le("discovery_document_load_error",h)),c(h)})})}loadJwks(){return new Promise((n,s)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(c=>{this.jwks=c,n(c)},c=>{this.logger.error("error loading jwks",c),this.eventsSubject.next(new le("jwks_load_error",c)),s(c)}):n(null)})}validateDiscoveryDocument(n){let s;return!this.skipIssuerCheck&&n.issuer!==this.issuer?(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+n.issuer),!1):(s=this.validateUrlFromDiscoveryDocument(n.authorization_endpoint),s.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",s),!1):(s=this.validateUrlFromDiscoveryDocument(n.end_session_endpoint),s.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",s),!1):(s=this.validateUrlFromDiscoveryDocument(n.token_endpoint),s.length>0&&this.logger.error("error validating token_endpoint in discovery document",s),s=this.validateUrlFromDiscoveryDocument(n.revocation_endpoint),s.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",s),s=this.validateUrlFromDiscoveryDocument(n.userinfo_endpoint),s.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",s),!1):(s=this.validateUrlFromDiscoveryDocument(n.jwks_uri),s.length>0?(this.logger.error("error validating jwks_uri in discovery document",s),!1):(this.sessionChecksEnabled&&!n.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)))))}fetchTokenUsingPasswordFlowAndLoadUserProfile(n,s,c=new Ie){return this.fetchTokenUsingPasswordFlow(n,s,c).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((n,s)=>{let c=new Ie().set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:c,observe:"response",responseType:"text"}).subscribe(h=>{if(this.debug("userinfo received",JSON.stringify(h)),h.headers.get("content-type").startsWith("application/json")){let d=JSON.parse(h.body),m=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!m.sub||d.sub!==m.sub)){s(`if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.
if you are not using oidc but just oauth2 password flow set oidc to false`);return}d=Object.assign({},m,d),this._storage.setItem("id_token_claims_obj",JSON.stringify(d)),this.eventsSubject.next(new Ae("user_profile_loaded")),n({info:d})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new Ae("user_profile_loaded")),n(JSON.parse(h.body))},h=>{this.logger.error("error loading user info",h),this.eventsSubject.next(new le("user_profile_load_error",h)),s(h)})})}fetchTokenUsingPasswordFlow(n,s,c=new Ie){let h={username:n,password:s};return this.fetchTokenUsingGrant("password",h,c)}fetchTokenUsingGrant(n,s,c=new Ie){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let h=new Te({encoder:new Qt}).set("grant_type",n).set("scope",this.scope);if(this.useHttpBasicAuth){let d=btoa(`${this.clientId}:${this.dummyClientSecret}`);c=c.set("Authorization","Basic "+d)}if(this.useHttpBasicAuth||(h=h.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(h=h.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let d of Object.getOwnPropertyNames(this.customQueryParams))h=h.set(d,this.customQueryParams[d]);for(let d of Object.keys(s))h=h.set(d,s[d]);return c=c.set("Content-Type","application/x-www-form-urlencoded"),new Promise((d,m)=>{this.http.post(this.tokenEndpoint,h,{headers:c}).subscribe(p=>{this.debug("tokenResponse",p),this.storeAccessTokenResponse(p.access_token,p.refresh_token,p.expires_in||this.fallbackAccessTokenExpirationTimeInSec,p.scope,this.extractRecognizedCustomParameters(p)),this.oidc&&p.id_token&&this.processIdToken(p.id_token,p.access_token).then(w=>{this.storeIdToken(w),d(p)}),this.eventsSubject.next(new Ae("token_received")),d(p)},p=>{this.logger.error("Error performing ${grantType} flow",p),this.eventsSubject.next(new le("token_error",p)),m(p)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((n,s)=>{let c=new Te({encoder:new Qt}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),h=new Ie().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let d=btoa(`${this.clientId}:${this.dummyClientSecret}`);h=h.set("Authorization","Basic "+d)}if(this.useHttpBasicAuth||(c=c.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(c=c.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let d of Object.getOwnPropertyNames(this.customQueryParams))c=c.set(d,this.customQueryParams[d]);this.http.post(this.tokenEndpoint,c,{headers:h}).pipe(Fe(d=>this.oidc&&d.id_token?Ce(this.processIdToken(d.id_token,d.access_token,!0)).pipe(pe(m=>this.storeIdToken(m)),W(()=>d)):A(d))).subscribe(d=>{this.debug("refresh tokenResponse",d),this.storeAccessTokenResponse(d.access_token,d.refresh_token,d.expires_in||this.fallbackAccessTokenExpirationTimeInSec,d.scope,this.extractRecognizedCustomParameters(d)),this.eventsSubject.next(new Ae("token_received")),this.eventsSubject.next(new Ae("token_refreshed")),n(d)},d=>{this.logger.error("Error refreshing token",d),this.eventsSubject.next(new le("token_refresh_error",d)),s(d)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=n=>{let s=this.processMessageEventMessage(n);this.checkOrigin&&n.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:s,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(c=>this.debug("tryLogin during silent refresh failed",c))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(n={},s=!0){let c=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(n.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");let h=this.document.getElementById(this.silentRefreshIFrameName);h&&this.document.body.removeChild(h),this.silentRefreshSubject=c.sub;let d=this.document.createElement("iframe");d.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener();let m=this.silentRefreshRedirectUri||this.redirectUri;this.createLoginUrl(null,null,m,s,n).then(y=>{d.setAttribute("src",y),this.silentRefreshShowIFrame||(d.style.display="none"),this.document.body.appendChild(d)});let p=this.events.pipe(ve(y=>y instanceof le),qe()),w=this.events.pipe(ve(y=>y.type==="token_received"),qe()),x=A(new le("silent_refresh_timeout",null)).pipe(Hn(this.silentRefreshTimeout));return Sl([p,w,x]).pipe(W(y=>{if(y instanceof le)throw y.type==="silent_refresh_timeout"?this.eventsSubject.next(y):(y=new le("silent_refresh_error",y),this.eventsSubject.next(y)),y;return y.type==="token_received"&&(y=new Ae("silently_refreshed"),this.eventsSubject.next(y)),y})).toPromise()}initImplicitFlowInPopup(n){return this.initLoginFlowInPopup(n)}initLoginFlowInPopup(n){return n=n||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(s=>new Promise((c,h)=>{let m=null;n.windowRef?n.windowRef&&!n.windowRef.closed&&(m=n.windowRef,m.location.href=s):m=window.open(s,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(n));let p,w=Y=>{this.tryLogin({customHashFragment:Y,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{y(),c(!0)},N=>{y(),h(N)})},x=()=>{(!m||m.closed)&&(y(),h(new le("popup_closed",{})))};m?p=window.setInterval(x,500):h(new le("popup_blocked",{}));let y=()=>{window.clearInterval(p),window.removeEventListener("storage",E),window.removeEventListener("message",C),m!==null&&m.close(),m=null},C=Y=>{let N=this.processMessageEventMessage(Y);N&&N!==null?(window.removeEventListener("storage",E),w(N)):console.log("false event firing")},E=Y=>{Y.key==="auth_hash"&&(window.removeEventListener("message",C),w(Y.newValue))};window.addEventListener("message",C),window.addEventListener("storage",E)}))}calculatePopupFeatures(n){let s=n.height||470,c=n.width||500,h=window.screenLeft+(window.outerWidth-c)/2,d=window.screenTop+(window.outerHeight-s)/2;return`location=no,toolbar=no,width=${c},height=${s},top=${d},left=${h}`}processMessageEventMessage(n){let s="#";if(this.silentRefreshMessagePrefix&&(s+=this.silentRefreshMessagePrefix),!n||!n.data||typeof n.data!="string")return;let c=n.data;if(c.startsWith(s))return"#"+c.substr(s.length)}canPerformSessionCheck(){return this.sessionChecksEnabled?this.sessionCheckIFrameUrl?this.getSessionState()?!(typeof this.document>"u"):(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1):!1}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=n=>{let s=n.origin.toLowerCase(),c=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),!c.startsWith(s)){this.debug("sessionCheckEventListener","wrong origin",s,"expected",c,"event",n);return}switch(n.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()});break}this.debug("got info from session check inframe",n)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new Qe("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new Qe("session_changed")),this.stopSessionCheckTimer(),!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new Qe("session_terminated")),this.logOut(!0)}):this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new Qe("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(ve(n=>n.type==="silently_refreshed"||n.type==="silent_refresh_timeout"||n.type==="silent_refresh_error"),qe()).subscribe(n=>{n.type!=="silently_refreshed"&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new Qe("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new Qe("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;let n=this.document.getElementById(this.sessionCheckIFrameName);n&&this.document.body.removeChild(n);let s=this.document.createElement("iframe");s.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener();let c=this.sessionCheckIFrameUrl;s.setAttribute("src",c),s.style.display="none",this.document.body.appendChild(s),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){let n=this.document.getElementById(this.sessionCheckIFrameName);n||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);let s=this.getSessionState();s||this.stopSessionCheckTimer();let c=this.clientId+" "+s;n.contentWindow.postMessage(c,this.issuer)}createLoginUrl(){return Mt(this,arguments,function*(n="",s="",c="",h=!1,d={}){let m=this,p;c?p=c:p=this.redirectUri;let w=yield this.createAndSaveNonce();if(n?n=w+this.config.nonceStateSeparator+encodeURIComponent(n):n=w,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.config.responseType?this.responseType=this.config.responseType:this.oidc&&this.requestAccessToken?this.responseType="id_token token":this.oidc&&!this.requestAccessToken?this.responseType="id_token":this.responseType="token";let x=m.loginUrl.indexOf("?")>-1?"&":"?",y=m.scope;this.oidc&&!y.match(/(^|\s)openid($|\s)/)&&(y="openid "+y);let C=m.loginUrl+x+"response_type="+encodeURIComponent(m.responseType)+"&client_id="+encodeURIComponent(m.clientId)+"&state="+encodeURIComponent(n)+"&redirect_uri="+encodeURIComponent(p)+"&scope="+encodeURIComponent(y);if(this.responseType.includes("code")&&!this.disablePKCE){let[E,Y]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",Y):this._storage.setItem("PKCE_verifier",Y),C+="&code_challenge="+E,C+="&code_challenge_method=S256"}s&&(C+="&login_hint="+encodeURIComponent(s)),m.resource&&(C+="&resource="+encodeURIComponent(m.resource)),m.oidc&&(C+="&nonce="+encodeURIComponent(w)),h&&(C+="&prompt=none");for(let E of Object.keys(d))C+="&"+encodeURIComponent(E)+"="+encodeURIComponent(d[E]);if(this.customQueryParams)for(let E of Object.getOwnPropertyNames(this.customQueryParams))C+="&"+E+"="+encodeURIComponent(this.customQueryParams[E]);return C})}initImplicitFlowInternal(n="",s=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let c={},h=null;typeof s=="string"?h=s:typeof s=="object"&&(c=s),this.createLoginUrl(n,h,null,!1,c).then(this.config.openUri).catch(d=>{console.error("Error in initImplicitFlow",d),this.inImplicitFlow=!1})}initImplicitFlow(n="",s=""){this.loginUrl!==""?this.initImplicitFlowInternal(n,s):this.events.pipe(ve(c=>c.type==="discovery_document_loaded")).subscribe(()=>this.initImplicitFlowInternal(n,s))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(n){let s=this;if(n.onTokenReceived){let c={idClaims:s.getIdentityClaims(),idToken:s.getIdToken(),accessToken:s.getAccessToken(),state:s.state};n.onTokenReceived(c)}}storeAccessTokenResponse(n,s,c,h,d){if(this._storage.setItem("access_token",n),h&&!Array.isArray(h)?this._storage.setItem("granted_scopes",JSON.stringify(h.split(" "))):h&&Array.isArray(h)&&this._storage.setItem("granted_scopes",JSON.stringify(h)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),c){let m=c*1e3,w=this.dateTimeService.new().getTime()+m;this._storage.setItem("expires_at",""+w)}s&&this._storage.setItem("refresh_token",s),d&&d.forEach((m,p)=>{this._storage.setItem(p,m)})}tryLogin(n=null){return this.config.responseType==="code"?this.tryLoginCodeFlow(n).then(()=>!0):this.tryLoginImplicitFlow(n)}parseQueryString(n){return!n||n.length===0?{}:(n.charAt(0)==="?"&&(n=n.substr(1)),this.urlHelper.parseQueryString(n))}tryLoginCodeFlow(n=null){return Mt(this,null,function*(){n=n||{};let s=n.customHashFragment?n.customHashFragment.substring(1):window.location.search,c=this.getCodePartsFromUrl(s),h=c.code,d=c.state,m=c.session_state;if(!n.preventClearHashAfterLogin){let x=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,x)}let[p,w]=this.parseState(d);if(this.state=w,c.error){this.debug("error trying to login"),this.handleLoginError(n,c);let x=new le("code_error",{},c);return this.eventsSubject.next(x),Promise.reject(x)}if(!n.disableNonceCheck){if(!p)return this.saveRequestedRoute(),Promise.resolve();if(!n.disableOAuth2StateCheck&&!this.validateNonce(p)){let y=new le("invalid_nonce_in_state",null);return this.eventsSubject.next(y),Promise.reject(y)}}return this.storeSessionState(m),h&&(yield this.getTokenFromCode(h,n),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){let n=this._storage.getItem("requested_route");n&&history.replaceState(null,"",window.location.origin+n)}getCodePartsFromUrl(n){return!n||n.length===0?this.urlHelper.getHashFragmentParams():(n.charAt(0)==="?"&&(n=n.substr(1)),this.urlHelper.parseQueryString(n))}getTokenFromCode(n,s){let c=new Te({encoder:new Qt}).set("grant_type","authorization_code").set("code",n).set("redirect_uri",s.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let h;this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?h=localStorage.getItem("PKCE_verifier"):h=this._storage.getItem("PKCE_verifier"),h?c=c.set("code_verifier",h):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(c,s)}fetchAndProcessToken(n,s){s=s||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let c=new Ie().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let h=btoa(`${this.clientId}:${this.dummyClientSecret}`);c=c.set("Authorization","Basic "+h)}return this.useHttpBasicAuth||(n=n.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(n=n.set("client_secret",this.dummyClientSecret)),new Promise((h,d)=>{if(this.customQueryParams)for(let m of Object.getOwnPropertyNames(this.customQueryParams))n=n.set(m,this.customQueryParams[m]);this.http.post(this.tokenEndpoint,n,{headers:c}).subscribe(m=>{this.debug("refresh tokenResponse",m),this.storeAccessTokenResponse(m.access_token,m.refresh_token,m.expires_in||this.fallbackAccessTokenExpirationTimeInSec,m.scope,this.extractRecognizedCustomParameters(m)),this.oidc&&m.id_token?this.processIdToken(m.id_token,m.access_token,s.disableNonceCheck).then(p=>{this.storeIdToken(p),this.eventsSubject.next(new Ae("token_received")),this.eventsSubject.next(new Ae("token_refreshed")),h(m)}).catch(p=>{this.eventsSubject.next(new le("token_validation_error",p)),console.error("Error validating tokens"),console.error(p),d(p)}):(this.eventsSubject.next(new Ae("token_received")),this.eventsSubject.next(new Ae("token_refreshed")),h(m))},m=>{console.error("Error getting token",m),this.eventsSubject.next(new le("token_refresh_error",m)),d(m)})})}tryLoginImplicitFlow(n=null){n=n||{};let s;n.customHashFragment?s=this.urlHelper.getHashFragmentParams(n.customHashFragment):s=this.urlHelper.getHashFragmentParams(),this.debug("parsed url",s);let c=s.state,[h,d]=this.parseState(c);if(this.state=d,s.error){this.debug("error trying to login"),this.handleLoginError(n,s);let y=new le("token_error",{},s);return this.eventsSubject.next(y),Promise.reject(y)}let m=s.access_token,p=s.id_token,w=s.session_state,x=s.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!m||this.requestAccessToken&&!n.disableOAuth2StateCheck&&!c||this.oidc&&!p)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!w&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!n.disableNonceCheck&&!this.validateNonce(h)){let C=new le("invalid_nonce_in_state",null);return this.eventsSubject.next(C),Promise.reject(C)}return this.requestAccessToken&&this.storeAccessTokenResponse(m,null,s.expires_in||this.fallbackAccessTokenExpirationTimeInSec,x),this.oidc?this.processIdToken(p,m,n.disableNonceCheck).then(y=>n.validationHandler?n.validationHandler({accessToken:m,idClaims:y.idTokenClaims,idToken:y.idToken,state:c}).then(()=>y):y).then(y=>(this.storeIdToken(y),this.storeSessionState(w),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new Ae("token_received")),this.callOnTokenReceivedIfExists(n),this.inImplicitFlow=!1,!0)).catch(y=>(this.eventsSubject.next(new le("token_validation_error",y)),this.logger.error("Error validating tokens"),this.logger.error(y),Promise.reject(y))):(this.eventsSubject.next(new Ae("token_received")),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(n),Promise.resolve(!0))}parseState(n){let s=n,c="";if(n){let h=n.indexOf(this.config.nonceStateSeparator);h>-1&&(s=n.substr(0,h),c=n.substr(h+this.config.nonceStateSeparator.length))}return[s,c]}validateNonce(n){let s;return this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?s=localStorage.getItem("nonce"):s=this._storage.getItem("nonce"),s!==n?(console.error("Validating access_token failed, wrong state/nonce.",s,n),!1):!0}storeIdToken(n){this._storage.setItem("id_token",n.idToken),this._storage.setItem("id_token_claims_obj",n.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+n.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(n){this._storage.setItem("session_state",n)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(n,s){n.onLoginError&&n.onLoginError(s),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(n=6e5){return!this.clockSkewInSec&&this.clockSkewInSec!==0?n:this.clockSkewInSec*1e3}processIdToken(n,s,c=!1){let h=n.split("."),d=this.padBase64(h[0]),m=hh(d),p=JSON.parse(m),w=this.padBase64(h[1]),x=hh(w),y=JSON.parse(x),C;if(this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?C=localStorage.getItem("nonce"):C=this._storage.getItem("nonce"),Array.isArray(y.aud)){if(y.aud.every(H=>H!==this.clientId)){let H="Wrong audience: "+y.aud.join(",");return this.logger.warn(H),Promise.reject(H)}}else if(y.aud!==this.clientId){let H="Wrong audience: "+y.aud;return this.logger.warn(H),Promise.reject(H)}if(!y.sub){let H="No sub claim in id_token";return this.logger.warn(H),Promise.reject(H)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==y.sub){let H=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${y.sub}`;return this.logger.warn(H),Promise.reject(H)}if(!y.iat){let H="No iat claim in id_token";return this.logger.warn(H),Promise.reject(H)}if(!this.skipIssuerCheck&&y.iss!==this.issuer){let H="Wrong issuer: "+y.iss;return this.logger.warn(H),Promise.reject(H)}if(!c&&y.nonce!==C){let H="Wrong nonce: "+y.nonce;return this.logger.warn(H),Promise.reject(H)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&(this.responseType==="code"||this.responseType==="id_token")&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!y.at_hash){let H="An at_hash is needed!";return this.logger.warn(H),Promise.reject(H)}let E=this.dateTimeService.now(),Y=y.iat*1e3,N=y.exp*1e3,R=this.getClockSkewInMsec();if(Y-R>=E||N+R-this.decreaseExpirationBySec<=E){let H="Token has expired";return console.error(H),console.error({now:E,issuedAtMSec:Y,expiresAtMSec:N}),Promise.reject(H)}let we={accessToken:s,idToken:n,jwks:this.jwks,idTokenClaims:y,idTokenHeader:p,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(we).then(()=>({idToken:n,idTokenClaims:y,idTokenClaimsJson:x,idTokenHeader:p,idTokenHeaderJson:m,idTokenExpiresAt:N})):this.checkAtHash(we).then(H=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!H){let re="Wrong at_hash";return this.logger.warn(re),Promise.reject(re)}return this.checkSignature(we).then(()=>{let re=!this.disableAtHashCheck,lt={idToken:n,idTokenClaims:y,idTokenClaimsJson:x,idTokenHeader:p,idTokenHeaderJson:m,idTokenExpiresAt:N};return re?this.checkAtHash(we).then(ei=>{if(this.requestAccessToken&&!ei){let St="Wrong at_hash";return this.logger.warn(St),Promise.reject(St)}else return lt}):lt})})}getIdentityClaims(){let n=this._storage.getItem("id_token_claims_obj");return n?JSON.parse(n):null}getGrantedScopes(){let n=this._storage.getItem("granted_scopes");return n?JSON.parse(n):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(n){for(;n.length%4!==0;)n+="=";return n}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){let n=this._storage.getItem("expires_at"),s=this.dateTimeService.new();return!(n&&parseInt(n,10)-this.decreaseExpirationBySec<s.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){let n=this._storage.getItem("id_token_expires_at"),s=this.dateTimeService.new();return!(n&&parseInt(n,10)-this.decreaseExpirationBySec<s.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(n){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(n)>=0&&this._storage.getItem(n)!==null?JSON.parse(this._storage.getItem(n)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(n={},s=""){let c=!1;typeof n=="boolean"&&(c=n,n={});let h=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(m=>this._storage.removeItem(m)),this.silentRefreshSubject=null,this.eventsSubject.next(new Qe("logout")),!this.logoutUrl||c)return;let d;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)d=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(h)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let m=new Te({encoder:new Qt});h&&(m=m.set("id_token_hint",h));let p=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";p&&(m=m.set("post_logout_redirect_uri",p),s&&(m=m.set("state",s)));for(let w in n)m=m.set(w,n[w]);d=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+m.toString()}this.config.openUri(d)}createAndSaveNonce(){let n=this;return this.createNonce().then(function(s){return n.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",s):n._storage.setItem("nonce",s),s})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();let n=this.document.getElementById(this.silentRefreshIFrameName);n&&n.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();let s=this.document.getElementById(this.sessionCheckIFrameName);s&&s.remove()}createNonce(){return new Promise(n=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");let s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",c=45,h="",d=typeof self>"u"?null:self.crypto||self.msCrypto;if(d){let m=new Uint8Array(c);d.getRandomValues(m),m.map||(m.map=Array.prototype.map),m=m.map(p=>s.charCodeAt(p%s.length)),h=String.fromCharCode.apply(null,m)}else for(;0<c--;)h+=s[Math.random()*s.length|0];n(uh(h))})}checkAtHash(n){return Mt(this,null,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(n):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(n){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(n):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(n="",s={}){return this.responseType==="code"?this.initCodeFlow(n,s):this.initImplicitFlow(n,s)}initCodeFlow(n="",s={}){this.loginUrl!==""?this.initCodeFlowInternal(n,s):this.events.pipe(ve(c=>c.type==="discovery_document_loaded")).subscribe(()=>this.initCodeFlowInternal(n,s))}initCodeFlowInternal(n="",s={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let c={},h=null;typeof s=="string"?h=s:typeof s=="object"&&(c=s),this.createLoginUrl(n,h,null,!1,c).then(this.config.openUri).catch(d=>{console.error("Error in initAuthorizationCodeFlow"),console.error(d)})}createChallangeVerifierPairForPKCE(){return Mt(this,null,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");let n=yield this.createNonce(),s=yield this.crypto.calcHash(n,"sha-256");return[uh(s),n]})}extractRecognizedCustomParameters(n){let s=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(c=>{n[c]&&s.set(c,JSON.stringify(n[c]))}),s}revokeTokenAndLogout(n={},s=!1){let c=this.revocationEndpoint,h=this.getAccessToken(),d=this.getRefreshToken();if(!h)return Promise.resolve();let m=new Te({encoder:new Qt}),p=new Ie().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let w=btoa(`${this.clientId}:${this.dummyClientSecret}`);p=p.set("Authorization","Basic "+w)}if(this.useHttpBasicAuth||(m=m.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(m=m.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let w of Object.getOwnPropertyNames(this.customQueryParams))m=m.set(w,this.customQueryParams[w]);return new Promise((w,x)=>{let y,C;if(h){let E=m.set("token",h).set("token_type_hint","access_token");y=this.http.post(c,E,{headers:p})}else y=A(null);if(d){let E=m.set("token",d).set("token_type_hint","refresh_token");C=this.http.post(c,E,{headers:p})}else C=A(null);s&&(y=y.pipe(Ge(E=>E.status===0?A(null):mt(E))),C=C.pipe(Ge(E=>E.status===0?A(null):mt(E)))),Bi([y,C]).subscribe(E=>{this.logOut(n),w(E),this.logger.info("Token successfully revoked")},E=>{this.logger.error("Error revoking token",E),this.eventsSubject.next(new le("token_revoke_error",E)),x(E)})})}clearLocationHash(){location.hash!=""&&(location.hash="")}};t.\u0275fac=function(s){return new(s||t)(F(Ue),F(Ct),F(kr,8),F(Dr,8),F(Si,8),F(dh),F(Ar),F(Lr,8),F(Pe),F(yn))},t.\u0275prov=V({token:t,factory:t.\u0275fac});let r=t;return r})(),Or=class{},Go=class{handleError(t){return mt(t)}},cm=(()=>{let t=class t{constructor(n,s,c){this.oAuthService=n,this.errorHandler=s,this.moduleConfig=c}checkUrl(n){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(n):this.moduleConfig.resourceServer.allowedUrls?!!this.moduleConfig.resourceServer.allowedUrls.find(s=>n.toLowerCase().startsWith(s.toLowerCase())):!0}intercept(n,s){let c=n.url.toLowerCase();return!this.moduleConfig||!this.moduleConfig.resourceServer||!this.checkUrl(c)?s.handle(n):this.moduleConfig.resourceServer.sendAccessToken?xl(A(this.oAuthService.getAccessToken()).pipe(ve(d=>!!d)),this.oAuthService.events.pipe(ve(d=>d.type==="token_received"),wl(this.oAuthService.waitForTokenInMsec||0),Ge(()=>A(null)),W(()=>this.oAuthService.getAccessToken()))).pipe(At(1),Ne(d=>{if(d){let m="Bearer "+d,p=n.headers.set("Authorization",m);n=n.clone({headers:p})}return s.handle(n).pipe(Ge(m=>this.errorHandler.handleError(m)))})):s.handle(n).pipe(Ge(d=>this.errorHandler.handleError(d)))}};t.\u0275fac=function(s){return new(s||t)(F(Rr),F(Or),F(Ir,8))},t.\u0275prov=V({token:t,factory:t.\u0275fac});let r=t;return r})();function hm(){return console}function um(){return typeof sessionStorage<"u"?sessionStorage:new im}function ph(r=null,t=$o){return vt([Rr,dh,{provide:Ar,useFactory:hm},{provide:kr,useFactory:um},{provide:Dr,useClass:t},{provide:Lr,useClass:lm},{provide:Or,useClass:Go},{provide:Ir,useValue:r},{provide:pc,useClass:cm,multi:!0},{provide:yn,useClass:tm}])}var Sv=new ee("AUTH_CONFIG");var Nr={production:!1,googleClientId:"161940957546-j8m8crcsivcbol25931360atmm2im503.apps.googleusercontent.com",apiUrl:"http://localhost:3000"};var Nt=(()=>{let t=class t{constructor(){this.oAuthService=D(Rr),this.router=D(xt),this.profileSubject=new Re(null),this.profile$=this.profileSubject.asObservable(),this.initConfiguration(),this.loadUserProfile()}initConfiguration(){let n={issuer:"https://accounts.google.com",strictDiscoveryDocumentValidation:!1,clientId:Nr.googleClientId,redirectUri:window.location.origin+"/home",scope:"openid profile email",responseType:"token id_token"};this.oAuthService.configure(n),this.oAuthService.setupAutomaticSilentRefresh(),this.oAuthService.loadDiscoveryDocumentAndTryLogin().then(()=>{this.oAuthService.hasValidAccessToken()&&this.fetchAndSetProfile()})}login(){this.oAuthService.initImplicitFlow()}logout(){this.oAuthService.revokeTokenAndLogout(),this.oAuthService.logOut(),this.router.navigate(["/login"])}fetchAndSetProfile(){let n=this.oAuthService.getIdentityClaims();this.profileSubject.next(n)}loadUserProfile(){this.oAuthService.hasValidAccessToken()&&this.fetchAndSetProfile()}getToken(){return this.oAuthService.getAccessToken()}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var Pi=(()=>{let t=class t{constructor(n){this.http=n,this.apiUrl=`${Nr.apiUrl}/api/sessions`}createSession(n){return this.http.post(`${this.apiUrl}`,n)}getSessionData(){return this.http.get(`${this.apiUrl}/latest`)}getUserSessions(n){let s=new Te().set("email",n);return this.http.get(`${this.apiUrl}/user`,{params:s})}};t.\u0275fac=function(s){return new(s||t)(F(Ct))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function dm(r,t){r&1&&te(0,"div")}function fm(r,t){if(r&1){let a=Us();T(0,"p"),k(1,"User not logged in."),P(),T(2,"button",17),je("click",function(){Is(a);let s=$l();return As(s.logOut())}),k(3,"Retour"),P()}}var ot=(()=>{let t=class t{constructor(n,s,c,h){this.authService=n,this.cdr=s,this.router=c,this.sessionService=h}ngOnInit(){this.authService.profile$.subscribe(n=>{n&&(this.profile=n,this.sendSessionData()),this.cdr.detectChanges()})}onLocationFound(n){this.locationData=n,console.log("Location:",this.locationData.lat),this.sendSessionData()}sendSessionData(){if(this.profile&&this.locationData){let n={email:this.profile.email,lat:this.locationData.lat,lng:this.locationData.lng};console.log("Session data:",n),this.sessionService.createSession(n).subscribe({next:s=>console.log("Session created successfully",s),error:s=>console.error("Error creating session",s)})}}logOut(){this.authService.logout(),this.router.navigate(["/login"])}};t.\u0275fac=function(s){return new(s||t)(G(Nt),G(bt),G(xt),G(Pi))},t.\u0275cmp=me({type:t,selectors:[["app-header"]],inputs:{activePage:"activePage"},standalone:!0,features:[ge],decls:30,vars:18,consts:[["notLoggedIn",""],[1,"navbar","navbar-expand-lg","navbar-dark","fixed-top"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/home","aria-current","page","href","#"],["routerLink","/regions","href","#"],["routerLink","/historique","href","#"],["routerLink","/guide-jardin","href","#"],["routerLink","/Forum","href","#"],[1,"dashboard"],[4,"ngIf","ngIfElse"],["alt","Photo de profil",1,"Photo_profile",3,"src"],[3,"click"]],template:function(s,c){if(s&1){let h=Us();T(0,"nav",1)(1,"div",2)(2,"a",3),k(3,"Urban Root"),P(),T(4,"button",4),te(5,"span",5),P(),T(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),k(10,"Accueil"),P()(),T(11,"li",8)(12,"a",10),k(13,"R\xE9gions"),P()(),T(14,"li",8)(15,"a",11),k(16,"Historique"),P()(),T(17,"li",8)(18,"a",12),k(19,"Guide"),P()(),T(20,"li",8)(21,"a",13),k(22,"Forum"),P()()()(),T(23,"div",14),Gt(24,dm,1,0,"div",15),te(25,"img",16),T(26,"button",17),je("click",function(){return Is(h),As(c.logOut())}),k(27,"Log Out"),P(),Gt(28,fm,4,0,"ng-template",null,0,Ql),P()()()}if(s&2){let h=Wl(29);ne(9),di("nav-link ",c.activePage==="home"?"active":"",""),ne(3),di("nav-link ",c.activePage==="regions"?"active":"",""),ne(3),di("nav-link ",c.activePage==="historique"?"active":"",""),ne(3),di("nav-link ",c.activePage==="guide-jardin"?"active":"",""),ne(3),di("nav-link ",c.activePage==="forum"?"active":"",""),ne(3),Me("ngIf",c.profile)("ngIfElse",h),ne(),Me("src",c.profile.picture,Fl)}},dependencies:[oh,ye,sc],styles:["nav[_ngcontent-%COMP%]{background-color:#000}.Photo_profile[_ngcontent-%COMP%]{width:5vh;height:5vh;border-radius:50px}"]});let r=t;return r})();var mh=(()=>{let t=class t{constructor(n,s,c,h){this.authService=n,this.cdr=s,this.router=c,this.sessionService=h}ngOnInit(){this.authService.profile$.subscribe(n=>{n&&(this.profile=n,this.sendSessionData()),this.cdr.detectChanges()})}onLocationFound(n){this.locationData=n,console.log("Location:",this.locationData.lat),this.sendSessionData()}sendSessionData(){if(this.profile&&this.locationData){let n={email:this.profile.email,lat:this.locationData.lat,lng:this.locationData.lng};console.log("Session data:",n),this.sessionService.createSession(n).subscribe({next:s=>console.log("Session created successfully",s),error:s=>console.error("Error creating session",s)})}}logOut(){this.authService.logout(),this.router.navigate(["/login"])}};t.\u0275fac=function(s){return new(s||t)(G(Nt),G(bt),G(xt),G(Pi))},t.\u0275cmp=me({type:t,selectors:[["app-home-page"]],standalone:!0,features:[ge],decls:22,vars:2,consts:[[3,"activePage"],[1,"overlay"],[1,"container","h-100"],[1,"d-flex","h-100","text-center","align-items-center"],[1,"w-100","text-white"],[1,"lead","mb-0"],[1,"display-3"],[1,"lead","mb-0","fst-italic"],[1,"wrapper"],[1,"container"],[1,"row"],[1,"col-lg-6"],[1,"main-heading"],[1,"info-text"]],template:function(s,c){s&1&&(te(0,"app-header",0),T(1,"header"),te(2,"div",1),T(3,"div",2)(4,"div",3)(5,"div",4),te(6,"p",5),T(7,"h1",6),k(8,"URBAN ROOT"),P(),T(9,"p",7),te(10,"small"),P()()()()(),T(11,"section",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h2"),k(17,"Bienvenue,"),P(),T(18,"h1"),k(19),P(),T(20,"p",13),k(21," Build a beautiful, modern website with flexible components built from scratch. "),P()()()()()()),s&2&&(Me("activePage",c.activePage),ne(19),qt(" ",c.profile.name,""))},dependencies:[ye,ot],styles:['section[_ngcontent-%COMP%]{background-color:#000}header[_ngcontent-%COMP%]{position:relative;background-color:#000;height:100vh;min-height:25rem;width:100%;overflow:hidden}video[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;min-width:100%;min-height:100%;width:auto;height:auto;z-index:0;-ms-transform:translateX(-50%) translateY(-50%);-moz-transform:translateX(-50%) translateY(-50%);-webkit-transform:translateX(-50%) translateY(-50%);transform:translate(-50%) translateY(-50%)}@media (pointer: coarse) and (hover: none){video[_ngcontent-%COMP%]{display:none}}.display-3[_ngcontent-%COMP%]{font-size:20vh}.container[_ngcontent-%COMP%]{position:relative;z-index:2}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%;background-image:url("./media/jardin-GDPABV7J.jpg");background-repeat:no-repeat;background-size:cover;opacity:.5;z-index:1}.wrapper[_ngcontent-%COMP%]{padding:50px 0}.main-heading[_ngcontent-%COMP%]{position:relative;top:10vh}.main-heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:86px;font-weight:700;color:#e18b13}.main-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:46px;font-weight:700;color:#fff}.info-text[_ngcontent-%COMP%]{font-size:16px;color:#666;margin-bottom:150px;margin-top:19px}.btn_wrapper[_ngcontent-%COMP%]{margin-top:20px}.btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s}.btn.view_more_btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn.documentation_btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;margin-left:10px}.btn.view_more_btn[_ngcontent-%COMP%]:hover, .btn.documentation_btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.team_img_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200vh;height:200vh;display:block;border-radius:5px;position:relative;top:0vh;right:20vh}@media (max-width: 768px){.display-3[_ngcontent-%COMP%], .main-heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:15vw}}@media (max-width: 480px){.display-3[_ngcontent-%COMP%]{font-size:20vw}.main-heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:15vw}}']});let r=t;return r})();var gh=(()=>{let t=class t{constructor(){this.authService=D(Nt)}signInWithGoogle(){this.authService.login()}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=me({type:t,selectors:[["app-google-log-in"]],standalone:!0,features:[ge],decls:8,vars:0,consts:[[1,"login-message"],[1,"login-button"],["id","google-login-button",1,"login-button","btn","btn-primary",3,"click"]],template:function(s,c){s&1&&(T(0,"div",0)(1,"h1"),k(2,"Message important"),P(),T(3,"p"),k(4,"En vous connectant, vous acceptez nos CGU et autorisez l'utilisation de votre g\xE9olocalisation."),P(),T(5,"div",1)(6,"div",2),je("click",function(){return c.signInWithGoogle()}),k(7,"Se connecter avec Google"),P()()())}});let r=t;return r})();function pm(r,t){if(r&1&&(T(0,"div",3)(1,"div",4)(2,"div",5),k(3),P(),T(4,"div",6),k(5),P(),T(6,"div",7),k(7),P(),T(8,"div",8),k(9),P(),T(10,"div",9),k(11),P()()()),r&2){let a=t.$implicit;ne(3),wt(a.date),ne(2),wt(a.time),ne(2),wt(a.name),ne(2),qt("",a.temperature," \xB0C"),ne(2),wt(a.weather)}}var vh=(()=>{let t=class t{constructor(n,s){this.sessionService=n,this.authService=s,this.sessions=[],this.activePage="historique"}getClickedRegionCode(n){console.log(n)}ngOnInit(){this.authService.profile$.subscribe(n=>{n&&(this.userEmail=n.email,this.retrieveUserSessions())})}retrieveUserSessions(){this.userEmail?this.sessionService.getUserSessions(this.userEmail).subscribe(n=>{this.sessions=n},n=>{console.error("Failed to retrieve user sessions:",n)}):console.error("User email not available")}};t.\u0275fac=function(s){return new(s||t)(G(Pi),G(Nt))},t.\u0275cmp=me({type:t,selectors:[["app-historique"]],standalone:!0,features:[ge],decls:5,vars:2,consts:[[3,"activePage"],[1,"session-list"],["class","session-item",4,"ngFor","ngForOf"],[1,"session-item"],[1,"session-info"],[1,"session-date"],[1,"session-time"],[1,"session-location"],[1,"session-temperature"],[1,"session-weather"]],template:function(s,c){s&1&&(te(0,"app-header",0),T(1,"p"),k(2,"historique works!"),P(),T(3,"div",1),Gt(4,pm,12,5,"div",2),P()),s&2&&(Me("activePage",c.activePage),ne(4),Me("ngForOf",c.sessions))},dependencies:[ot,ye,Yn]});let r=t;return r})();var at=ml(Bo());var _h=(()=>{let t=class t{constructor(n){this.http=n,this.cityName="",this.airQuality=""}ngAfterViewInit(){this.loadMap()}getCurrentDay(){let n=new Date,s={weekday:"long",year:"numeric",month:"long",day:"numeric"};return n.toLocaleDateString("fr-FR")}getCurrentPosition(){return new Zn(n=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(s=>{n.next({latitude:s.coords.latitude,longitude:s.coords.longitude}),n.complete()}):n.error()})}loadWeatherData(n,s){let c="07e6c440f864f9dbfd33a5035c3b536c",h=`https://nominatim.openstreetmap.org/reverse?lat=${n}&lon=${s}&format=json`;this.http.get(h).subscribe(d=>{this.cityName=d.address.city||d.address.town||d.address.village;let m=`https://api.openweathermap.org/data/2.5/weather?q=${this.cityName}&appid=${c}&units=metric`,p=`http://api.openweathermap.org/data/2.5/air_pollution/forecast?lat=${n}&lon=${s}&appid=${c}`;this.http.get(m).subscribe(w=>{this.weatherData=w,this.http.get(p).subscribe(x=>{this.airQualityData=x,this.showWeatherInfo(n,s)})})})}showWeatherInfo(n,s){let c=`
      <h3>${this.weatherData.name}</h3>
      <p>${this.weatherData.weather[0].description}</p>
      <p>Temperature: ${this.weatherData.main.temp} \xB0C</p>
      <p>Air Quality: ${this.airQualityData.list[0].main.aqi}</p>
    `,h=at.icon({iconUrl:"assets/images/marker-icon.png",shadowUrl:"assets/images/marker-shadow.png",popupAnchor:[13,0]});at.marker([n,s],{icon:h}).bindPopup(c).addTo(this.map)}addRandomMarkers(n,s){for(let c=0;c<3;c++){let h=n+(Math.random()-.3)*.2,d=s+(Math.random()-.3)*.2,m=at.icon({iconUrl:"assets/images/custom-marker.png",shadowUrl:"assets/images/marqueur-demplacement.png",iconSize:[30,50],iconAnchor:[15,50],shadowSize:[50,50]});at.marker([h,d],{icon:m,title:"",alt:"jardin"}).addTo(this.map)}}loadMap(){this.map=at.map("map").setView([0,0],1),at.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(this.map),this.getCurrentPosition().subscribe(n=>{let{latitude:s,longitude:c}=n;this.map.flyTo([s,c],11),this.loadWeatherData(s,c),this.addRandomMarkers(s,c)})}};t.\u0275fac=function(s){return new(s||t)(G(Ct))},t.\u0275cmp=me({type:t,selectors:[["app-france-map"]],standalone:!0,features:[ge],decls:25,vars:3,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container-fluid","py-3"],[1,"dashboard-title"],[1,"row"],[1,"col-md-6"],["id","map",1,"dashboard-map"],[1,"dashboard-section"],[1,"meteo"],[1,"meteo-left"],[1,"weather-info"],[1,"weather-description"],[1,"weather-temperature"],[1,"air-quality"]],template:function(s,c){s&1&&(T(0,"html",0)(1,"head"),te(2,"meta",1)(3,"meta",2)(4,"meta",3),T(5,"title"),k(6,"Document"),P()(),T(7,"body")(8,"div",4)(9,"h1",5),k(10,"Angular Leaflet"),P(),T(11,"div",6)(12,"div",7),te(13,"div",8),P(),T(14,"div",7)(15,"section",9)(16,"div",10)(17,"div",11)(18,"div",12)(19,"p",13),k(20),P(),T(21,"p",14),k(22),P(),T(23,"p",15),k(24),P()()()()()()()()()()),s&2&&(ne(20),wt(c.weatherData==null||c.weatherData.weather[0]==null?null:c.weatherData.weather[0].description),ne(2),qt("",c.weatherData==null||c.weatherData.main==null?null:c.weatherData.main.temp,"\xB0C"),ne(2),qt("Qualit\xE9 de l'air: ",c.airQualityData==null||c.airQualityData.list[0]==null||c.airQualityData.list[0].main==null?null:c.airQualityData.list[0].main.aqi,""))},dependencies:[ye],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{background:#130f0f3b;border-radius:16px;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(6.5px);-webkit-backdrop-filter:blur(6.5px);height:100vh}.dashboard-title[_ngcontent-%COMP%]{font-size:34px;font-weight:700;margin-bottom:20px}.dashboard-map[_ngcontent-%COMP%]{position:relative;top:0vh;height:80vh;width:150vh;border:2px solid #007bff;border-radius:10px}.dashboard-section[_ngcontent-%COMP%]{position:relative;right:10vh;background:#ffffff84;border-radius:16px;box-shadow:0 4px 30px #fff;backdrop-filter:blur(6.5px);-webkit-backdrop-filter:blur(6.5px);padding:20px;margin-top:20px;margin-left:58vh}.meteo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.meteo-left[_ngcontent-%COMP%]{display:flex;align-items:center}.weather-icon[_ngcontent-%COMP%]{margin-right:10px;position:relative;top:20vh}.weather-image[_ngcontent-%COMP%]{width:50vh}.weather-info[_ngcontent-%COMP%]{font-size:16px}.weather-description[_ngcontent-%COMP%]{font-weight:700}.weather-temperature[_ngcontent-%COMP%]{margin-top:5px;font-size:60px;align-items:center;font-weight:700}.meteo-right[_ngcontent-%COMP%]{font-size:16px}.air-quality[_ngcontent-%COMP%]{font-weight:700}.container[_ngcontent-%COMP%]{max-width:800px;width:100%;background-color:#4c76774b;color:#fff;border-radius:25px;box-shadow:0 15px 15px #00000042}.wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 4fr;grid-gap:1rem}.img_section[_ngcontent-%COMP%]{border-radius:25px;background-position:center;background-repeat:no-repeat;background-size:cover;position:relative;transform:scale(1.03) perspective(200px)}.img_section[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;background:linear-gradient(135deg,#2a3e4654 10%,#29404e42);opacity:.5;z-index:-1;border-radius:25px}.default_info[_ngcontent-%COMP%]{padding:1.5rem;text-align:center}.default_info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;object-fit:cover;margin:0 auto}.default_info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem}.default_info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;text-transform:capitalize}.weather_temp[_ngcontent-%COMP%]{font-size:4rem;font-weight:800}.content_section[_ngcontent-%COMP%]{padding:1.5rem}.content_section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:1.5rem 0;position:relative}.content_section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:84%;outline:none;background:transparent;border:1px solid #37474f;border-radius:5px;padding:.7rem 1rem;font-family:inherit;color:#8dfc0e;font-size:1.5rem}.content_section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;border-top-right-radius:8px;border-bottom-right-radius:8px;padding:1rem .7rem;font-family:inherit;font-size:1.2rem;outline:none;border:none;background:#31af85;color:#fff;cursor:pointer}.day_info[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.4rem 0}.day_info[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600}.list_content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;list-style-type:none;margin:3rem 0rem;box-shadow:0 5px 15px #00000059}.list_content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem;display:flex;flex-direction:column;align-items:center;border-radius:1rem;transition:all .3s ease-in}.list_content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#6cdfdf;color:#0e1111;box-shadow:0 5px 15px #2bff009d;cursor:pointer}.list_content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;object-fit:cover}.icons[_ngcontent-%COMP%]{opacity:0}.icons.fadeIn[_ngcontent-%COMP%]{animation:.5s _ngcontent-%COMP%_fadeIn forwards;animation-delay:.7s}@keyframes _ngcontent-%COMP%_fadeIn{to{transition:all .5s ease-in;opacity:1}}']});let r=t;return r})();var yh=(()=>{let t=class t{constructor(){this.activePage="regions"}getClickedRegionCode(n){console.log(n)}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=me({type:t,selectors:[["app-regions"]],standalone:!0,features:[ge],decls:2,vars:1,consts:[[3,"activePage"],[3,"sendRegionCode"]],template:function(s,c){s&1&&(te(0,"app-header",0),T(1,"app-france-map",1),je("sendRegionCode",function(d){return c.getClickedRegionCode(d)}),P()),s&2&&Me("activePage",c.activePage)},dependencies:[ot,_h,ye]});let r=t;return r})();var wh=(()=>{let t=class t{constructor(){this.activePage="guide-jardin"}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=me({type:t,selectors:[["app-guide-jardin"]],standalone:!0,features:[ge],decls:50,vars:1,consts:[[3,"activePage"],[1,"guide-container"],[1,"section-with-image"],[1,"image"],["src","../../../../assets/img/intro.jpg","alt","Introduction au jardinage urbain"],[1,"text"],[1,"section-with-image","reverse-layout"],["src","../../../../assets/img/base.jpg","alt","Les bases du jardinage urbain"],["src","../../../../assets/img/fin.jpg","alt","Pratiques durables"]],template:function(s,c){s&1&&(te(0,"app-header",0),T(1,"div",1)(2,"h1"),k(3,"Guide de Jardinage Urbain et Durabilit\xE9"),P(),T(4,"section",2)(5,"div",3),te(6,"img",4),P(),T(7,"div",5)(8,"h2"),k(9,"Introduction"),P(),T(10,"p"),k(11,"Le jardinage urbain est bien plus qu'un simple passe-temps; c'est une approche durable pour int\xE9grer la nature dans nos vies citadines. Dans ce guide, vous apprendrez comment cr\xE9er un espace vert, m\xEAme dans les environnements les plus restreints, tout en adoptant des pratiques respectueuses de l'environnement."),P()()(),T(12,"section",6)(13,"div",5)(14,"h2"),k(15,"Les Bases du Jardinage Urbain"),P(),T(16,"ul")(17,"li")(18,"strong"),k(19,"Choisir le bon espace :"),P(),k(20," Identifiez les endroits ensoleill\xE9s et abrit\xE9s de votre balcon ou de votre terrasse. Optez pour des bacs ou des jardini\xE8res adapt\xE9s \xE0 l'espace disponible."),P(),T(21,"li")(22,"strong"),k(23,"Types de plantes :"),P(),k(24," Optez pour des plantes qui s'adaptent bien aux conditions urbaines, comme les herbes aromatiques, les l\xE9gumes-feuilles et les plantes grimpantes. Pensez \xE9galement \xE0 des plantes d'int\xE9rieur r\xE9sistantes pour embellir vos espaces."),P(),T(25,"li")(26,"strong"),k(27,"Pr\xE9paration du sol :"),P(),k(28," Utilisez du terreau de qualit\xE9 enrichi en compost. Ajoutez des amendements organiques pour am\xE9liorer la structure et la fertilit\xE9 du sol, crucial pour la sant\xE9 de vos plantes en milieu urbain."),P()()(),T(29,"div",3),te(30,"img",7),P()(),T(31,"section",2)(32,"div",3),te(33,"img",8),P(),T(34,"div",5)(35,"h2"),k(36,"Pratiques Durables"),P(),T(37,"ul")(38,"li")(39,"strong"),k(40,"Compostage :"),P(),k(41," Transformez vos d\xE9chets organiques en compost pour nourrir vos plantes. Utilisez un composteur adapt\xE9 aux petits espaces urbains, comme un composteur \xE0 lombrics."),P(),T(42,"li")(43,"strong"),k(44,"Utilisation de l'eau :"),P(),k(45," R\xE9duisez votre consommation d'eau en installant des syst\xE8mes d'arrosage goutte-\xE0-goutte et en collectant l'eau de pluie. Mulchez vos plantes pour conserver l'humidit\xE9 du sol."),P(),T(46,"li")(47,"strong"),k(48,"Choix de plantes :"),P(),k(49," S\xE9lectionnez des esp\xE8ces indig\xE8nes ou r\xE9sistantes \xE0 la s\xE9cheresse qui n\xE9cessitent moins d'eau et sont mieux adapt\xE9es \xE0 votre climat local."),P()()()()()),s&2&&Me("activePage",c.activePage)},dependencies:[ye,ot],styles:[".guide-container[_ngcontent-%COMP%]{max-width:900px;margin:50px auto 0;padding:30px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#fff;border-radius:12px;box-shadow:0 8px 20px #00000026}h1[_ngcontent-%COMP%]{text-align:center;color:#2e7d32;margin-bottom:40px;font-size:36px;text-transform:uppercase;letter-spacing:2px;text-shadow:1px 1px 2px rgba(0,0,0,.1)}.section-with-image[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:60px;transition:transform .3s ease-in-out,box-shadow .3s ease-in-out;padding:20px;border-radius:10px;background-color:#f3f4f6}.section-with-image[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 20px #0003}.reverse-layout[_ngcontent-%COMP%]{flex-direction:row-reverse}.text[_ngcontent-%COMP%]{flex:1;padding:20px}.text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#388e3c;margin-bottom:20px;font-size:30px;border-bottom:3px solid #4caf50;padding-bottom:12px;text-transform:uppercase}.text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:18px;line-height:1.8;color:#555;margin-bottom:20px}.text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;margin-left:20px;padding-left:20px}.text[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:15px}a[_ngcontent-%COMP%]{color:#1e88e5;text-decoration:none;font-weight:700}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.image[_ngcontent-%COMP%]{flex:1;padding:20px}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:12px;box-shadow:0 4px 15px #0003;transition:opacity .3s ease-in-out,transform .3s ease-in-out}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:.9;transform:scale(1.05)}@media (max-width: 768px){.section-with-image[_ngcontent-%COMP%]{flex-direction:column;margin-bottom:40px}.text[_ngcontent-%COMP%]{padding:10px}.text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:15px;padding-bottom:8px}.text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:16px;line-height:1.6}.text[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.image[_ngcontent-%COMP%]{padding:10px;margin-top:20px}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 8px #00000026}}"]});let r=t;return r})();var Mh=(()=>{let t=class t{constructor(n,s){this._renderer=n,this._elementRef=s,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(n,s){this._renderer.setProperty(this._elementRef.nativeElement,n,s)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};t.\u0275fac=function(s){return new(s||t)(G(Gi),G($i))},t.\u0275dir=gt({type:t});let r=t;return r})(),mm=(()=>{let t=class t extends Mh{};t.\u0275fac=(()=>{let n;return function(c){return(n||(n=$t(t)))(c||t)}})(),t.\u0275dir=gt({type:t,features:[qi]});let r=t;return r})(),Ih=new ee("");var gm={provide:Ih,useExisting:Es(()=>jr),multi:!0};function vm(){let r=pi()?pi().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}var _m=new ee(""),jr=(()=>{let t=class t extends Mh{constructor(n,s,c){super(n,s),this._compositionMode=c,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!vm())}writeValue(n){let s=n??"";this.setProperty("value",s)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};t.\u0275fac=function(s){return new(s||t)(G(Gi),G($i),G(_m,8))},t.\u0275dir=gt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,c){s&1&&je("input",function(d){return c._handleInput(d.target.value)})("blur",function(){return c.onTouched()})("compositionstart",function(){return c._compositionStart()})("compositionend",function(d){return c._compositionEnd(d.target.value)})},features:[Vs([gm]),qi]});let r=t;return r})();var ym=new ee(""),wm=new ee("");function Ah(r){return r!=null}function kh(r){return qn(r)?Ce(r):r}function Dh(r){let t={};return r.forEach(a=>{t=a!=null?M(M({},t),a):t}),Object.keys(t).length===0?null:t}function Lh(r,t){return t.map(a=>a(r))}function bm(r){return!r.validate}function Oh(r){return r.map(t=>bm(t)?t:a=>t.validate(a))}function Cm(r){if(!r)return null;let t=r.filter(Ah);return t.length==0?null:function(a){return Dh(Lh(a,t))}}function Rh(r){return r!=null?Cm(Oh(r)):null}function xm(r){if(!r)return null;let t=r.filter(Ah);return t.length==0?null:function(a){let n=Lh(a,t).map(kh);return Cl(n).pipe(W(Dh))}}function Nh(r){return r!=null?xm(Oh(r)):null}function bh(r,t){return r===null?[t]:Array.isArray(r)?[...r,t]:[r,t]}function Sm(r){return r._rawValidators}function Pm(r){return r._rawAsyncValidators}function Jo(r){return r?Array.isArray(r)?r:[r]:[]}function Ur(r,t){return Array.isArray(r)?r.includes(t):r===t}function Ch(r,t){let a=Jo(t);return Jo(r).forEach(s=>{Ur(a,s)||a.push(s)}),a}function xh(r,t){return Jo(t).filter(a=>!Ur(r,a))}var Vr=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Rh(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Nh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,a){return this.control?this.control.hasError(t,a):!1}getError(t,a){return this.control?this.control.getError(t,a):null}},Xo=class extends Vr{get formDirective(){return null}get path(){return null}},xn=class extends Vr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Yo=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Tm={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},C_=he(M({},Tm),{"[class.ng-submitted]":"isSubmitted"}),Fh=(()=>{let t=class t extends Yo{constructor(n){super(n)}};t.\u0275fac=function(s){return new(s||t)(G(xn,2))},t.\u0275dir=gt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,c){s&2&&Hl("ng-untouched",c.isUntouched)("ng-touched",c.isTouched)("ng-pristine",c.isPristine)("ng-dirty",c.isDirty)("ng-valid",c.isValid)("ng-invalid",c.isInvalid)("ng-pending",c.isPending)},features:[qi]});let r=t;return r})();var bn="VALID",Fr="INVALID",Ti="PENDING",Cn="DISABLED";function Em(r){return(zr(r)?r.validators:r)||null}function Mm(r){return Array.isArray(r)?Rh(r):r||null}function Im(r,t){return(zr(t)?t.asyncValidators:r)||null}function Am(r){return Array.isArray(r)?Nh(r):r||null}function zr(r){return r!=null&&!Array.isArray(r)&&typeof r=="object"}var Qo=class{constructor(t,a){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(a)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===bn}get invalid(){return this.status===Fr}get pending(){return this.status==Ti}get disabled(){return this.status===Cn}get enabled(){return this.status!==Cn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Ch(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ch(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(xh(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(xh(t,this._rawAsyncValidators))}hasValidator(t){return Ur(this._rawValidators,t)}hasAsyncValidator(t){return Ur(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(a=>{a.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(a=>{a.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ti,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let a=this._parentMarkedDirty(t.onlySelf);this.status=Cn,this.errors=null,this._forEachChild(n=>{n.disable(he(M({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(M({},t),{skipPristineCheck:a})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let a=this._parentMarkedDirty(t.onlySelf);this.status=bn,this._forEachChild(n=>{n.enable(he(M({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(he(M({},t),{skipPristineCheck:a})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bn||this.status===Ti)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(a=>a._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cn:bn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ti,this._hasOwnPendingAsyncValidator=!0;let a=kh(this.asyncValidator(this));this._asyncValidationSubscription=a.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,a={}){this.errors=t,this._updateControlsErrors(a.emitEvent!==!1)}get(t){let a=t;return a==null||(Array.isArray(a)||(a=a.split(".")),a.length===0)?null:a.reduce((n,s)=>n&&n._find(s),this)}getError(t,a){let n=a?this.get(a):this;return n&&n.errors?n.errors[t]:null}hasError(t,a){return!!this.getError(t,a)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new yt,this.statusChanges=new yt}_calculateStatus(){return this._allControlsDisabled()?Cn:this.errors?Fr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ti)?Ti:this._anyControlsHaveStatus(Fr)?Fr:bn}_anyControlsHaveStatus(t){return this._anyControls(a=>a.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){zr(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let a=this._parent&&this._parent.dirty;return!t&&!!a&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Mm(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Am(this._rawAsyncValidators)}};var Uh=new ee("CallSetDisabledState",{providedIn:"root",factory:()=>ea}),ea="always";function km(r,t){return[...t.path,r]}function Dm(r,t,a=ea){Om(r,t),t.valueAccessor.writeValue(r.value),(r.disabled||a==="always")&&t.valueAccessor.setDisabledState?.(r.disabled),Rm(r,t),Fm(r,t),Nm(r,t),Lm(r,t)}function Sh(r,t){r.forEach(a=>{a.registerOnValidatorChange&&a.registerOnValidatorChange(t)})}function Lm(r,t){if(t.valueAccessor.setDisabledState){let a=n=>{t.valueAccessor.setDisabledState(n)};r.registerOnDisabledChange(a),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(a)})}}function Om(r,t){let a=Sm(r);t.validator!==null?r.setValidators(bh(a,t.validator)):typeof a=="function"&&r.setValidators([a]);let n=Pm(r);t.asyncValidator!==null?r.setAsyncValidators(bh(n,t.asyncValidator)):typeof n=="function"&&r.setAsyncValidators([n]);let s=()=>r.updateValueAndValidity();Sh(t._rawValidators,s),Sh(t._rawAsyncValidators,s)}function Rm(r,t){t.valueAccessor.registerOnChange(a=>{r._pendingValue=a,r._pendingChange=!0,r._pendingDirty=!0,r.updateOn==="change"&&Vh(r,t)})}function Nm(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,r.updateOn==="blur"&&r._pendingChange&&Vh(r,t),r.updateOn!=="submit"&&r.markAsTouched()})}function Vh(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Fm(r,t){let a=(n,s)=>{t.valueAccessor.writeValue(n),s&&t.viewToModelUpdate(n)};r.registerOnChange(a),t._registerOnDestroy(()=>{r._unregisterOnChange(a)})}function Um(r,t){if(!r.hasOwnProperty("model"))return!1;let a=r.model;return a.isFirstChange()?!0:!Object.is(t,a.currentValue)}function Vm(r){return Object.getPrototypeOf(r.constructor)===mm}function jm(r,t){if(!t)return null;Array.isArray(t);let a,n,s;return t.forEach(c=>{c.constructor===jr?a=c:Vm(c)?n=c:s=c}),s||n||a||null}function Ph(r,t){let a=r.indexOf(t);a>-1&&r.splice(a,1)}function Th(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===2&&"value"in r&&"disabled"in r}var zm=class extends Qo{constructor(t=null,a,n){super(Em(a),Im(n,a)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(a),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zr(a)&&(a.nonNullable||a.initialValueIsDefault)&&(Th(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,a={}){this.value=this._pendingValue=t,this._onChange.length&&a.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,a.emitViewToModelChange!==!1)),this.updateValueAndValidity(a)}patchValue(t,a={}){this.setValue(t,a)}reset(t=this.defaultValue,a={}){this._applyFormState(t),this.markAsPristine(a),this.markAsUntouched(a),this.setValue(this.value,a),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ph(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ph(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Th(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Bm={provide:xn,useExisting:Es(()=>ta)},Eh=Promise.resolve(),ta=(()=>{let t=class t extends xn{constructor(n,s,c,h,d,m){super(),this._changeDetectorRef=d,this.callSetDisabledState=m,this.control=new zm,this._registered=!1,this.name="",this.update=new yt,this._parent=n,this._setValidators(s),this._setAsyncValidators(c),this.valueAccessor=jm(this,h)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let s=n.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Um(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Dm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Eh.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let s=n.isDisabled.currentValue,c=s!==0&&fi(s);Eh.then(()=>{c&&!this.control.disabled?this.control.disable():!c&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?km(n,this._parent):[n]}};t.\u0275fac=function(s){return new(s||t)(G(Xo,9),G(ym,10),G(wm,10),G(Ih,10),G(bt,8),G(Uh,8))},t.\u0275dir=gt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[kt.None,"disabled","isDisabled"],model:[kt.None,"ngModel","model"],options:[kt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Vs([Bm]),qi,Hi]});let r=t;return r})();var Zm=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Zt({});let r=t;return r})();var jh=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:Uh,useValue:n.callSetDisabledState??ea}]}}};t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Zt({imports:[Zm]});let r=t;return r})();var zh=(()=>{let t=class t{constructor(n){this.http=n,this.apiUrl="http://localhost:5000/api/posts"}getPosts(){return this.http.get(this.apiUrl)}createPost(n,s){return this.http.post(this.apiUrl,{token:n,content:s})}};t.\u0275fac=function(s){return new(s||t)(F(Ct))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function Wm(r,t){if(r&1&&(T(0,"div")(1,"p"),k(2),P(),T(3,"small"),k(4),Xl(5,"date"),P()()),r&2){let a=t.$implicit;ne(2),Gl("",a.userId.displayName,": ",a.content,""),ne(2),wt(Yl(5,3,a.createdAt,"short"))}}var Bh=(()=>{let t=class t{constructor(n){this.forumService=n,this.activePage="Forum",this.posts=[],this.newPostContent=""}ngOnInit(){this.loadPosts()}loadPosts(){this.forumService.getPosts().subscribe(n=>{this.posts=n},n=>{console.error("Erreur lors du chargement des posts:",n)})}submitPost(){this.forumService.createPost("VOTRE_TOKEN_Ici",this.newPostContent).subscribe(s=>{this.posts.push(s),this.newPostContent=""},s=>{console.error("Erreur lors de la cr\xE9ation du post:",s)})}};t.\u0275fac=function(s){return new(s||t)(G(zh))},t.\u0275cmp=me({type:t,selectors:[["app-forum"]],standalone:!0,features:[ge],decls:8,vars:3,consts:[[3,"activePage"],["placeholder","\xC9crivez votre message ici...",3,"ngModelChange","ngModel"],[3,"click"],[4,"ngFor","ngForOf"]],template:function(s,c){s&1&&(te(0,"app-header",0),T(1,"div")(2,"h2"),k(3,"Forum"),P(),T(4,"textarea",1),Jl("ngModelChange",function(d){return Kl(c.newPostContent,d)||(c.newPostContent=d),d}),P(),T(5,"button",2),je("click",function(){return c.submitPost()}),k(6,"Envoyer"),P(),Gt(7,Wm,6,6,"div",3),P()),s&2&&(Me("activePage",c.activePage),ne(4),ql("ngModel",c.newPostContent),ne(3),Me("ngForOf",c.posts))},dependencies:[ye,Yn,oc,ot,jh,jr,Fh,ta],styles:["div[_ngcontent-%COMP%]{padding:20px}textarea[_ngcontent-%COMP%]{width:100%;height:100px}button[_ngcontent-%COMP%]{margin-top:10px}"]});let r=t;return r})();var Zh=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:gh},{path:"home",component:mh},{path:"historique",component:vh},{path:"regions",component:yh},{path:"guide-jardin",component:wh},{path:"Forum",component:Bh}];var Gm="@",qm=(()=>{let t=class t{constructor(n,s,c,h,d){this.doc=n,this.delegate=s,this.zone=c,this.animationType=h,this.moduleImpl=d,this._rendererFactoryPromise=null,this.scheduler=D(Vl,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-RSYRRXTK.js")).catch(s=>{throw new ae(5300,!1)}).then(({\u0275createEngine:s,\u0275AnimationRendererFactory:c})=>{this._engine=s(this.animationType,this.doc,this.scheduler);let h=new c(this.delegate,this._engine,this.zone);return this.delegate=h,h})}createRenderer(n,s){let c=this.delegate.createRenderer(n,s);if(c.\u0275type===0)return c;typeof c.throwOnSyntheticProps=="boolean"&&(c.throwOnSyntheticProps=!1);let h=new ia(c);return s?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{let m=d.createRenderer(n,s);h.use(m)}).catch(d=>{h.use(c)}),h}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(s){Rs()},t.\u0275prov=V({token:t,factory:t.\u0275fac});let r=t;return r})(),ia=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let a of this.replay)a(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,a){return this.delegate.createElement(t,a)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,a){this.delegate.appendChild(t,a)}insertBefore(t,a,n,s){this.delegate.insertBefore(t,a,n,s)}removeChild(t,a,n){this.delegate.removeChild(t,a,n)}selectRootElement(t,a){return this.delegate.selectRootElement(t,a)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,a,n,s){this.delegate.setAttribute(t,a,n,s)}removeAttribute(t,a,n){this.delegate.removeAttribute(t,a,n)}addClass(t,a){this.delegate.addClass(t,a)}removeClass(t,a){this.delegate.removeClass(t,a)}setStyle(t,a,n,s){this.delegate.setStyle(t,a,n,s)}removeStyle(t,a,n){this.delegate.removeStyle(t,a,n)}setProperty(t,a,n){this.shouldReplay(a)&&this.replay.push(s=>s.setProperty(t,a,n)),this.delegate.setProperty(t,a,n)}setValue(t,a){this.delegate.setValue(t,a)}listen(t,a,n){return this.shouldReplay(a)&&this.replay.push(s=>s.listen(t,a,n)),this.delegate.listen(t,a,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(Gm)}};function Hh(r="animations"){return Ns("NgAsyncAnimations"),vt([{provide:$n,useFactory:(t,a,n)=>new qm(t,a,n,r),deps:[Pe,hr,Ue]},{provide:Nl,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var $h={providers:[ah(Zh),{provide:ec,useValue:"fr-FR"},vc(),ph(),Hh()]};function Km(r){let t=r,a=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*\.?/,"").length,s=parseInt(r.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return a===0||a===1?1:s===0&&a!==0&&a%1e6===0&&n===0||!(s>=0&&s<=5)?4:5}var Wh=["fr",[["AM","PM"],void 0,void 0],void 0,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"]],void 0,[["av. J.-C.","ap. J.-C."],void 0,["avant J\xE9sus-Christ","apr\xE8s J\xE9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xE0' {0}",void 0],[",","\u202F",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[void 0,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[void 0,"\xA5"],COP:["$CO","$"],CYP:["\xA3CY"],EGP:[void 0,"\xA3E"],FJD:["$FJ","$"],FKP:["\xA3FK","\xA3"],FRF:["F"],GBP:["\xA3GB","\xA3"],GIP:["\xA3GI","\xA3"],HKD:[void 0,"$"],IEP:["\xA3IE"],ILP:["\xA3IL"],ITL:["\u20A4IT"],JPY:[void 0,"\xA5"],KMF:[void 0,"FC"],LBP:["\xA3LB","\xA3L"],MTP:["\xA3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[void 0,"$C"],NZD:["$NZ","$"],PHP:[void 0,"\u20B1"],RHD:["$RH"],RON:[void 0,"L"],RWF:[void 0,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[void 0,"$T"],TTD:["$TT","$"],TWD:[void 0,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[void 0,"$"],XPF:["FCFP"],ZMW:[void 0,"Kw"]},"ltr",Km];var Gh=(()=>{let t=class t{constructor(){this.title="my-app",rc(Wh)}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=me({type:t,selectors:[["app-root"]],standalone:!0,features:[ge],decls:2,vars:0,template:function(s,c){s&1&&(T(0,"div"),te(1,"router-outlet"),P())},dependencies:[ye,Ro]});let r=t;return r})();Pc(Gh,$h).catch(r=>console.error(r));
